"use strict";(self.webpackChunktraining_log=self.webpackChunktraining_log||[]).push([[179],{2011:(rt,Ce,O)=>{O.d(Ce,{Dh:()=>fe,GT:()=>pe,cc:()=>Ae,hO:()=>$e,on:()=>G,pX:()=>ee,xv:()=>de});var c=O(5e3),Y=O(127),P=O(5813);rt=O.hmd(rt);const ae=["ngOnDestroy"],ee=(we,et,We,Se={})=>new Proxy(we,{get:(ve,be)=>We.runOutsideAngular(()=>{var Ue;if(we[be])return(null===(Ue=null==Se?void 0:Se.spy)||void 0===Ue?void 0:Ue.get)&&Se.spy.get(be,we[be]),we[be];if(ae.indexOf(be)>-1)return()=>{};const He=et.toPromise().then(ne=>{const W=ne&&ne[be];return"function"==typeof W?W.bind(ne):W&&W.then?W.then(re=>We.run(()=>re)):We.run(()=>W)});return new Proxy(()=>{},{get:(ne,W)=>He[W],apply:(ne,W,re)=>He.then(ge=>{var oe;const ke=ge&&ge(...re);return(null===(oe=null==Se?void 0:Se.spy)||void 0===oe?void 0:oe.apply)&&Se.spy.apply(be,re,ke),ke})})})}),pe=(we,et)=>{et.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Se=>{Object.defineProperty(we.prototype,Se,Object.getOwnPropertyDescriptor(We.prototype||We,Se))})})};class J{constructor(et){return et}}const fe=new c.OlP("angularfire2.app.options"),de=new c.OlP("angularfire2.app.name");function G(we,et,We){const ve="object"==typeof We&&We||{};ve.name=ve.name||"string"==typeof We&&We||"[DEFAULT]";const Ue=Y.Z.apps.filter(He=>He&&He.name===ve.name)[0]||et.runOutsideAngular(()=>Y.Z.initializeApp(we,ve));try{JSON.stringify(we)!==JSON.stringify(Ue.options)&&j("error",`${Ue.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new J(Ue)}const j=(we,...et)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...et)},X={provide:J,useFactory:G,deps:[fe,c.R0b,[new c.FiY,de]]};let $e=(()=>{class we{constructor(We){Y.Z.registerVersion("angularfire",P.q4.full,"core"),Y.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,We.toString())}static initializeApp(We,Se){return{ngModule:we,providers:[{provide:fe,useValue:We},{provide:de,useValue:Se}]}}}return we.\u0275fac=function(We){return new(We||we)(c.LFG(c.Lbi))},we.\u0275mod=c.oAB({type:we}),we.\u0275inj=c.cJS({providers:[X]}),we})();function Ae(we,et,We,Se,ve){const[,be,Ue]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===we)||[];if(be)return function Re(we,et){try{return we.toString()===et.toString()}catch(We){return we===et}}(ve,Ue)||(me("error",`${et} was already initialized on the ${We} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:ve,was:Ue})),be;{const He=Se();return globalThis.\u0275AngularfireInstanceCache.push([we,He,ve]),He}}const Le=!!rt.hot,me=(we,...et)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,Ce,O)=>{O.d(Ce,{q4:()=>Md,iC:()=>Kc,HU:()=>Zc,vb:()=>kd,JM:()=>Qs});var c=O(5e3),Y=O(5867),P=O(5861),ae=O(9681),ee=O(2090),pe=O(4859),J=O(1877);const fe="@firebase/installations",j="w:0.5.8",X="FIS_v2",we=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(D){return D instanceof ee.ZR&&D.code.includes("request-failed")}function We({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Se(D){return{token:D.token,requestStatus:2,expiresIn:re(D.expiresIn),creationTime:Date.now()}}function ve(D,I){return be.apply(this,arguments)}function be(){return(be=(0,P.Z)(function*(D,I){const L=(yield I.json()).error;return we.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ue({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function He(D,{refreshToken:I}){const k=Ue(D);return k.append("Authorization",function ge(D){return`${X} ${D}`}(I)),k}function ne(D){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function re(D){return Number(D.replace("s","000"))}function oe(D,I){return ke.apply(this,arguments)}function ke(){return(ke=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:k}){const L=We(D),Z=Ue(D),te=I.getImmediate({optional:!0});if(te){const bt=yield te.getHeartbeatsHeader();bt&&Z.append("x-firebase-client",bt)}const Ke={method:"POST",headers:Z,body:JSON.stringify({fid:k,authVersion:X,appId:D.appId,sdkVersion:j})},tt=yield ne(()=>fetch(L,Ke));if(tt.ok){const bt=yield tt.json();return{fid:bt.fid||k,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Se(bt.authToken)}}throw yield ve("Create Installation",tt)})).apply(this,arguments)}function le(D){return new Promise(I=>{setTimeout(I,D)})}const Kt=/^[cdef][\w-]{21}$/;function ct(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function yt(D){return function Dt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Kt.test(k)?k:""}catch(D){return""}}function ln(D){return`${D.appName}!${D.appId}`}const cn=new Map;function Pr(D,I){const k=ln(D);Yt(k,I),function jt(D,I){const k=function yr(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=D=>{Yt(D.data.key,D.data.fid)}),fi}();k&&k.postMessage({key:D,fid:I}),function As(){0===cn.size&&fi&&(fi.close(),fi=null)}()}(k,I)}function Yt(D,I){const k=cn.get(D);if(k)for(const L of k)L(I)}let fi=null;const ji="firebase-installations-store";let ls=null;function cs(){return ls||(ls=(0,ee.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(ji)})),ls}function dt(D,I){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*(D,I){const k=ln(D),Z=(yield cs()).transaction(ji,"readwrite"),te=Z.objectStore(ji),xe=yield te.get(k);return yield te.put(I,k),yield Z.complete,(!xe||xe.fid!==I.fid)&&Pr(D,I.fid),I})).apply(this,arguments)}function oi(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(D){const I=ln(D),L=(yield cs()).transaction(ji,"readwrite");yield L.objectStore(ji).delete(I),yield L.complete})).apply(this,arguments)}function vr(D,I){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(D,I){const k=ln(D),Z=(yield cs()).transaction(ji,"readwrite"),te=Z.objectStore(ji),xe=yield te.get(k),Ke=I(xe);return void 0===Ke?yield te.delete(k):yield te.put(Ke,k),yield Z.complete,Ke&&(!xe||xe.fid!==Ke.fid)&&Pr(D,Ke.fid),Ke})).apply(this,arguments)}function wn(D){return ai.apply(this,arguments)}function ai(){return(ai=(0,P.Z)(function*(D){let I;const k=yield vr(D.appConfig,L=>{const Z=Ms(L),te=Ma(D,Z);return I=te.registrationPromise,te.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function Ms(D){return Ut(D||{fid:ct(),registrationStatus:0})}function Ma(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(we.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Gt(D,I){return it.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:wt(D)}:{installationEntry:I}}function it(){return(it=(0,P.Z)(function*(D,I){try{const k=yield oe(D,I);return dt(D.appConfig,k)}catch(k){throw et(k)&&409===k.customData.serverCode?yield oi(D.appConfig):yield dt(D.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function wt(D){return pi.apply(this,arguments)}function pi(){return(pi=(0,P.Z)(function*(D){let I=yield Yr(D.appConfig);for(;1===I.registrationStatus;)yield le(100),I=yield Yr(D.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield wn(D);return L||k}return I})).apply(this,arguments)}function Yr(D){return vr(D,I=>{if(!I)throw we.create("installation-not-found");return Ut(I)})}function Ut(D){return function uo(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ai(D,I){return mi.apply(this,arguments)}function mi(){return(mi=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:I},k){const L=ht(D,k),Z=He(D,k),te=I.getImmediate({optional:!0});if(te){const bt=yield te.getHeartbeatsHeader();bt&&Z.append("x-firebase-client",bt)}const Ke={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:j,appId:D.appId}})},tt=yield ne(()=>fetch(L,Ke));if(tt.ok)return Se(yield tt.json());throw yield ve("Generate Auth Token",tt)})).apply(this,arguments)}function ht(D,{fid:I}){return`${We(D)}/${I}/authTokens:generate`}function Mi(D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,P.Z)(function*(D,I=!1){let k;const L=yield vr(D.appConfig,te=>{if(!Nt(te))throw we.create("not-registered");const xe=te.authToken;if(!I&&H(xe))return te;if(1===xe.requestStatus)return k=Ze(D,I),te;{if(!navigator.onLine)throw we.create("app-offline");const Ke=$(te);return k=ft(D,Ke),Ke}});return k?yield k:L.authToken})).apply(this,arguments)}function Ze(D,I){return De.apply(this,arguments)}function De(){return(De=(0,P.Z)(function*(D,I){let k=yield Ye(D.appConfig);for(;1===k.authToken.requestStatus;)yield le(100),k=yield Ye(D.appConfig);const L=k.authToken;return 0===L.requestStatus?Mi(D,I):L})).apply(this,arguments)}function Ye(D){return vr(D,I=>{if(!Nt(I))throw we.create("not-registered");return function he(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ft(D,I){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,P.Z)(function*(D,I){try{const k=yield Ai(D,I),L=Object.assign(Object.assign({},I),{authToken:k});return yield dt(D.appConfig,L),k}catch(k){if(!et(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield dt(D.appConfig,L)}else yield oi(D.appConfig);throw k}})).apply(this,arguments)}function Nt(D){return void 0!==D&&2===D.registrationStatus}function H(D){return 2===D.requestStatus&&!function V(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function $(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ve(){return(Ve=(0,P.Z)(function*(D){const I=D,{installationEntry:k,registrationPromise:L}=yield wn(I);return L?L.catch(console.error):Mi(I).catch(console.error),k.fid})).apply(this,arguments)}function $t(){return($t=(0,P.Z)(function*(D,I=!1){const k=D;return yield xi(k),(yield Mi(k,I)).token})).apply(this,arguments)}function xi(D){return zt.apply(this,arguments)}function zt(){return(zt=(0,P.Z)(function*(D){const{registrationPromise:I}=yield wn(D);I&&(yield I)})).apply(this,arguments)}function ni(D){return we.create("missing-app-config-values",{valueName:D})}const ka="installations",Oe=D=>{const I=D.getProvider("app").getImmediate(),k=function us(D){if(!D||!D.options)throw ni("App Configuration");if(!D.name)throw ni("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!D.options[k])throw ni(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Rt=D=>{const I=D.getProvider("app").getImmediate(),k=(0,ae._getProvider)(I,ka).getImmediate();return{getId:()=>function Q(D){return Ve.apply(this,arguments)}(k),getToken:Z=>function vt(D){return $t.apply(this,arguments)}(k,Z)}};(function fn(){(0,ae._registerComponent)(new pe.wA(ka,Oe,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",Rt,"PRIVATE"))})(),(0,ae.registerVersion)(fe,"0.5.8"),(0,ae.registerVersion)(fe,"0.5.8","esm2017");const gi="@firebase/remote-config",Vn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ff{constructor(I,k,L,Z){this.client=I,this.storage=k,this.storageCache=L,this.logger=Z}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,Z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var k=this;return(0,P.Z)(function*(){const[L,Z]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Z&&k.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Z;I.eTag=Z&&Z.eTag;const te=yield k.client.fetch(I),xe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&xe.push(k.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(xe),te})()}}function cd(D=navigator){return D.languages&&D.languages[0]||D.language}class ul{constructor(I,k,L,Z,te,xe){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=L,this.projectId=Z,this.apiKey=te,this.appId=xe}fetch(I){var k=this;return(0,P.Z)(function*(){const[L,Z]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},tt={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:k.appId,language_code:cd()},bt={method:"POST",headers:Ke,body:JSON.stringify(tt)},Bt=fetch(xe,bt),Tt=new Promise((Ji,es)=>{I.signal.addEventListener(()=>{const So=new Error("The operation was aborted.");So.name="AbortError",es(So)})});let Hn;try{yield Promise.race([Bt,Tt]),Hn=yield Bt}catch(Ji){let es="fetch-client-network";throw"AbortError"===Ji.name&&(es="fetch-timeout"),Vn.create(es,{originalErrorMessage:Ji.message})}let In=Hn.status;const Js=Hn.headers.get("ETag")||void 0;let On,vn;if(200===Hn.status){let Ji;try{Ji=yield Hn.json()}catch(es){throw Vn.create("fetch-client-parse",{originalErrorMessage:es.message})}On=Ji.entries,vn=Ji.state}if("INSTANCE_STATE_UNSPECIFIED"===vn?In=500:"NO_CHANGE"===vn?In=304:("NO_TEMPLATE"===vn||"EMPTY_CONFIG"===vn)&&(On={}),304!==In&&200!==In)throw Vn.create("fetch-status",{httpStatus:In});return{status:In,eTag:Js,config:On}})()}}class Zp{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,P.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:L}){var Z=this;return(0,P.Z)(function*(){yield function Zn(D,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),te=setTimeout(k,Z);D.addEventListener(()=>{clearTimeout(te),L(Vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const te=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),te}catch(te){if(!function ud(D){if(!(D instanceof ee.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(te))throw te;const xe={throttleEndTimeMillis:Date.now()+(0,ee.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(xe),Z.attemptFetch(I,xe)}})()}}class Dc{constructor(I,k,L,Z,te){this.app=I,this._client=k,this._storageCache=L,this._storage=Z,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ic(D,I){const k=D.target.error||void 0;return Vn.create(I,{originalErrorMessage:k&&k.message})}const Ps="app_namespace_store";class Xp{constructor(I,k,L,Z=function Qp(){return new Promise((D,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{I(Ic(L,"storage-open"))},k.onsuccess=L=>{D(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ps,{keyPath:"compositeKey"})}}catch(k){I(Vn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,te)=>{const Ke=L.transaction([Ps],"readonly").objectStore(Ps),tt=k.createCompositeKey(I);try{const bt=Ke.get(tt);bt.onerror=Bt=>{te(Ic(Bt,"storage-get"))},bt.onsuccess=Bt=>{const Tt=Bt.target.result;Z(Tt?Tt.value:void 0)}}catch(bt){te(Vn.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(I,k){var L=this;return(0,P.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((te,xe)=>{const tt=Z.transaction([Ps],"readwrite").objectStore(Ps),bt=L.createCompositeKey(I);try{const Bt=tt.put({compositeKey:bt,value:k});Bt.onerror=Tt=>{xe(Ic(Tt,"storage-set"))},Bt.onsuccess=()=>{te()}}catch(Bt){xe(Vn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(I){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,te)=>{const Ke=L.transaction([Ps],"readwrite").objectStore(Ps),tt=k.createCompositeKey(I);try{const bt=Ke.delete(tt);bt.onerror=Bt=>{te(Ic(Bt,"storage-delete"))},bt.onsuccess=()=>{Z()}}catch(bt){te(Vn.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class hd{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const k=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),te=yield k;te&&(I.lastFetchStatus=te);const xe=yield L;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Ke=yield Z;Ke&&(I.activeConfig=Ke)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function fo(){return pf.apply(this,arguments)}function pf(){return(pf=(0,P.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(D){return!1}})).apply(this,arguments)}!function $o(){(0,ae._registerComponent)(new pe.wA("remote-config",function D(I,{instanceIdentifier:k}){const L=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,ee.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:te,apiKey:xe,appId:Ke}=L.options;if(!te)throw Vn.create("registration-project-id");if(!xe)throw Vn.create("registration-api-key");if(!Ke)throw Vn.create("registration-app-id");const tt=new Xp(Ke,L.name,k=k||"firebase"),bt=new hd(tt),Bt=new J.Yd(gi);Bt.logLevel=J.in.ERROR;const Tt=new ul(Z,ae.SDK_VERSION,k,te,xe,Ke),Hn=new Zp(Tt,tt),In=new ff(Hn,tt,bt,Bt),Js=new Dc(L,In,bt,tt,Bt);return function _i(D){const I=(0,ee.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Js),Js},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(gi,"0.3.7"),(0,ae.registerVersion)(gi,"0.3.7","esm2017")}();const Sc="/firebase-messaging-sw.js",Ns="/firebase-cloud-messaging-push-scope",cr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",po="google.c.a.c_id",Oa="google.c.a.c_l",fd="google.c.a.ts",Jp="google.c.a.e";var Fs=(()=>{return(D=Fs||(Fs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Fs;var D})();function wr(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hl(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),Z=new Uint8Array(L.length);for(let te=0;te<L.length;++te)Z[te]=L.charCodeAt(te);return Z}const fl="fcm_token_details_db",yi="fcm_token_object_Store";function mf(D){return pl.apply(this,arguments)}function pl(){return pl=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(fl))return null;let I=null;return(yield(0,ee.X3)(fl,5,function(){var L=(0,P.Z)(function*(Z,te,xe,Ke){var tt;if(te<2||!Z.objectStoreNames.contains(yi))return;const bt=Ke.objectStore(yi),Bt=yield bt.index("fcmSenderId").get(D);if(yield bt.clear(),Bt)if(2===te){const Tt=Bt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;I={token:Tt.fcmToken,createTime:null!==(tt=Tt.createTime)&&void 0!==tt?tt:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:wr(Tt.vapidKey)}}}else if(3===te){const Tt=Bt;I={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:wr(Tt.auth),p256dh:wr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:wr(Tt.vapidKey)}}}else if(4===te){const Tt=Bt;I={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:wr(Tt.auth),p256dh:wr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:wr(Tt.vapidKey)}}}});return function(Z,te,xe,Ke){return L.apply(this,arguments)}}())).close(),yield(0,ee.Lj)(fl),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),pd(I)?I:null}),pl.apply(this,arguments)}function pd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ms="firebase-messaging-store";let Pa=null;function Mc(){return Pa||(Pa=(0,ee.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(ms)})),Pa}function yn(D){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(D){const I=go(D),L=yield(yield Mc()).transaction(ms).objectStore(ms).get(I);if(L)return L;{const Z=yield mf(D.appConfig.senderId);if(Z)return yield Ls(D,Z),Z}})).apply(this,arguments)}function Ls(D,I){return rn.apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(D,I){const k=go(D),Z=(yield Mc()).transaction(ms,"readwrite");return yield Z.objectStore(ms).put(I,k),yield Z.complete,I})).apply(this,arguments)}function md(D){return mo.apply(this,arguments)}function mo(){return(mo=(0,P.Z)(function*(D){const I=go(D),L=(yield Mc()).transaction(ms,"readwrite");yield L.objectStore(ms).delete(I),yield L.complete})).apply(this,arguments)}function go({appConfig:D}){return D.appId}const Bn=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Na(D,I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,P.Z)(function*(D,I){const k=yield Bs(D),L=pt(I),Z={method:"POST",headers:k,body:JSON.stringify(L)};let te;try{te=yield(yield fetch(ur(D.appConfig),Z)).json()}catch(xe){throw Bn.create("token-subscribe-failed",{errorInfo:xe})}if(te.error)throw Bn.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw Bn.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function Oi(D,I){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,P.Z)(function*(D,I){const k=yield Bs(D),L=pt(I.subscriptionOptions),Z={method:"PATCH",headers:k,body:JSON.stringify(L)};let te;try{te=yield(yield fetch(`${ur(D.appConfig)}/${I.token}`,Z)).json()}catch(xe){throw Bn.create("token-update-failed",{errorInfo:xe})}if(te.error)throw Bn.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw Bn.create("token-update-no-token");return te.token})).apply(this,arguments)}function gs(D,I){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(D,I){const L={method:"DELETE",headers:yield Bs(D)};try{const te=yield(yield fetch(`${ur(D.appConfig)}/${I}`,L)).json();if(te.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(Z){throw Bn.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function ur({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Bs(D){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*({appConfig:D,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function pt({p256dh:D,auth:I,endpoint:k,vapidKey:L}){const Z={web:{endpoint:k,auth:I,p256dh:D}};return L!==cr&&(Z.web.applicationPubKey=L),Z}const gl=6048e5;function Fa(D){return _l.apply(this,arguments)}function _l(){return(_l=(0,P.Z)(function*(D){const I=yield Rc(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:wr(I.getKey("auth")),p256dh:wr(I.getKey("p256dh"))},L=yield yn(D.firebaseDependencies);if(L){if(Zo(L.subscriptionOptions,k))return Date.now()>=L.createTime+gl?xc(D,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield gs(D.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return Ee(D.firebaseDependencies,k)}return Ee(D.firebaseDependencies,k)})).apply(this,arguments)}function yl(D){return vl.apply(this,arguments)}function vl(){return(vl=(0,P.Z)(function*(D){const I=yield yn(D.firebaseDependencies);I&&(yield gs(D.firebaseDependencies,I.token),yield md(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function xc(D,I){return kc.apply(this,arguments)}function kc(){return(kc=(0,P.Z)(function*(D,I){try{const k=yield Oi(D.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Ls(D.firebaseDependencies,L),k}catch(k){throw yield yl(D),k}})).apply(this,arguments)}function Ee(D,I){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,P.Z)(function*(D,I){const L={token:yield Na(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Ls(D,L),L.token})).apply(this,arguments)}function Rc(D,I){return En.apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hl(I)})})).apply(this,arguments)}function Zo(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function Ko(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function dr(D,I){if(!I.notification)return;D.notification={};const k=I.notification.title;k&&(D.notification.title=k);const L=I.notification.body;L&&(D.notification.body=L);const Z=I.notification.image;Z&&(D.notification.image=Z)}(I,D),function Oc(D,I){!I.data||(D.data=I.data)}(I,D),function Pc(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const k=I.fcmOptions.link;k&&(D.fcmOptions.link=k);const L=I.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(I,D),I}function gd(D){return"object"==typeof D&&!!D&&po in D}function Nc(D,I){const k=[];for(let L=0;L<D.length;L++)k.push(D.charAt(L)),L<I.length&&k.push(I.charAt(L));return k.join("")}function Us(D){return Bn.create("missing-app-config-values",{valueName:D})}Nc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vi{constructor(I,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function bl(D){if(!D||!D.options)throw Us("App Configuration Object");if(!D.name)throw Us("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const L of I)if(!k[L])throw Us(L);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Er(D){return wl.apply(this,arguments)}function wl(){return(wl=(0,P.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Sc,{scope:Ns}),D.swRegistration.update().catch(()=>{})}catch(I){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function js(D,I){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,P.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Er(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Fc(D,I){return El.apply(this,arguments)}function El(){return(El=(0,P.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=cr)})).apply(this,arguments)}function Lc(){return(Lc=(0,P.Z)(function*(D,I){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield Fc(D,null==I?void 0:I.vapidKey),yield js(D,null==I?void 0:I.serviceWorkerRegistration),Fa(D)})).apply(this,arguments)}function La(D,I,k){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,P.Z)(function*(D,I,k){const L=Vc(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[po],message_name:k[Oa],message_time:k[fd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vc(D){switch(D){case Fs.NOTIFICATION_CLICKED:return"notification_open";case Fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _d(){return(_d=(0,P.Z)(function*(D,I){const k=I.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===Fs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ko(k)):D.onMessageHandler.next(Ko(k)));const L=k.data;gd(L)&&"1"===L[Jp]&&(yield La(D,k.messageType,L))})).apply(this,arguments)}const Hc="@firebase/messaging",yd=D=>{const I=new vi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Bc(D,I){return _d.apply(this,arguments)}(I,k)),I},yo=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:L=>function Cl(D,I){return Lc.apply(this,arguments)}(I,L)}};function bd(){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(){try{yield(0,ee.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vd(){(0,ae._registerComponent)(new pe.wA("messaging",yd,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",yo,"PRIVATE")),(0,ae.registerVersion)(Hc,"0.9.12"),(0,ae.registerVersion)(Hc,"0.9.12","esm2017")}();const jc="analytics",x_="firebase_id",Va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dl="https://www.googletagmanager.com/gtag/js",Kn=new J.Yd("@firebase/analytics");function Ed(D){return Promise.all(D.map(I=>I.catch(k=>k)))}function em(D,I){const k=document.createElement("script");k.src=`${Dl}?l=${D}&id=${I}`,k.async=!0,document.head.appendChild(k)}function Qo(D,I,k,L,Z,te){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,P.Z)(function*(D,I,k,L,Z,te){const xe=L[Z];try{if(xe)yield I[xe];else{const tt=(yield Ed(k)).find(bt=>bt.measurementId===Z);tt&&(yield I[tt.appId])}}catch(Ke){Kn.error(Ke)}D("config",Z,te)})).apply(this,arguments)}function zc(D,I,k,L,Z){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,P.Z)(function*(D,I,k,L,Z){try{let te=[];if(Z&&Z.send_to){let xe=Z.send_to;Array.isArray(xe)||(xe=[xe]);const Ke=yield Ed(k);for(const tt of xe){const bt=Ke.find(Tt=>Tt.measurementId===tt),Bt=bt&&I[bt.appId];if(!Bt){te=[];break}te.push(Bt)}}0===te.length&&(te=Object.values(I)),yield Promise.all(te),D("event",L,Z||{})}catch(te){Kn.error(te)}})).apply(this,arguments)}function tm(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(Dl))return I;return null}const sn=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kn=new class Yn{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Xo(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Sd(D){return on.apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(D){var I;const{appId:k,apiKey:L}=D,Z={method:"GET",headers:Xo(L)},te=Va.replace("{app-id}",k),xe=yield fetch(te,Z);if(200!==xe.status&&304!==xe.status){let Ke="";try{const tt=yield xe.json();(null===(I=tt.error)||void 0===I?void 0:I.message)&&(Ke=tt.error.message)}catch(tt){}throw sn.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Ke})}return xe.json()})).apply(this,arguments)}function Zi(D){return ii.apply(this,arguments)}function ii(){return(ii=(0,P.Z)(function*(D,I=kn,k){const{appId:L,apiKey:Z,measurementId:te}=D.options;if(!L)throw sn.create("no-app-id");if(!Z){if(te)return{measurementId:te,appId:L};throw sn.create("no-api-key")}const xe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Ba;return setTimeout((0,P.Z)(function*(){Ke.abort()}),void 0!==k?k:6e4),Qn({appId:L,apiKey:Z,measurementId:te},xe,Ke,I)})).apply(this,arguments)}function Qn(D,I,k){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,P.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:k},L,Z=kn){const{appId:te,measurementId:xe}=D;try{yield Jt(L,I)}catch(Ke){if(xe)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:te,measurementId:xe};throw Ke}try{const Ke=yield Sd(D);return Z.deleteThrottleMetadata(te),Ke}catch(Ke){if(!Td(Ke)){if(Z.deleteThrottleMetadata(te),xe)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:te,measurementId:xe};throw Ke}const tt=503===Number(Ke.customData.httpStatus)?(0,ee.$s)(k,Z.intervalMillis,30):(0,ee.$s)(k,Z.intervalMillis),bt={throttleEndTimeMillis:Date.now()+tt,backoffCount:k+1};return Z.setThrottleMetadata(te,bt),Kn.debug(`Calling attemptFetch again in ${tt} millis`),Qn(D,bt,L,Z)}})).apply(this,arguments)}function Jt(D,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),te=setTimeout(k,Z);D.addEventListener(()=>{clearTimeout(te),L(sn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Td(D){if(!(D instanceof ee.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Ba{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Il(){return $s.apply(this,arguments)}function $s(){return($s=(0,P.Z)(function*(){if(!(0,ee.hl)())return Kn.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(D){return Kn.warn(sn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ri(){return(ri=(0,P.Z)(function*(D,I,k,L,Z,te,xe){var Ke;const tt=Zi(D);tt.then(In=>{k[In.measurementId]=In.appId,D.options.measurementId&&In.measurementId!==D.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${In.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(In=>Kn.error(In)),I.push(tt);const bt=Il().then(In=>{if(In)return L.getId()}),[Bt,Tt]=yield Promise.all([tt,bt]);tm()||em(te,Bt.measurementId),Z("js",new Date);const Hn=null!==(Ke=null==xe?void 0:xe.config)&&void 0!==Ke?Ke:{};return Hn.origin="firebase",Hn.update=!0,null!=Tt&&(Hn[x_]=Tt),Z("config",Bt.measurementId,Hn),Bt.measurementId})).apply(this,arguments)}class bi{constructor(I){this.app=I}_delete(){return delete Lr[this.app.options.appId],Promise.resolve()}}let Lr={},bo=[];const _e={};let Cr,St,hr="dataLayer",qc=!1;function Dr(D,I,k){!function qe(){const D=[];if((0,ee.ru)()&&D.push("This is a browser extension environment."),(0,ee.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),k=sn.create("invalid-analytics-context",{errorInfo:I});Kn.warn(k.message)}}();const L=D.options.appId;if(!L)throw sn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw sn.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lr[L])throw sn.create("already-exists",{id:L});if(!qc){!function ys(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(hr);const{wrappedGtag:te,gtagCore:xe}=function Dd(D,I,k,L,Z){let te=function(...xe){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(te=window[Z]),window[Z]=function $c(D,I,k,L){function te(){return(te=(0,P.Z)(function*(xe,Ke,tt){try{"event"===xe?yield zc(D,I,k,Ke,tt):"config"===xe?yield Qo(D,I,k,L,Ke,tt):D("set",Ke)}catch(bt){Kn.error(bt)}})).apply(this,arguments)}return function Z(xe,Ke,tt){return te.apply(this,arguments)}}(te,D,I,k),{gtagCore:te,wrappedGtag:window[Z]}}(Lr,bo,_e,hr,"gtag");St=te,Cr=xe,qc=!0}return Lr[L]=function Jo(D,I,k,L,Z,te,xe){return ri.apply(this,arguments)}(D,bo,_e,I,Cr,hr,k),new bi(D)}function wo(){return(wo=(0,P.Z)(function*(D,I,k,L,Z){if(Z&&Z.global)D("event",k,L);else{const te=yield I;D("event",k,Object.assign(Object.assign({},L),{send_to:te}))}})).apply(this,arguments)}function fr(){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,P.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(D){return!1}})).apply(this,arguments)}const xl="@firebase/analytics";!function _f(){(0,ae._registerComponent)(new pe.wA(jc,(I,{options:k})=>Dr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function D(I){try{const k=I.getProvider(jc).getImmediate();return{logEvent:(L,Z,te)=>function gf(D,I,k,L){D=(0,ee.m9)(D),function It(D,I,k,L,Z){return wo.apply(this,arguments)}(St,Lr[D.app.options.appId],I,k,L).catch(Z=>Kn.error(Z))}(k,L,Z,te)}}catch(k){throw sn.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ae.registerVersion)(xl,"0.7.8"),(0,ae.registerVersion)(xl,"0.7.8","esm2017")}();var Yi=O(4408),Qi=O(7565);const Rl=new class Dn extends Qi.v{}(class vs extends Yi.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,k,L):I.flush(this)}});var yf=O(4986),Ol=O(8505),wi=O(9468),Xi=O(5363);const Md=new c.GfV("7.3.0"),Ys="__angularfire_symbol__analyticsIsSupportedValue",Ei="__angularfire_symbol__analyticsIsSupported",Vr="__angularfire_symbol__remoteConfigIsSupportedValue",Eo="__angularfire_symbol__remoteConfigIsSupported",Pl="__angularfire_symbol__messagingIsSupportedValue",xd="__angularfire_symbol__messagingIsSupported";function Qs(D,I,k){if(I){if(1===I.length)return I[0];const te=I.filter(xe=>xe.app===k);if(1===te.length)return te[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ei]||(globalThis[Ei]=fr().then(D=>globalThis[Ys]=D).catch(()=>globalThis[Ys]=!1)),globalThis[xd]||(globalThis[xd]=bd().then(D=>globalThis[Pl]=D).catch(()=>globalThis[Pl]=!1)),globalThis[Eo]||(globalThis[Eo]=fo().then(D=>globalThis[Vr]=D).catch(()=>globalThis[Vr]=!1));const kd=(D,I)=>{const k=I?[I]:(0,Y.C6)(),L=[];return k.forEach(Z=>{Z.container.getProvider(D).instances.forEach(xe=>{L.includes(xe)||L.push(xe)})}),L};function Co(){}class ia{constructor(I,k=Rl){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,L){const Z=this.zone;return this.delegate.schedule(function(xe){Z.runGuarded(()=>{I.apply(this,[xe])})},k,L)}}class Rd{constructor(I){this.zone=I,this.task=null}call(I,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co)),k.pipe((0,Ol.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zc=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ia(Zone.current)),this.insideAngular=k.run(()=>new ia(Zone.current,yf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function bs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Kc(D){return bs(),function Io(D){return function(k){return(k=k.lift(new Rd(D.ngZone))).pipe((0,wi.R)(D.outsideAngular),(0,Xi.Q)(D.insideAngular))}}(bs())(D)}},2090:(rt,Ce,O)=>{O.d(Ce,{$s:()=>uo,BH:()=>Ae,G6:()=>ne,L:()=>de,LL:()=>Dt,Lj:()=>Vt,Mn:()=>Ue,Sg:()=>Re,UG:()=>we,US:()=>J,X3:()=>ft,ZB:()=>X,ZR:()=>le,b$:()=>Se,d:()=>ve,eu:()=>re,hl:()=>W,jU:()=>et,m9:()=>ht,ne:()=>dt,pd:()=>ls,r3:()=>Yt,ru:()=>We,tV:()=>G,uI:()=>me,vZ:()=>As,w1:()=>be,xO:()=>Kr,xb:()=>fi,z$:()=>Le,zI:()=>ge,zd:()=>ji});var c=O(5861);const ee=function(H){const V=[];let $=0;for(let he=0;he<H.length;he++){let Q=H.charCodeAt(he);Q<128?V[$++]=Q:Q<2048?(V[$++]=Q>>6|192,V[$++]=63&Q|128):55296==(64512&Q)&&he+1<H.length&&56320==(64512&H.charCodeAt(he+1))?(Q=65536+((1023&Q)<<10)+(1023&H.charCodeAt(++he)),V[$++]=Q>>18|240,V[$++]=Q>>12&63|128,V[$++]=Q>>6&63|128,V[$++]=63&Q|128):(V[$++]=Q>>12|224,V[$++]=Q>>6&63|128,V[$++]=63&Q|128)}return V},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let Q=0;Q<H.length;Q+=3){const Ve=H[Q],vt=Q+1<H.length,$t=vt?H[Q+1]:0,xi=Q+2<H.length,zt=xi?H[Q+2]:0;let hn=(15&$t)<<2|zt>>6,li=63&zt;xi||(li=64,vt||(hn=64)),he.push($[Ve>>2],$[(3&Ve)<<4|$t>>4],$[hn],$[li])}return he.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(ee(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let $=0,he=0;for(;$<H.length;){const Q=H[$++];if(Q<128)V[he++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ve=H[$++];V[he++]=String.fromCharCode((31&Q)<<6|63&Ve)}else if(Q>239&&Q<365){const xi=((7&Q)<<18|(63&H[$++])<<12|(63&H[$++])<<6|63&H[$++])-65536;V[he++]=String.fromCharCode(55296+(xi>>10)),V[he++]=String.fromCharCode(56320+(1023&xi))}else{const Ve=H[$++],vt=H[$++];V[he++]=String.fromCharCode((15&Q)<<12|(63&Ve)<<6|63&vt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const $=V?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let Q=0;Q<H.length;){const Ve=$[H.charAt(Q++)],$t=Q<H.length?$[H.charAt(Q)]:0;++Q;const zt=Q<H.length?$[H.charAt(Q)]:64;++Q;const kt=Q<H.length?$[H.charAt(Q)]:64;if(++Q,null==Ve||null==$t||null==zt||null==kt)throw Error();he.push(Ve<<2|$t>>4),64!==zt&&(he.push($t<<4&240|zt>>2),64!==kt&&he.push(zt<<6&192|kt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},de=function(H){return function(H){const V=ee(H);return J.encodeByteArray(V,!0)}(H).replace(/\./g,"")},G=function(H){try{return J.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function X(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const $ in V)!V.hasOwnProperty($)||!$e($)||(H[$]=X(H[$],V[$]));return H}function $e(H){return"__proto__"!==H}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,$)=>{this.resolve=V,this.reject=$})}wrapCallback(V){return($,he)=>{$?this.reject($):this.resolve(he),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V($):V($,he))}}}function Re(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=V||"demo-project",Q=H.iat||0,Ve=H.sub||H.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:Q,exp:Q+3600,auth_time:Q,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},H);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(vt)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function et(){return"object"==typeof self&&self.self===self}function We(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Le().indexOf("Electron/")>=0}function be(){const H=Le();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ue(){return Le().indexOf("MSAppHost/")>=0}function ne(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function re(){return new Promise((H,V)=>{try{let $=!0;const he="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(he);Q.onsuccess=()=>{Q.result.close(),$||self.indexedDB.deleteDatabase(he),H(!0)},Q.onupgradeneeded=()=>{$=!1},Q.onerror=()=>{var Ve;V((null===(Ve=Q.error)||void 0===Ve?void 0:Ve.message)||"")}}catch($){V($)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(V,$,he){super($),this.code=V,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(V,$,he){this.service=V,this.serviceName=$,this.errors=he}create(V,...$){const he=$[0]||{},Q=`${this.service}/${V}`,Ve=this.errors[V],vt=Ve?function Kt(H,V){return H.replace(Ln,($,he)=>{const Q=V[he];return null!=Q?String(Q):`<${he}?>`})}(Ve,he):"Error";return new le(Q,`${this.serviceName}: ${vt} (${Q}).`,he)}}const Ln=/\{\$([^}]+)}/g;function Yt(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function fi(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function As(H,V){if(H===V)return!0;const $=Object.keys(H),he=Object.keys(V);for(const Q of $){if(!he.includes(Q))return!1;const Ve=H[Q],vt=V[Q];if(Ui(Ve)&&Ui(vt)){if(!As(Ve,vt))return!1}else if(Ve!==vt)return!1}for(const Q of he)if(!$.includes(Q))return!1;return!0}function Ui(H){return null!==H&&"object"==typeof H}function Kr(H){const V=[];for(const[$,he]of Object.entries(H))Array.isArray(he)?he.forEach(Q=>{V.push(encodeURIComponent($)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent($)+"="+encodeURIComponent(he));return V.length?"&"+V.join("&"):""}function ji(H){const V={};return H.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[Q,Ve]=he.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Ve)}}),V}function ls(H){const V=H.indexOf("?");if(!V)return"";const $=H.indexOf("#",V);return H.substring(V,$>0?$:void 0)}function dt(H,V){const $=new ar(H,V);return $.subscribe.bind($)}class ar{constructor(V,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{V(this)}).catch(he=>{this.error(he)})}next(V){this.forEachObserver($=>{$.next(V)})}error(V){this.forEachObserver($=>{$.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,$,he){let Q;if(void 0===V&&void 0===$&&void 0===he)throw new Error("Missing Observer.");Q=function ti(H,V){if("object"!=typeof H||null===H)return!1;for(const $ of V)if($ in H&&"function"==typeof H[$])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:$,complete:he},void 0===Q.next&&(Q.next=vr),void 0===Q.error&&(Q.error=vr),void 0===Q.complete&&(Q.complete=vr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(vt){}}),this.observers.push(Q),Ve}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,V)}sendOne(V,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{$(this.observers[V])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}function uo(H,V=1e3,$=2){const he=V*Math.pow($,H),Q=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+Q)}function ht(H){return H&&H._delegate?H._delegate:H}function Mi(H,V){return new Promise(($,he)=>{H.onsuccess=Q=>{$(Q.target.result)},H.onerror=Q=>{var Ve;he(`${V}: ${null===(Ve=Q.target.error)||void 0===Ve?void 0:Ve.message}`)}})}class Lt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,$="readonly"){return new Ze(this._db.transaction.call(this._db,V,$))}createObjectStore(V,$){return new De(this._db.createObjectStore(V,$))}close(){this._db.close()}}class Ze{constructor(V){this._transaction=V,this.complete=new Promise(($,he)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(V){return new De(this._transaction.objectStore(V))}}class De{constructor(V){this._store=V}index(V){return new Ye(this._store.index(V))}createIndex(V,$,he){return new Ye(this._store.createIndex(V,$,he))}get(V){return Mi(this._store.get(V),"Error reading from IndexedDB")}put(V,$){return Mi(this._store.put(V,$),"Error writing to IndexedDB")}delete(V){return Mi(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Mi(this._store.clear(),"Error clearing IndexedDB object store")}}class Ye{constructor(V){this._index=V}get(V){return Mi(this._index.get(V),"Error reading from IndexedDB")}}function ft(H,V,$){return new Promise((he,Q)=>{try{const Ve=indexedDB.open(H,V);Ve.onsuccess=vt=>{he(new Lt(vt.target.result))},Ve.onerror=vt=>{var $t;Q(`Error opening indexedDB: ${null===($t=vt.target.error)||void 0===$t?void 0:$t.message}`)},Ve.onupgradeneeded=vt=>{$(new Lt(Ve.result),vt.oldVersion,vt.newVersion,new Ze(Ve.transaction))}}catch(Ve){Q(`Error opening indexedDB: ${Ve.message}`)}})}function Vt(H){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(H){return new Promise((V,$)=>{try{const he=indexedDB.deleteDatabase(H);he.onsuccess=()=>{V()},he.onerror=Q=>{var Ve;$(`Error deleting indexedDB database "${H}": ${null===(Ve=Q.target.error)||void 0===Ve?void 0:Ve.message}`)}}catch(he){$(`Error deleting indexedDB database "${H}": ${he.message}`)}})})).apply(this,arguments)}},1468:(rt,Ce,O)=>{var c=O(5e3);let Y=null;function P(){return Y}const J=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function de(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})(),j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function $e(){return new j((0,c.LFG)(J))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(n){const e=(0,c.LFG)(J).location;return new We((0,c.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const et=new c.OlP("appBaseHref");let We=(()=>{class n extends me{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,l){const d=this.prepareExternalUrl(r+Le(l));this._platformLocation.pushState(t,i,d)}replaceState(t,i,r,l){const d=this.prepareExternalUrl(r+Le(l));this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(et,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(He(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Le(i))}normalize(t){return n.stripTrailingSlash(function Ue(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Ae,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new ve((0,c.LFG)(me),(0,c.LFG)(fe))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}let ds=(()=>{class n{constructor(t,i,r,l){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Rs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ci=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,l,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Rs(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,d),hs(p,r)}});for(let r=0,l=i.length;r<l;r++){const p=i.get(r).context;p.index=r,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{hs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function hs(n,e){n.context.$implicit=e.item}let _i=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){al("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){al("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function al(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class ll{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Gi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ki=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new ll(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Gi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Cc=(()=>{class n{constructor(t,i,r){r._addDefault(new ll(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Gi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class ud{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Zp{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const ps=new Zp,Kp=new ud;let Dc=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return ps;if((0,c.F4k)(t))return Kp;throw function Zn(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),zi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Fs="browser";function yi(n){return"server"===n}class Ls extends class Wo extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ee(n){Y||(Y=n)}(new Ls)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function md(){return rn=rn||document.querySelector("base"),rn?rn.getAttribute("href"):null}();return null==t?null:function go(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,l]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let mo,rn=null;const Ri=new c.OlP("TRANSITION_ID"),Na=[{provide:c.ip1,useFactory:function Bn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[Ri,J,c.zs3],multi:!0}];class Nr{static init(){(0,c.VLi)(new Nr)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const l=e.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let l=r.length,d=!1;const p=function(_){d=d||_,l--,0==l&&i(d)};r.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Oi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vs=new c.OlP("EventManagerPlugins");let gs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const d=r[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ml{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let ur=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Bs=(()=>{class n extends ur{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,r.push(i.appendChild(d))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Hs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hs(n){P().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gl=/%COMP%/g;function Ee(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ee(n,r,t):(r=r.replace(gl,n),t.push(r))}return t}function Ft(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let En=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Zo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Oc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Pc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ee(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gs),c.LFG(Bs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Zo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const l=pt[r];l?e.setAttributeNS(l,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=pt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ft(i)):this.eventManager.addEventListener(e,t,Ft(i))}}class Oc extends Zo{constructor(e,t,i,r){super(e),this.component=i;const l=Ee(r+"-"+i.id,i.styles,[]);t.addStyles(l),this.contentAttr=function xc(n){return"_ngcontent-%COMP%".replace(gl,n)}(r+"-"+i.id),this.hostAttr=function kc(n){return"_nghost-%COMP%".replace(gl,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Pc extends Zo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ee(r.id,r.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gd=(()=>{class n extends ml{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Nc=["alt","control","meta","shift"],Us={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Er={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wl=(()=>{class n extends ml{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let d="";if(Nc.forEach(_=>{const E=i.indexOf(_);E>-1&&(i.splice(E,1),d+=_+".")}),d+=l,0!=i.length||0===l.length)return null;const p={};return p.domEventName=r,p.fullKey=d,p}static getEventFullKey(t){let i="",r=function js(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&vi.hasOwnProperty(e)&&(e=vi[e]))}return Us[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Nc.forEach(l=>{l!=r&&Er[l](t)&&(i+=l+".")}),i+=r,i}static eventCallback(t,i,r){return l=>{n.getEventFullKey(l)===t&&r.runGuarded(()=>i(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Lc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Fs},{provide:c.g9A,useValue:function Fr(){Ls.makeCurrent(),Nr.init()},multi:!0},{provide:J,useFactory:function El(){return(0,c.RDi)(document),document},deps:[]}]),La=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Fc(){return new c.qLn},deps:[]},{provide:Vs,useClass:gd,multi:!0,deps:[J,c.R0b,c.Lbi]},{provide:Vs,useClass:wl,multi:!0,deps:[J]},{provide:En,useClass:En,deps:[gs,Bs,c.AFp]},{provide:c.FYo,useExisting:En},{provide:ur,useExisting:Bs},{provide:Bs,useClass:Bs,deps:[J]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:gs,useClass:gs,deps:[Vs,c.R0b]},{provide:class yn{},useClass:Oi,deps:[]}];let Yo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Ri,useExisting:c.AFp},Na]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:La,imports:[zi,c.hGG]}),n})();"undefined"!=typeof window&&window;let Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Dd),i},providedIn:"root"}),n})(),Dd=(()=>{class n extends Xr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function $c(n){return new Dd(n.get(J))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Id=O(4986),sn=O(8306),qi=O(8996),Wi=O(3269);function Yn(...n){const e=(0,Wi.yG)(n);return(0,qi.D)(n,e)}var kn=O(5813),Xo=O(8189);function on(...n){return function Sd(){return(0,Xo.J)(1)}()((0,qi.D)(n,(0,Wi.yG)(n)))}var Zi=O(4482);function ii(...n){const e=(0,Wi.yG)(n);return(0,Zi.e)((t,i)=>{(e?on(n,t,e):on(n,t)).subscribe(i)})}var Qn=O(5403);function Jr(){return(0,Zi.e)((n,e)=>{let t,i=!1;n.subscribe((0,Qn.x)(e,r=>{const l=t;t=r,i&&e.next([l,r]),i=!0}))})}var Jt=O(4004);function Td(n,e,t,i,r){return(l,d)=>{let p=t,_=e,E=0;l.subscribe((0,Qn.x)(d,S=>{const M=E++;_=p?n(_,S,M):(p=!0,S),i&&d.next(_)},r&&(()=>{p&&d.next(_),d.complete()})))}}function Ba(n,e){return(0,Zi.e)(Td(n,e,arguments.length>=2,!0))}var Il=O(4671);function $s(n,e=Il.y){return n=null!=n?n:Jo,(0,Zi.e)((t,i)=>{let r,l=!0;t.subscribe((0,Qn.x)(i,d=>{const p=e(d);(l||!n(r,p))&&(l=!1,r=p,i.next(d))}))})}function Jo(n,e){return n===e}function ri(n,e){return(0,Zi.e)((t,i)=>{let r=0;t.subscribe((0,Qn.x)(i,l=>n.call(e,l,r++)&&i.next(l)))})}var qe,bi=O(2011),bo=(O(820),O(3942)),_e=O(5861),hr=O(9681),ea=O(4859),Cr=O(1877),St=O(2090),qc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qs={},Dr=Dr||{},It=qc||self;function wo(){}function Sl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ki(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ws="closure_uid_"+(1e9*Math.random()>>>0),Tl=0;function Zs(n,e,t){return n.call.apply(n.bind,arguments)}function ta(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function un(n,e,t){return(un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zs:ta).apply(null,arguments)}function Al(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Xn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[r].apply(i,d)}}function fr(){this.s=this.s,this.o=this.o}var nm={};fr.prototype.s=!1,fr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Ad(n){return Object.prototype.hasOwnProperty.call(n,Ws)&&n[Ws]||(n[Ws]=++Tl)}(this);delete nm[n]}},fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rn=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},im=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&e.call(t,r[l],l,n)};function gf(n){return Array.prototype.concat.apply([],arguments)}function xl(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function kl(n){return/^[\s\xa0]*$/.test(n)}var Qi,_f=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yi(n,e){return-1!=n.indexOf(e)}function vs(n,e){return n<e?-1:n>e?1:0}e:{var Dn=It.navigator;if(Dn){var Rl=Dn.userAgent;if(Rl){Qi=Rl;break e}}Qi=""}function Ks(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function yf(n){const e={};for(const t in n)e[t]=n[t];return e}var Ol="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wi(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let l=0;l<Ol.length;l++)t=Ol[l],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xi(n){return Xi[" "](n),n}Xi[" "]=wo;var na,n,Ys=Yi(Qi,"Opera"),Ei=Yi(Qi,"Trident")||Yi(Qi,"MSIE"),Vr=Yi(Qi,"Edge"),Eo=Vr||Ei,Pl=Yi(Qi,"Gecko")&&!(Yi(Qi.toLowerCase(),"webkit")&&!Yi(Qi,"Edge"))&&!(Yi(Qi,"Trident")||Yi(Qi,"MSIE"))&&!Yi(Qi,"Edge"),xd=Yi(Qi.toLowerCase(),"webkit")&&!Yi(Qi,"Edge");function Wc(){var n=It.document;return n?n.documentMode:void 0}e:{var Ni="",Nl=(n=Qi,Pl?/rv:([^\);]+)(\)|;)/.exec(n):Vr?/Edge\/([\d\.]+)/.exec(n):Ei?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):xd?/WebKit\/(\S+)/.exec(n):Ys?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nl&&(Ni=Nl?Nl[1]:""),Ei){var Qs=Wc();if(null!=Qs&&Qs>parseFloat(Ni)){na=String(Qs);break e}}na=Ni}var kd={};var Zc=It.document&&Ei&&(Wc()||parseInt(na,10))||void 0,bs=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{It.addEventListener("test",wo,e),It.removeEventListener("test",wo,e)}catch(t){}return n}();function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Fi(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Pl){e:{try{Xi(e.nodeName);var r=!0;break e}catch(l){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Od[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fi.Z.h.call(this)}}Ci.prototype.h=function(){this.defaultPrevented=!0},Xn(Fi,Ci);var Od={2:"touch",3:"pen",4:"mouse"};Fi.prototype.h=function(){Fi.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Do="closure_listenable_"+(1e6*Math.random()|0),Kc=0;function Io(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++Kc,this.ca=this.fa=!1}function Xs(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ra(n){this.src=n,this.g={},this.h=0}function D(n,e){var t=e.type;if(t in n.g){var l,i=n.g[t],r=Rn(i,e);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(Xs(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function I(n,e,t,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==i)return r}return-1}ra.prototype.add=function(n,e,t,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=I(n,e,i,r);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new Io(e,this.src,l,!!i,r)).fa=t,n.push(e)),e};var k="closure_lm_"+(1e6*Math.random()|0),L={};function Z(n,e,t,i,r){if(i&&i.once)return Ke(n,e,t,i,r);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Z(n,e[l],t,i,r);return null}return t=Js(t),n&&n[Do]?n.N(e,t,Ki(i)?!!i.capture:!!i,r):te(n,e,t,!1,i,r)}function te(n,e,t,i,r,l){if(!e)throw Error("Invalid event type");var d=Ki(r)?!!r.capture:!!r,p=Hn(n);if(p||(n[k]=p=new ra(n)),(t=p.add(e,t,i,d,l)).proxy)return t;if(i=function xe(){var e=Tt;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)bs||(r=d),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Bt(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Ke(n,e,t,i,r){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ke(n,e[l],t,i,r);return null}return t=Js(t),n&&n[Do]?n.O(e,t,Ki(i)?!!i.capture:!!i,r):te(n,e,t,!0,i,r)}function tt(n,e,t,i,r){if(Array.isArray(e))for(var l=0;l<e.length;l++)tt(n,e[l],t,i,r);else i=Ki(i)?!!i.capture:!!i,t=Js(t),n&&n[Do]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=I(l=n.g[e],t,i,r))&&(Xs(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Hn(n))&&(e=n.g[e.toString()],n=-1,e&&(n=I(e,t,i,r)),(t=-1<n?e[n]:null)&&bt(t))}function bt(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Do])D(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Bt(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Hn(e))?(D(t,n),0==t.h&&(t.src=null,e[k]=null)):Xs(n)}}}function Bt(n){return n in L?L[n]:L[n]="on"+n}function Tt(n,e){if(n.ca)n=!0;else{e=new Fi(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&bt(n),n=t.call(i,e)}return n}function Hn(n){return(n=n[k])instanceof ra?n:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function Js(n){return"function"==typeof n?n:(n[In]||(n[In]=function(e){return n.handleEvent(e)}),n[In])}function On(){fr.call(this),this.i=new ra(this),this.P=this,this.I=null}function vn(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var r=e;wi(e=new Ci(i,n),r)}if(r=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];r=Ji(d,i,!0,e)&&r}if(r=Ji(d=e.g=n,i,!0,e)&&r,r=Ji(d,i,!1,e)&&r,t)for(l=0;l<t.length;l++)r=Ji(d=e.g=t[l],i,!1,e)&&r}function Ji(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var p=d.listener,_=d.ia||d.src;d.fa&&D(n.i,d),r=!1!==p.call(_,i)&&r}}return r&&!i.defaultPrevented}Xn(On,fr),On.prototype[Do]=!0,On.prototype.removeEventListener=function(n,e,t,i){tt(this,n,e,t,i)},On.prototype.M=function(){if(On.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Xs(t[i]);delete n.g[e],n.h--}}this.I=null},On.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},On.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var es=It.JSON.stringify;function So(){var n=Ll;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bf,vf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Pd,n=>n.reset());class Pd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fl(n){It.setTimeout(()=>{throw n},0)}function Nd(n,e){bf||function R_(){var n=It.Promise.resolve(void 0);bf=function(){n.then(O_)}}(),eo||(bf(),eo=!0),Ll.add(n,e)}var eo=!1,Ll=new class rm{constructor(){this.h=this.g=null}add(e,t){const i=vf.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function O_(){for(var n;n=So();){try{n.h.call(n.g)}catch(t){Fl(t)}var e=vf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}eo=!1}function Fd(n,e){On.call(this),this.h=n||1,this.g=e||It,this.j=un(this.kb,this),this.l=Date.now()}function Ld(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Vl(n,e,t){if("function"==typeof n)t&&(n=un(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=un(n.handleEvent,n)}return 2147483647<Number(e)?-1:It.setTimeout(n,e||0)}function P_(n){n.g=Vl(()=>{n.g=null,n.i&&(n.i=!1,P_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xn(Fd,On),(qe=Fd.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vn(this,"tick"),this.da&&(Ld(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){Fd.Z.M.call(this),Ld(this),delete this.g};class N_ extends fr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:P_(this)}M(){super.M(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(n){fr.call(this),this.h=n,this.g={}}Xn(Yc,fr);var sm=[];function Qc(n,e,t,i){Array.isArray(t)||(t&&(sm[0]=t.toString()),t=sm);for(var r=0;r<t.length;r++){var l=Z(e,t[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Vd(n){Ks(n.g,function(e,t){this.g.hasOwnProperty(t)&&bt(e)},n),n.g={}}function To(){this.g=!0}function Xc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ef(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<r.length;d++)r[d]=""}}}return es(t)}catch(p){return e}}(n,t)+(i?" "+i:"")})}Yc.prototype.M=function(){Yc.Z.M.call(this),Vd(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},To.prototype.Aa=function(){this.g=!1},To.prototype.info=function(){};var sa={},Cf=null;function Bl(){return Cf=Cf||new On}function oa(n){Ci.call(this,sa.Ma,n)}function Jc(n){const e=Bl();vn(e,new oa(e,n))}function om(n,e){Ci.call(this,sa.STAT_EVENT,n),this.stat=e}function pr(n){const e=Bl();vn(e,new om(e,n))}function Hd(n,e){Ci.call(this,sa.Na,n),this.size=e}function eu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){n()},e)}sa.Ma="serverreachability",Xn(oa,Ci),sa.STAT_EVENT="statevent",Xn(om,Ci),sa.Na="timingevent",Xn(Hd,Ci);var Ir={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ha={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tu(){}function Ud(){}tu.prototype.h=null;var zd,nu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jd(){Ci.call(this,"d")}function Gd(){Ci.call(this,"c")}function $d(){}function iu(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Yc(this),this.P=Ua,this.W=new Fd(n=Eo?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new L_}function L_(){this.i=null,this.g="",this.h=!1}Xn(jd,Ci),Xn(Gd,Ci),Xn($d,tu),$d.prototype.g=function(){return new XMLHttpRequest},$d.prototype.i=function(){return{}},zd=new $d;var Ua=45e3,lm={},qd={};function Ao(n,e,t){n.K=1,n.v=Tn(ws(e)),n.s=t,n.U=!0,Df(n,null)}function Df(n,e){n.F=Date.now(),aa(n),n.A=ws(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),cu(t.h,"t",i),n.C=0,t=n.l.H,n.h=new L_,n.g=vm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new N_(un(n.Ia,n,n.g),n.O)),Qc(n.V,n.g,"readystatechange",n.gb),e=n.H?yf(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jc(1),function F_(n,e,t,i,r,l){n.info(function(){if(n.g)if(l)for(var d="",p=l.split("&"),_=0;_<p.length;_++){var E=p[_].split("=");if(1<E.length){var S=E[0];E=E[1];var M=S.split("_");d=2<=M.length&&"type"==M[1]?d+(S+"=")+E+"&":d+(S+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Br(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Hl(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=cm(n,t),r==qd){4==e&&(n.o=4,pr(14),i=!1),Xc(n.j,n.m,null,"[Incomplete Response]");break}if(r==lm){n.o=4,pr(15),Xc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Xc(n.j,n.m,r,null),ru(n,r)}Br(n)&&r!=qd&&r!=lm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Of(e),e.L=!0,pr(11))):(Xc(n.j,n.m,t,"[Invalid Chunked Response]"),jl(n),Ul(n))}function cm(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?qd:(t=Number(e.substring(t,i)),isNaN(t)?lm:(i+=1)+t>e.length?qd:(e=e.substr(i,t),n.C=i+t,e))}function aa(n){n.Y=Date.now()+n.P,If(n,n.P)}function If(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eu(un(n.eb,n),e)}function Sf(n){n.B&&(It.clearTimeout(n.B),n.B=null)}function Ul(n){0==n.l.G||n.I||ih(n.l,n)}function jl(n){Sf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ld(n.W),Vd(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ru(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Mf(t.i,n)))if(t.I=n.N,!n.J&&Mf(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(E){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=eu(un(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Wa(t),Fe(t)}du(t),pr(18)}if(1>=Yd(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else io(t,11)}else if((n.J||t.g==n)&&Wa(t),!kl(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let E=r[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const S=E[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const M=E[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=E[5];null!=F&&"number"==typeof F&&0<F&&(t.K=i=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const z=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var l=i.i;!l.g&&(Yi(z,"spdy")||Yi(z,"quic")||Yi(z,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Wl(l,l.h),l.h=null))}if(i.D){const ie=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.sa=ie,Sn(i.F,i.D,ie))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((i=t).oa=sh(i,i.H?i.la:null,i.W),d.J){Qd(i.i,d);var p=d,_=i.K;_&&p.setTimeout(_),p.B&&(Sf(p),aa(p)),i.g=d}else Kl(i);0<t.l.length&&st(t)}else"stop"!=E[0]&&"close"!=E[0]||io(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?io(t,7):se(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}Jc(4)}catch(E){}}function su(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Sl(n)||"string"==typeof n)im(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Sl(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Tf(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Sl(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var l=0;l<r;l++)e.call(void 0,i[l],t&&t[l],n)}}function ou(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof ou)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Af(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];to(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)to(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function to(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(qe=iu.prototype).setTimeout=function(n){this.P=n},qe.gb=function(n){n=n.target;const e=this.L;e&&3==f(n)?e.l():this.Ia(n)},qe.Ia=function(n){try{if(n==this.g)e:{const S=f(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>S)&&(3!=S||Eo||this.g&&(this.h.h||this.g.ga()||g(this.g)))){this.I||4!=S||7==e||Jc(8==e||0>=M?3:2),Sf(this);var t=this.g.ba();this.N=t;t:if(Br(this)){var i=g(this.g);n="";var r=i.length,l=4==f(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){jl(this),Ul(this);var d="";break t}this.h.i=new It.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:l&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function wf(n,e,t,i,r,l,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kl(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,pr(12),jl(this),Ul(this);break e}Xc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ru(this,t)}this.U?(Hl(this,S,d),Eo&&this.i&&3==S&&(Qc(this.V,this.W,"tick",this.fb),this.W.start())):(Xc(this.j,this.m,d,null),ru(this,d)),4==S&&jl(this),this.i&&!this.I&&(4==S?ih(this.l,this):(this.i=!1,aa(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),jl(this),Ul(this)}}}catch(S){}},qe.fb=function(){if(this.g){var n=f(this.g),e=this.g.ga();this.C<e.length&&(Sf(this),Hl(this,n,e),this.i&&4!=n&&aa(this))}},qe.cancel=function(){this.I=!0,jl(this)},qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Bd(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jc(3),pr(17)),jl(this),this.o=2,Ul(this)):If(this,this.Y-n)},(qe=ou.prototype).R=function(){Af(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},qe.T=function(){return Af(this),this.g.concat()},qe.get=function(n,e){return to(this.h,n)?this.h[n]:e},qe.set=function(n,e){to(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},qe.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],l=this.get(r);n.call(e,l,r,this)}};var um=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Mo){this.g=void 0!==e?e:n.g,au(this,n.j),this.s=n.s,ja(this,n.i),la(this,n.m),this.l=n.l,e=n.h;var t=new Zd;t.i=e.i,e.g&&(t.g=new ou(e.g),t.h=e.h),Wd(this,t),this.o=n.o}else n&&(t=String(n).match(um))?(this.g=!!e,au(this,t[1]||"",!0),this.s=Gl(t[2]||""),ja(this,t[3]||"",!0),la(this,t[4]),this.l=Gl(t[5]||"",!0),Wd(this,t[6]||"",!0),this.o=Gl(t[7]||"")):(this.g=!!e,this.h=new Zd(null,this.g))}function ws(n){return new Mo(n)}function au(n,e,t){n.j=t?Gl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ja(n,e,t){n.i=t?Gl(e,!0):e}function la(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Wd(n,e,t){e instanceof Zd?(n.h=e,function er(n,e){e&&!n.j&&(ts(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Li(this,i),cu(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=zl(e,j_)),n.h=new Zd(e,n.g))}function Sn(n,e,t){n.h.set(e,t)}function Tn(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,H_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function H_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zl(e,lu,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zl(e,lu,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(zl(t,"/"==t.charAt(0)?hm:U_,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zl(t,rw)),n.join("")};var lu=/[#\/\?@]/g,U_=/[#\?:]/g,hm=/[#\?]/g,j_=/[#\?@]/g,rw=/#/g;function Zd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ts(n){n.g||(n.g=new ou,n.h=0,n.i&&function V_(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var l=n[t].substring(0,i);r=n[t].substring(i+1)}else l=n[t];e(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Li(n,e){ts(n),e=ca(n,e),to(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,to((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Af(n)))}function $l(n,e){return ts(n),e=ca(n,e),to(n.g.h,e)}function cu(n,e,t){Li(n,e),0<t.length&&(n.i=null,n.g.set(ca(n,e),xl(t)),n.h+=t.length)}function ca(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kd(n){this.l=n||Hr,n=It.PerformanceNavigationTiming?0<(n=It.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(It.g&&It.g.Ea&&It.g.Ea()&&It.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=Zd.prototype).add=function(n,e){ts(this),this.i=null,n=ca(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(n,e){ts(this),this.g.forEach(function(t,i){im(t,function(r){n.call(e,r,i,this)},this)},this)},qe.T=function(){ts(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],l=0;l<r.length;l++)t.push(e[i]);return t},qe.R=function(n){ts(this);var e=[];if("string"==typeof n)$l(this,n)&&(e=gf(e,this.g.get(ca(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=gf(e,n[t])}return e},qe.set=function(n,e){return ts(this),this.i=null,$l(this,n=ca(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var d=r;""!==i[l]&&(d+="="+encodeURIComponent(String(i[l]))),n.push(d)}}return this.i=n.join("&")};var Hr=10;function ql(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Yd(n){return n.h?1:n.g?n.g.size:0}function Mf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Wl(n,e){n.g?n.g.add(e):n.h=e}function Qd(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return xl(n.i)}function Xd(){}function G_(){this.g=new Xd}function no(n,e,t){const i=t||"";try{su(n,function(r,l){let d=r;Ki(r)&&(d=es(r)),e.push(i+l+"="+encodeURIComponent(d))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Jd(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(l){}}function za(n){this.l=n.$b||null,this.j=n.ib||!1}function eh(n,e){On.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=th,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kd.prototype.cancel=function(){if(this.i=xf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Xd.prototype.stringify=function(n){return It.JSON.stringify(n,void 0)},Xd.prototype.parse=function(n){return It.JSON.parse(n,void 0)},Xn(za,tu),za.prototype.g=function(){return new eh(this.l,this.j)},za.prototype.i=function(n){return function(){return n}}({}),Xn(eh,On);var th=0;function Di(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function $a(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qa(n)}function qa(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qe=eh.prototype).open=function(n,e){if(this.readyState!=th)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qa(this)},qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||It).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$a(this)),this.readyState=th},qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==It.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Di(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$a(this):qa(this),3==this.readyState&&Di(this)}},qe.Ua=function(n){this.g&&(this.response=this.responseText=n,$a(this))},qe.Ta=function(n){this.g&&(this.response=n,$a(this))},qe.ha=function(){this.g&&$a(this)},qe.setRequestHeader=function(n,e){this.v.append(n,e)},qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var z_=It.JSON.parse;function pn(n){On.call(this),this.headers=new ou,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zl,this.K=this.L=!1}Xn(pn,On);var Zl="",kf=/^https?$/i,pm=["POST","PUT"];function Rf(n){return"content-type"==n.toLowerCase()}function mm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gm(n),nh(n)}function gm(n){n.D||(n.D=!0,vn(n,"complete"),vn(n,"error"))}function _m(n){if(n.h&&void 0!==Dr&&(!n.C[1]||4!=f(n)||2!=n.ba()))if(n.v&&4==f(n))Vl(n.Fa,0,n);else if(vn(n,"readystatechange"),4==f(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===p){var r=String(n.H).match(um)[1]||null;if(!r&&It.self&&It.self.location){var l=It.self.location.protocol;r=l.substr(0,l.length-1)}i=!kf.test(r?r.toLowerCase():"")}t=i}if(t)vn(n,"complete"),vn(n,"success");else{n.m=6;try{var d=2<f(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",gm(n)}}finally{nh(n)}}}function nh(n,e){if(n.g){y(n);const t=n.g,i=n.C[0]?wo:null;n.g=null,n.C=null,e||vn(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function y(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(It.clearTimeout(n.A),n.A=null)}function f(n){return n.g?n.g.readyState:0}function g(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Zl:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function T(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function b(n){let e="";return Ks(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sn(n,e,t))}function R(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function q(n){this.za=0,this.l=[],this.h=new To,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=R("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=R("baseRetryDelayMs",5e3,n),this.$a=R("retryDelaySeedMs",1e4,n),this.Ya=R("forwardChannelMaxRetries",2,n),this.ra=R("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Kd(n&&n.concurrentRequestLimit),this.Ca=new G_,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function se(n){if(Qe(n),3==n.G){var e=n.V++,t=ws(n.F);Sn(t,"SID",n.J),Sn(t,"RID",e),Sn(t,"TYPE","terminate"),xo(n,t),(e=new iu(n,n.h,e,void 0)).K=2,e.v=Tn(ws(t)),t=!1,It.navigator&&It.navigator.sendBeacon&&(t=It.navigator.sendBeacon(e.v.toString(),"")),!t&&It.Image&&((new Image).src=e.v,t=!0),t||(e.g=vm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),aa(e)}ym(n)}function Fe(n){n.g&&(Of(n),n.g.cancel(),n.g=null)}function Qe(n){Fe(n),n.u&&(It.clearTimeout(n.u),n.u=null),Wa(n),n.i.cancel(),n.m&&("number"==typeof n.m&&It.clearTimeout(n.m),n.m=null)}function mt(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&st(n)}function st(n){ql(n.i)||n.m||(n.m=!0,Nd(n.Ha,n),n.C=0)}function Ur(n,e){var t;t=e?e.m:n.V++;const i=ws(n.F);Sn(i,"SID",n.J),Sn(i,"RID",t),Sn(i,"AID",n.U),xo(n,i),n.o&&n.s&&T(i,n.o,n.s),t=new iu(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=uu(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Wl(n.i,t),Ao(t,i,e)}function xo(n,e){n.j&&su({},function(t,i){Sn(e,i,t)})}function uu(n,e,t){t=Math.min(n.l.length,t);var i=n.j?un(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=r[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let p=!0;for(let _=0;_<t;_++){let E=r[_].h;const S=r[_].g;if(E-=l,0>E)l=Math.max(0,r[_].h-100),p=!1;else try{no(S,d,"req"+E+"_")}catch(M){i&&i(S)}}if(p){i=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Kl(n){n.g||n.u||(n.Y=1,Nd(n.Ga,n),n.A=0)}function du(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=eu(un(n.Ga,n),rh(n,n.A)),n.A++,0))}function Of(n){null!=n.B&&(It.clearTimeout(n.B),n.B=null)}function ko(n){n.g=new iu(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ws(n.oa);Sn(e,"RID","rpc"),Sn(e,"SID",n.J),Sn(e,"CI",n.N?"0":"1"),Sn(e,"AID",n.U),xo(n,e),Sn(e,"TYPE","xmlhttp"),n.o&&n.s&&T(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Tn(ws(e)),t.s=null,t.U=!0,Df(t,n)}function Wa(n){null!=n.v&&(It.clearTimeout(n.v),n.v=null)}function ih(n,e){var t=null;if(n.g==e){Wa(n),Of(n),n.g=null;var i=2}else{if(!Mf(n.i,e))return;t=e.D,Qd(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;vn(i=Bl(),new Hd(i,t,e,r)),st(n)}else Kl(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function Pn(n,e){return!(Yd(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=eu(un(n.Ha,n,e),rh(n,n.C)),n.C++,0)))}(n,e)||2==i&&du(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:io(n,5);break;case 4:io(n,10);break;case 3:io(n,6);break;default:io(n,2)}}function rh(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function io(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=un(n.jb,n);t||(t=new Mo("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||au(t,"https"),Tn(t)),function fm(n,e){const t=new To;if(It.Image){const i=new Image;i.onload=Al(Jd,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Al(Jd,t,i,"TestLoadImage: error",!1,e),i.onabort=Al(Jd,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Al(Jd,t,i,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else pr(2);n.G=0,n.j&&n.j.va(e),ym(n),Qe(n)}function ym(n){n.G=0,n.I=-1,n.j&&((0!=xf(n.i).length||0!=n.l.length)&&(n.i.i.length=0,xl(n.l),n.l.length=0),n.j.ua())}function sh(n,e,t){let i=function dm(n){return n instanceof Mo?ws(n):new Mo(n,void 0)}(t);if(""!=i.i)e&&ja(i,e+"."+i.i),la(i,i.m);else{const r=It.location;i=function B_(n,e,t,i){var r=new Mo(null,void 0);return n&&au(r,n),e&&ja(r,e),t&&la(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Ks(n.aa,function(r,l){Sn(i,l,r)}),t=n.sa,(e=n.D)&&t&&Sn(i,e,t),Sn(i,"VER",n.ma),xo(n,i),i}function vm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pn(t&&n.Ba&&!n.qa?new za({ib:!0}):n.qa)).L=n.H,e}function sw(){}function bm(){if(Ei&&!(10<=Number(Zc)))throw Error("Environmental error: no available transport.")}function Es(n,e){On.call(this),this.g=new q(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!kl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hu(this)}function q_(n){jd.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wm(){Gd.call(this),this.status=1}function hu(n){this.g=n}(qe=pn.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zd.g(),this.C=function am(n){return n.h||(n.h=n.i())}(this.u?this.u:zd),this.g.onreadystatechange=un(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void mm(this,l)}n=t||"";const r=new ou(this.headers);i&&su(i,function(l,d){r.set(d,l)}),i=function k_(n){e:{var e=Rf;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=It.FormData&&n instanceof It.FormData,!(0<=Rn(pm,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{y(this),0<this.B&&((this.K=function $_(n){return Ei&&function Co(){return function Md(n){var e=kd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_f(String(na)).split("."),t=_f("9").split("."),i=Math.max(e.length,t.length);for(let d=0;0==n&&d<i;d++){var r=e[d]||"",l=t[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=vs(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||vs(0==r[2].length,0==l[2].length)||vs(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.pa,this)):this.A=Vl(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){mm(this,l)}},qe.pa=function(){void 0!==Dr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))},qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vn(this,"complete"),vn(this,"abort"),nh(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nh(this,!0)),pn.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?_m(this):this.cb())},qe.cb=function(){_m(this)},qe.ba=function(){try{return 2<f(this)?this.g.status:-1}catch(n){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},qe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),z_(e)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=q.prototype).ma=8,qe.G=1,qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new iu(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=yf(l),wi(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uu(this,r,e),Sn(t=ws(this.F),"RID",n),Sn(t,"CVER",22),this.D&&Sn(t,"X-HTTP-Session-Id",this.D),xo(this,t),this.o&&l&&T(t,this.o,l),Wl(this.i,r),this.Ra&&Sn(t,"TYPE","init"),this.ja?(Sn(t,"$req",e),Sn(t,"SID","null"),r.$=!0,Ao(r,t,null)):Ao(r,t,e),this.G=2}}else 3==this.G&&(n?Ur(this,n):0==this.l.length||ql(this.i)||Ur(this))},qe.Ga=function(){if(this.u=null,ko(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=eu(un(this.bb,this),n)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pr(10),Fe(this),ko(this))},qe.ab=function(){null!=this.v&&(this.v=null,Fe(this),du(this),pr(19))},qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),pr(2)):(this.h.info("Failed to ping google.com"),pr(1))},(qe=sw.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},bm.prototype.g=function(n,e){return new Es(n,e)},Xn(Es,On),Es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Nd(un(n.hb,n,e))),pr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=sh(n,null,n.W),st(n)},Es.prototype.close=function(){se(this.g)},Es.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,mt(this.g,e)}else this.v?((e={}).__data__=es(n),mt(this.g,e)):mt(this.g,n)},Es.prototype.M=function(){this.g.j=null,delete this.j,se(this.g),delete this.g,Es.Z.M.call(this)},Xn(q_,jd),Xn(wm,Gd),Xn(hu,sw),hu.prototype.xa=function(){vn(this.g,"a")},hu.prototype.wa=function(n){vn(this.g,new q_(n))},hu.prototype.va=function(n){vn(this.g,new wm(n))},hu.prototype.ua=function(){vn(this.g,"b")},bm.prototype.createWebChannel=bm.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Ha.COMPLETE="complete",Ud.EventType=nu,nu.OPEN="a",nu.CLOSE="b",nu.ERROR="c",nu.MESSAGE="d",On.prototype.listen=On.prototype.N,pn.prototype.listenOnce=pn.prototype.O,pn.prototype.getLastError=pn.prototype.La,pn.prototype.getLastErrorCode=pn.prototype.Da,pn.prototype.getStatus=pn.prototype.ba,pn.prototype.getResponseJson=pn.prototype.Qa,pn.prototype.getResponseText=pn.prototype.ga,pn.prototype.send=pn.prototype.ea;var W_=qs.createWebChannelTransport=function(){return new bm},wD=qs.getStatEventTarget=function(){return Bl()},Z_=qs.ErrorCode=Ir,ow=qs.EventType=Ha,aw=qs.Event=sa,Yl=qs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lw=qs.FetchXmlHttpFactory=za,Pf=qs.WebChannel=Ud,ED=qs.XhrIo=pn;const Nf="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let fu="9.6.11";const Za=new Cr.Yd("@firebase/firestore");function Em(){return Za.logLevel}function Pe(n,...e){if(Za.logLevel<=Cr.in.DEBUG){const t=e.map(Cm);Za.debug(`Firestore (${fu}): ${n}`,...t)}}function Jn(n,...e){if(Za.logLevel<=Cr.in.ERROR){const t=e.map(Cm);Za.error(`Firestore (${fu}): ${n}`,...t)}}function Ql(n,...e){if(Za.logLevel<=Cr.in.WARN){const t=e.map(Cm);Za.warn(`Firestore (${fu}): ${n}`,...t)}}function Cm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function At(n,e){n||Je()}function je(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends St.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class Q_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dw{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const l=E=>this.i!==r?(r=this.i,t(E)):Promise.resolve();let d=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new tr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const E=d;e.enqueueRetryable((0,_e.Z)(function*(){yield E.promise,yield l(i.currentUser)}))},_=E=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new tr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At("string"==typeof i.accessToken),new cw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new mr(e)}}class vA{constructor(e,t,i){this.type="FirstParty",this.user=mr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class hw{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new vA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const r=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?r(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.p=t.token,new fw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Cs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ro(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Cs.A=-1;class mw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Ro(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<t&&(i+=e.charAt(r[l]%e.length))}return i}}function Ot(n,e){return n<e?-1:n>e?1:0}function oh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function gw(n){return n+"\0"}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ui(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new ui(0,0))}static max(){return new Ct(new ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function X_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _w(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ff{constructor(e,t,i){void 0===t?t=0:t>e.length&&Je(),void 0===i?i=e.length-t:i>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ff.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const l=e.get(r),d=t.get(r);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ze extends Ff{construct(e,t,i){return new ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ze(t)}static emptyPath(){return new ze([])}}const yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends Ff{construct(e,t,i){return new Vi(e,t,i)}static isValidIdentifier(e){return yw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const l=()=>{if(0===i.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;r<e.length;){const p=e[r];if("\\"===p){if(r+1===e.length)throw new Me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===p?(d=!d,r++):"."!==p||d?(i+=p,r++):(l(),r++)}if(l(),d)throw new Me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(t)}static emptyPath(){return new Vi([])}}class mu{constructor(e){this.fields=e,e.sort(Vi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new bn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xl(n){if(At(!!n),"string"==typeof n){let e=0;const t=vw.exec(n);if(At(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jr(n){return"string"==typeof n?bn.fromBase64String(n):bn.fromUint8Array(n)}function Lf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function J_(n){const e=n.mapValue.fields.__previous_value__;return Lf(e)?J_(e):e}function gu(n){const e=Xl(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(e.seconds,e.nanos)}class wA{constructor(e,t,i,r,l,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class ua{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}function ah(n){return null==n}function Jl(n){return 0===n&&1/n==-1/0}function Vf(n){return"number"==typeof n&&Number.isInteger(n)&&!Jl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Be{constructor(e){this.path=e}static fromPath(e){return new Be(ze.fromString(e))}static fromName(e){return new Be(ze.fromString(e).popFirst(5))}static empty(){return new Be(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ze.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new ze(e.slice()))}}const Im={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sm={nullValue:"NULL_VALUE"};function lh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lf(n)?4:CD(n)?9:10:Je()}function da(n,e){if(n===e)return!0;const t=lh(n);if(t!==lh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gu(n).isEqual(gu(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=Xl(i.timestampValue),d=Xl(r.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,jr(n.bytesValue).isEqual(jr(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Un(i.geoPointValue.latitude)===Un(r.geoPointValue.latitude)&&Un(i.geoPointValue.longitude)===Un(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Un(i.integerValue)===Un(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=Un(i.doubleValue),d=Un(r.doubleValue);return l===d?Jl(l)===Jl(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return oh(n.arrayValue.values||[],e.arrayValue.values||[],da);case 10:return function(i,r){const l=i.mapValue.fields||{},d=r.mapValue.fields||{};if(X_(l)!==X_(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===d[p]||!da(l[p],d[p])))return!1;return!0}(n,e);default:return Je()}var r}function Bf(n,e){return void 0!==(n.values||[]).find(t=>da(t,e))}function ec(n,e){if(n===e)return 0;const t=lh(n),i=lh(e);if(t!==i)return Ot(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(r,l){const d=Un(r.integerValue||r.doubleValue),p=Un(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return bw(n.timestampValue,e.timestampValue);case 4:return bw(gu(n),gu(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(r,l){const d=jr(r),p=jr(l);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(r,l){const d=r.split("/"),p=l.split("/");for(let _=0;_<d.length&&_<p.length;_++){const E=Ot(d[_],p[_]);if(0!==E)return E}return Ot(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,l){const d=Ot(Un(r.latitude),Un(l.latitude));return 0!==d?d:Ot(Un(r.longitude),Un(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,l){const d=r.values||[],p=l.values||[];for(let _=0;_<d.length&&_<p.length;++_){const E=ec(d[_],p[_]);if(E)return E}return Ot(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,l){const d=r.fields||{},p=Object.keys(d),_=l.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const M=Ot(p[S],E[S]);if(0!==M)return M;const F=ec(d[p[S]],_[E[S]]);if(0!==F)return F}return Ot(p.length,E.length)}(n.mapValue,e.mapValue);default:throw Je()}}function bw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=Xl(n),i=Xl(e),r=Ot(t.seconds,i.seconds);return 0!==r?r:Ot(t.nanos,i.nanos)}function _u(n){return ww(n)}function ww(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Xl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jr(n.bytesValue).toBase64():"referenceValue"in n?Be.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const d of i.values||[])l?l=!1:r+=",",r+=ww(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",d=!0;for(const p of r)d?d=!1:l+=",",l+=`${p}:${ww(i.fields[p])}`;return l+"}"}(n.mapValue):Je();var e}function yu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ew(n){return!!n&&"integerValue"in n}function ch(n){return!!n&&"arrayValue"in n}function ey(n){return!!n&&"nullValue"in n}function Cw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uh(n){return!!n&&"mapValue"in n}function Tm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function EA(n){return"nullValue"in n?Sm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?yu(ua.empty(),Be.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function CA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?yu(ua.empty(),Be.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Im:Je()}function DD(n,e){return void 0===n?e:void 0===e||ec(n,e)>0?n:e}function ID(n,e){return void 0===n?e:void 0===e||ec(n,e)<0?n:e}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tm(t)}setAll(e){let t=Vi.emptyPath(),i={},r=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=p.popLast()}d?i[p.lastSegment()]=Tm(d):r.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,r)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];uh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){pu(t,(r,l)=>e[r]=l);for(const r of i)delete e[r]}clone(){return new Gr(Tm(this.value))}}function SD(n){const e=[];return pu(n.fields,(t,i)=>{const r=new Vi([t]);if(uh(i)){const l=SD(i.mapValue).fields;if(0===l.length)e.push(r);else for(const d of l)e.push(r.child(d))}else e.push(r)}),new mu(e)}class jn{constructor(e,t,i,r,l,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=l,this.documentState=d}static newInvalidDocument(e){return new jn(e,0,Ct.min(),Ct.min(),Gr.empty(),0)}static newFoundDocument(e,t,i){return new jn(e,1,t,Ct.min(),i,0)}static newNoDocument(e,t){return new jn(e,2,t,Ct.min(),Gr.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,Ct.min(),Gr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ty{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function ha(n){return n.fields.find(e=>2===e.kind)}function Ka(n){return n.fields.filter(e=>2!==e.kind)}ty.UNKNOWN_ID=-1;class Am{constructor(e,t){this.fieldPath=e,this.kind=t}}class dh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dh(0,Oo.min())}}function Mm(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ct.fromTimestamp(1e9===i?new ui(t+1,0):new ui(t,i));return new Oo(r,Be.empty(),e)}function Dw(n){return new Oo(n.readTime,n.key,-1)}class Oo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oo(Ct.min(),Be.empty(),-1)}static max(){return new Oo(Ct.max(),Be.empty(),-1)}}function TD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Be.comparator(n.documentKey,e.documentKey),0!==t?t:Ot(n.largestBatchId,e.largestBatchId))}class tc{constructor(e,t=null,i=[],r=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=d,this.endAt=p,this.P=null}}function ny(n,e=null,t=[],i=[],r=null,l=null,d=null){return new tc(n,e,t,i,r,l,d)}function vu(n){const e=je(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+_u(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>_u(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>_u(i)).join(",")),e.P=t}return e.P}function Hf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!km(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!da(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oy(n.startAt,e.startAt)&&oy(n.endAt,e.endAt)}function Uf(n){return Be.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xm(n,e){return n.filters.filter(t=>t instanceof si&&t.field.isEqual(e))}function Iw(n,e,t){let i,r=!0;for(const l of xm(n,e)){let d,p=!0;switch(l.op){case"<":case"<=":d=EA(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,p=!1;break;case"!=":case"not-in":d=Sm}DD(i,d)===d&&(i=d,r=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];DD(i,d)===d&&(i=d,r=t.inclusive);break}return{value:i,inclusive:r}}function hh(n,e,t){let i,r=!0;for(const l of xm(n,e)){let d,p=!0;switch(l.op){case">=":case">":d=CA(l.value),p=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,p=!1;break;case"!=":case"not-in":d=Im}ID(i,d)===d&&(i=d,r=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];ID(i,d)===d&&(i=d,r=t.inclusive);break}return{value:i,inclusive:r}}class si extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new ry(e,t,i):"array-contains"===t?new AD(e,i):"in"===t?new Sw(e,i):"not-in"===t?new Tw(e,i):"array-contains-any"===t?new sy(e,i):new si(e,t,i)}static V(e,t,i){return"in"===t?new fh(e,i):new jf(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ec(t,this.value)):null!==t&&lh(this.value)===lh(t)&&this.v(ec(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ry extends si{constructor(e,t,i){super(e,t,i),this.key=Be.fromName(i.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.v(t)}}class fh extends si{constructor(e,t){super(e,"in",t),this.keys=bu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jf extends si{constructor(e,t){super(e,"not-in",t),this.keys=bu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bu(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Be.fromName(i.referenceValue))}class AD extends si{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ch(t)&&Bf(t.arrayValue,this.value)}}class Sw extends si{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bf(this.value.arrayValue,t)}}class Tw extends si{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bf(this.value.arrayValue,t)}}class sy extends si{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ch(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Bf(this.value.arrayValue,i))}}class fa{constructor(e,t){this.position=e,this.inclusive=t}}class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function km(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Aw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const l=e[r],d=n.position[r];if(i=l.field.isKeyField()?Be.comparator(Be.fromName(d.referenceValue),t.key):ec(d,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function oy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!da(n.position[t],e.position[t]))return!1;return!0}class nc{constructor(e,t=null,i=[],r=[],l=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=_,this.D=null,this.C=null}}function ay(n,e,t,i,r,l,d,p){return new nc(n,e,t,i,r,l,d,p)}function Eu(n){return new nc(n)}function Rm(n){return!ah(n.limit)&&"F"===n.limitType}function Gf(n){return!ah(n.limit)&&"L"===n.limitType}function ly(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function cy(n){for(const e of n.filters)if(e.S())return e.field;return null}function zr(n){return null!==n.collectionGroup}function ph(n){const e=je(n);if(null===e.D){e.D=[];const t=cy(e),i=ly(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new wu(t)),e.D.push(new wu(Vi.keyField(),"asc"));else{let r=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new wu(Vi.keyField(),l))}}}return e.D}function ro(n){const e=je(n);if(!e.C)if("F"===e.limitType)e.C=ny(e.path,e.collectionGroup,ph(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ph(e))t.push(new wu(l.field,"desc"===l.dir?"asc":"desc"));const i=e.endAt?new fa(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new fa(e.startAt.position,!e.startAt.inclusive):null;e.C=ny(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function MD(n,e,t){return new nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Om(n,e){return Hf(ro(n),ro(e))&&n.limitType===e.limitType}function uy(n){return`${vu(ro(n))}|lt:${n.limitType}`}function Mw(n){return`Query(target=${function iy(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${_u(i.value)}`;var i}).join(", ")}]`),ah(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>_u(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>_u(t)).join(",")),`Target(${e})`}(ro(n))}; limitType=${n.limitType})`}function dy(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Be.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,l,d){const p=Aw(r,l,d);return r.inclusive?p<=0:p<0}(t.startAt,ph(t),i)||t.endAt&&!function(r,l,d){const p=Aw(r,l,d);return r.inclusive?p>=0:p>0}(t.endAt,ph(t),i)));var t,i}function Pm(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hy(n){return(e,t)=>{let i=!1;for(const r of ph(n)){const l=xD(r,e,t);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function xD(n,e,t){const i=n.field.isKeyField()?Be.comparator(e.key,t.key):function(r,l,d){const p=l.data.field(r),_=d.data.field(r);return null!==p&&null!==_?ec(p,_):Je()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Je()}}function xw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function kw(n){return{integerValue:""+n}}function fy(n,e){return Vf(e)?kw(e):xw(n,e)}class Nm{constructor(){this._=void 0}}function Rw(n,e,t){return n instanceof Cu?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(t,e):n instanceof ic?Pw(n,e):n instanceof Sr?Fm(n,e):function(i,r){const l=Ow(i,r),d=Nw(l)+Nw(i.k);return Ew(l)&&Ew(i.k)?kw(d):xw(i.M,d)}(n,e)}function kD(n,e,t){return n instanceof ic?Pw(n,e):n instanceof Sr?Fm(n,e):t}function Ow(n,e){return n instanceof mh?Ew(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Cu extends Nm{}class ic extends Nm{constructor(e){super(),this.elements=e}}function Pw(n,e){const t=RD(e);for(const i of n.elements)t.some(r=>da(r,i))||t.push(i);return{arrayValue:{values:t}}}class Sr extends Nm{constructor(e){super(),this.elements=e}}function Fm(n,e){let t=RD(e);for(const i of n.elements)t=t.filter(r=>!da(r,i));return{arrayValue:{values:t}}}class mh extends Nm{constructor(e,t){super(),this.M=e,this.k=t}}function Nw(n){return Un(n.integerValue||n.doubleValue)}function RD(n){return ch(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gh{constructor(e,t){this.field=e,this.transform=t}}class PD{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Lm{}function ND(n,e,t){n instanceof Du?function(i,r,l){const d=i.value.clone(),p=Vw(i.fieldTransforms,r,l.transformResults);d.setAll(p),r.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof rc?function(i,r,l){if(!_h(i.precondition,r))return void r.convertToUnknownDocument(l.version);const d=Vw(i.fieldTransforms,r,l.transformResults),p=r.data;p.setAll(Lw(i)),p.setAll(d),r.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yh(n,e,t){var r;n instanceof Du?function(i,r,l){if(!_h(i.precondition,r))return;const d=i.value.clone(),p=Bm(i.fieldTransforms,l,r);d.setAll(p),r.convertToFoundDocument(Vm(r),d).setHasLocalMutations()}(n,e,t):n instanceof rc?function(i,r,l){if(!_h(i.precondition,r))return;const d=Bm(i.fieldTransforms,l,r),p=r.data;p.setAll(Lw(i)),p.setAll(d),r.convertToFoundDocument(Vm(r),p).setHasLocalMutations()}(n,e,t):_h(n.precondition,r=e)&&r.convertToNoDocument(Ct.min())}function py(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),l=Ow(i.transform,r||null);null!=l&&(null==t&&(t=Gr.empty()),t.set(i.field,l))}return t||null}function Fw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&oh(t,i,(r,l)=>function OD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ic&&i instanceof ic||t instanceof Sr&&i instanceof Sr?oh(t.elements,i.elements,da):t instanceof mh&&i instanceof mh?da(t.k,i.k):t instanceof Cu&&i instanceof Cu);var t,i}(r,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function Vm(n){return n.isFoundDocument()?n.version:Ct.min()}class Du extends Lm{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class rc extends Lm{constructor(e,t,i,r,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function Lw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Vw(n,e,t){const i=new Map;At(n.length===t.length);for(let r=0;r<t.length;r++){const l=n[r],d=l.transform,p=e.data.field(l.field);i.set(l.field,kD(d,p,t[r]))}return i}function Bm(n,e,t){const i=new Map;for(const r of n){const l=r.transform,d=t.data.field(r.field);i.set(r.field,Rw(l,d,e))}return i}class Hm extends Lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class my extends Lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Bw{constructor(e){this.count=e}}var di,Wt;function gy(n){switch(n){default:return Je();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function _y(n){if(void 0===n)return Jn("GRPC error has no .code"),ce.UNKNOWN;switch(n){case di.OK:return ce.OK;case di.CANCELLED:return ce.CANCELLED;case di.UNKNOWN:return ce.UNKNOWN;case di.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case di.INTERNAL:return ce.INTERNAL;case di.UNAVAILABLE:return ce.UNAVAILABLE;case di.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case di.NOT_FOUND:return ce.NOT_FOUND;case di.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case di.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case di.ABORTED:return ce.ABORTED;case di.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case di.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case di.DATA_LOSS:return ce.DATA_LOSS;default:return Je()}}(Wt=di||(di={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class Tr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return void(r[l]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,(t,i)=>{for(const[r,l]of i)e(r,l)})}isEmpty(){return _w(this.inner)}size(){return this.innerSize}}class Gn{constructor(e,t){this.comparator=e,this.root=t||gr.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Um(this.root,e,this.comparator,!1)}getReverseIterator(){return new Um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Um(this.root,e,this.comparator,!0)}}class Um{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&r&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,t,i,r,l){this.key=e,this.value=t,this.color=null!=i?i:gr.RED,this.left=null!=r?r:gr.EMPTY,this.right=null!=l?l:gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,l){return new gr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const l=i(e,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===l?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return gr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1,gr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,i,r){return this}insert(n,e,t){return new gr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jm(this.data.getIterator())}getIteratorFrom(e){return new jm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zn(this.comparator);return t.data=e,t}}class jm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Iu(n){return n.hasNext()?n.getNext():void 0}const yy=new Gn(Be.comparator);function Ar(){return yy}const FD=new Gn(Be.comparator);function zf(){return FD}function vh(){return new Tr(n=>n.toString(),(n,e)=>n.isEqual(e))}const Hw=new Gn(Be.comparator),Uw=new zn(Be.comparator);function mn(...n){let e=Uw;for(const t of n)e=e.add(t);return e}const vy=new zn(Ot);function Gm(){return vy}class $f{constructor(e,t,i,r,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,bh.createSynthesizedTargetChangeForCurrentChange(e,t)),new $f(Ct.min(),i,Gm(),Ar(),mn())}}class bh{constructor(e,t,i,r,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new bh(bn.EMPTY_BYTE_STRING,t,mn(),mn(),mn())}}class Ya{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class by{constructor(e,t){this.targetId=e,this.$=t}}class jw{constructor(e,t,i=bn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Gw{constructor(){this.B=0,this.L=$w(),this.U=bn.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=mn(),t=mn(),i=mn();return this.L.forEach((r,l)=>{switch(l){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Je()}}),new bh(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=$w()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class wh{constructor(e){this.nt=e,this.st=new Map,this.it=Ar(),this.rt=zw(),this.ot=new zn(Ot)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const l=r.target;if(Uf(l))if(0===i){const d=new Be(l.path);this.ct(t,d,jn.newNoDocument(d,Ct.min()))}else At(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const p=this.wt(d);if(p){if(l.current&&Uf(p.target)){const _=new Be(p.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,jn.newNoDocument(_,e))}l.j&&(t.set(d,l.H()),l.J())}});let i=mn();this.rt.forEach((l,d)=>{let p=!0;d.forEachWhile(_=>{const E=this.wt(_);return!E||2===E.purpose||(p=!1,!1)}),p&&(i=i.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const r=new $f(e,t,this.ot,this.it,i);return this.it=Ar(),this.rt=zw(),this.ot=new zn(Ot),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Gw,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new zn(Ot),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Gw),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function zw(){return new Gn(Be.comparator)}function $w(){return new Gn(Be.comparator)}const LD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pa{constructor(e,t){this.databaseId=e,this.N=t}}function Su(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wy(n,e){return n.N?e.toBase64():e.toUint8Array()}function qw(n,e){return Su(n,e.toTimestamp())}function Bi(n){return At(!!n),Ct.fromTimestamp(function(e){const t=Xl(e);return new ui(t.seconds,t.nanos)}(n))}function zm(n,e){return(t=n,new ze(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ww(n){const e=ze.fromString(n);return At(e0(e)),e}function qf(n,e){return zm(n.databaseId,e.path)}function ma(n,e){const t=Ww(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(Dy(t))}function Ey(n,e){return zm(n.databaseId,e)}function Cy(n){const e=Ww(n);return 4===e.length?ze.emptyPath():Dy(e)}function $m(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dy(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Zw(n,e,t){return{name:qf(n,e),fields:t.value.mapValue.fields}}function Kw(n,e,t){const i=ma(n,e.name),r=Bi(e.updateTime),l=new Gr({mapValue:{fields:e.fields}}),d=jn.newFoundDocument(i,r,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Tu(n,e){let t;if(e instanceof Du)t={update:Zw(n,e.key,e.value)};else if(e instanceof Hm)t={delete:qf(n,e.key)};else if(e instanceof rc)t={update:Zw(n,e.key,e.data),updateMask:Ty(e.fieldMask)};else{if(!(e instanceof my))return Je();t={verify:qf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,l){const d=l.transform;if(d instanceof Cu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ic)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Sr)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof mh)return{fieldPath:l.field.canonicalString(),increment:d.k};throw Je()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:qw(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Je()),t;var r}function Iy(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ii.updateTime(Bi(r.updateTime)):void 0!==r.exists?Ii.exists(r.exists):Ii.none():Ii.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(l,d){let p=null;"setToServerValue"in d?(At("REQUEST_TIME"===d.setToServerValue),p=new Cu):"appendMissingElements"in d?p=new ic(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new Sr(d.removeAllFromArray.values||[]):"increment"in d?p=new mh(l,d.increment):Je();const _=Vi.fromServerFormat(d.fieldPath);return new gh(_,p)}(n,r)):[];var r;if(e.update){const r=ma(n,e.update.name),l=new Gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new mu((e.updateMask.fieldPaths||[]).map(E=>Vi.fromServerFormat(E)));return new rc(r,l,d,t,i)}return new Du(r,l,t,i)}if(e.delete){const r=ma(n,e.delete);return new Hm(r,t)}if(e.verify){const r=ma(n,e.verify);return new my(r,t)}return Je()}function Sy(n,e){return{documents:[Ey(n,e.path)]}}function BD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Ey(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ey(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const E=_.map(S=>function(M){if("=="===M.op){if(Cw(M.value))return{unaryFilter:{field:Au(M.field),op:"IS_NAN"}};if(ey(M.value))return{unaryFilter:{field:Au(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Cw(M.value))return{unaryFilter:{field:Au(M.field),op:"IS_NOT_NAN"}};if(ey(M.value))return{unaryFilter:{field:Au(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(M.field),op:Xw(M.op),value:M.value}}}(S));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);r&&(t.structuredQuery.where=r);const l=function(_){if(0!==_.length)return _.map(E=>{return{field:Au((S=E).field),direction:Qw(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(E=e.limit,n.N||ah(E)?E:{value:E});var E,p,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function so(n){let e=Cy(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){At(1===i);const S=t.from[0];S.allDescendants?r=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=HD(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new wu(Eh((M=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(S){let M;return M="object"==typeof S?S.value:S,ah(M)?null:M}(t.limit));let _=null;var S;t.startAt&&(_=new fa((S=t.startAt).values||[],!!S.before));let E=null;return t.endAt&&(E=function(S){return new fa(S.values||[],!S.before)}(t.endAt)),ay(e,r,d,l,p,"F",_,E)}function HD(n){return n?void 0!==n.unaryFilter?[Jw(n)]:void 0!==n.fieldFilter?[TA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>HD(e)).reduce((e,t)=>e.concat(t)):Je():[]}function Qw(n){return LD[n]}function Xw(n){return VD[n]}function Au(n){return{fieldPath:n.canonicalString()}}function Eh(n){return Vi.fromServerFormat(n.fieldPath)}function TA(n){return si.create(Eh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}function Jw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Eh(n.unaryFilter.field);return si.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eh(n.unaryFilter.field);return si.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Eh(n.unaryFilter.field);return si.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Eh(n.unaryFilter.field);return si.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}function Ty(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function e0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function _r(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=t0(e)),e=UD(n.get(t),e);return t0(e)}function UD(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function t0(n){return n+"\x01\x01"}function ga(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ze.emptyPath();const t=e-2,i=[];let r="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&Je(),n.charAt(d+1)){case"\x01":const p=n.substring(l,d);let _;0===r.length?_=p:(r+=p,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(l,d),r+="\0";break;case"\x11":r+=n.substring(l,d+1);break;default:Je()}l=d+2}return new ze(i)}const n0=["userId","batchId"];function qm(n,e){return[n,_r(e)]}function r0(n,e,t){return[n,_r(e),t]}const Wm={},Ch=["prefixPath","collectionGroup","readTime","documentId"],jD=["prefixPath","collectionGroup","documentId"],Wf=["collectionGroup","readTime","prefixPath","documentId"],GD=["canonicalId","targetId"],zD=["targetId","path"],Ay=["path","targetId"],_a=["collectionId","parent"],Zf=["indexId","uid"],Mr=["uid","sequenceNumber"],Mu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zm=["indexId","uid","orderedDocumentKey"],oo=["userId","collectionPath","documentId"],My=["userId","collectionPath","largestBatchId"],Dh=["userId","collectionGroup","largestBatchId"],xu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ih=[...xu,"documentOverlays"],ku=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sh=[...ku,"indexConfiguration","indexState","indexEntries"],Ru="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ou{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let r=0,l=0,d=!1;e.forEach(p=>{++r,p.next(()=>{++l,d&&l===r&&t()},_=>i(_))}),d=!0,l===r&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(r=>r?ue.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,l)=>{i.push(t.call(this,r,l))}),this.waitFor(i)}}class Qa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new tr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Th(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Km(i.target.error);this.At.reject(new Th(e,r))}}static open(e,t,i,r){try{return new Qa(t,e.transaction(r,i))}catch(l){throw new Th(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new o0(t)}}class ao{constructor(e,t,i){this.name=e,this.version=t,this.bt=i,12.2===ao.Vt((0,St.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),oc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,St.hl)())return!1;if(ao.St())return!0;const e=(0,St.z$)(),t=ao.Vt(e),i=0<t&&t<10,r=ao.Dt(e),l=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{i(d.target.result)},l.onblocked=()=>{r(new Th(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const p=d.target.error;r("VersionError"===p.name?new Me(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Me(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Th(e,p))},l.onupgradeneeded=d=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var l=this;return(0,_e.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.Nt(e);const _=Qa.open(l.db,e,d?"readonly":"readwrite",i),E=r(_).next(S=>(_.Pt(),S)).catch(S=>(_.abort(S),ue.reject(S))).toPromise();return E.catch(()=>{}),yield _.Rt,E}catch(_){const E="FirebaseError"!==_.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),l.close(),!E)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class s0{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return oc(this.Ft.delete())}}class Th extends Me{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sc(n){return"IndexedDbTransactionError"===n.name}class o0{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),oc(i)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),oc(this.store.add(e))}get(e){return oc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),oc(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),oc(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),l=[];return this.Kt(r,(d,p)=>{l.push(p)}).next(()=>l)}{const r=this.store.getAll(i.range);return new ue((l,d)=>{r.onerror=p=>{d(p.target.error)},r.onsuccess=p=>{l(p.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ue((r,l)=>{i.onerror=d=>{l(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(l,d,p)=>p.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new ue((i,r)=>{t.onerror=l=>{const d=Km(l.target.error);r(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():i()}):i()}})}Kt(e,t){const i=[];return new ue((r,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void r();const _=new s0(p),E=t(p.primaryKey,p.value,_);if(E instanceof ue){const S=E.catch(M=>(_.done(),ue.reject(M)));i.push(S)}_.isDone?r():null===_.Lt?p.continue():p.continue(_.Lt)}}).next(()=>ue.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function oc(n){return new ue((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Km(i.target.error);t(r)}})}let xy=!1;function Km(n){const e=ao.Vt((0,St.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xy||(xy=!0,setTimeout(()=>{throw i},0)),i}}return n}class ky extends Ou{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function nr(n,e){const t=je(n);return ao.xt(t.Ht,e)}class Ym{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(e.key)&&ND(l,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&yh(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&yh(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mn())}isEqual(e){return this.batchId===e.batchId&&oh(this.mutations,e.mutations,(t,i)=>Fw(t,i))&&oh(this.baseMutations,e.baseMutations,(t,i)=>Fw(t,i))}}class Ry{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){At(e.mutations.length===i.length);let r=Hw;const l=e.mutations;for(let d=0;d<l.length;d++)r=r.insert(l[d].key,i[d].version);return new Ry(e,t,i,r)}}class Qm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xa{constructor(e,t,i,r,l=Ct.min(),d=Ct.min(),p=bn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class a0{constructor(e){this.Jt=e}}function Oy(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:qf(r=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Su(r,l.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:ac(e.version)};else{if(!e.isUnknownDocument())return Je();i.unknownDocument={path:t.path.toArray(),version:ac(e.version)}}var r,l;return i}function Xm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ac(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pu(n){const e=new ui(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function Ah(n,e){const t=(e.baseMutations||[]).map(l=>Iy(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const i=e.mutations.map(l=>Iy(n.Jt,l)),r=ui.fromMillis(e.localWriteTimeMs);return new Ym(e.batchId,r,t,i)}function Jm(n){const e=Pu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Pu(n.lastLimboFreeSnapshotVersion):Ct.min();let i;var r;return void 0!==n.query.documents?(At(1===(r=n.query).documents.length),i=ro(Eu(Cy(r.documents[0])))):i=ro(so(n.query)),new Xa(i,n.targetId,0,n.lastListenSequenceNumber,e,t,bn.fromBase64String(n.resumeToken))}function l0(n,e){const t=ac(e.snapshotVersion),i=ac(e.lastLimboFreeSnapshotVersion);let r;r=Uf(e.target)?Sy(n.Jt,e.target):BD(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Kf(n){const e=so({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?MD(e,e.limit,"L"):e}function Yf(n,e){return new Qm(e.largestBatchId,Iy(n.Jt,e.overlayMutation))}function c0(n,e){const t=e.path.lastSegment();return[n,_r(e.path.popLast()),t]}class AA{getBundleMetadata(e,t){return qD(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Pu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return qD(e).put({bundleId:(i=t).id,createTime:ac(Bi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return WD(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Kf(r.bundledQuery),readTime:Pu(r.readTime)};var r})}saveNamedQuery(e,t){return WD(e).put({name:(i=t).name,readTime:ac(Bi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function qD(n){return nr(n,"bundles")}function WD(n){return nr(n,"namedQueries")}class Py{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Py(e,t.uid||"")}getOverlay(e,t){return Mh(e).get(c0(this.userId,t)).next(i=>i?Yf(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((l,d)=>{const p=new Qm(t,d);r.push(this.Xt(e,p))}),ue.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(d=>r.add(_r(d.getCollectionPath())));const l=[];return r.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);l.push(Mh(e).Qt("collectionPathOverlayIndex",p))}),ue.waitFor(l)}getOverlaysForCollection(e,t,i){const r=vh(),l=_r(t),d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Mh(e).qt("collectionPathOverlayIndex",d).next(p=>{for(const _ of p){const E=Yf(this.M,_);r.set(E.getKey(),E)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const l=vh();let d;const p=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mh(e).Wt({index:"collectionGroupOverlayIndex",range:p},(_,E,S)=>{const M=Yf(this.M,E);l.size()<r||M.largestBatchId===d?(l.set(M.getKey(),M),d=M.largestBatchId):S.done()}).next(()=>l)}Xt(e,t){return Mh(e).put(function(i,r,l){const[d,p,_]=c0(r,l.mutation.key);return{userId:r,collectionPath:p,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Tu(i.Jt,l.mutation)}}(this.M,this.userId,t))}}function Mh(n){return nr(n,"documentOverlays")}class xh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Un(e.integerValue));else if("doubleValue"in e){const i=Un(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Jl(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(jr(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?CD(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Je()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),Be.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function ZD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Nu(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const l=ZD(255&t[r]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(e/8)}xh.fe=new xh;class KD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=Nu(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=Nu(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,r,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class u0{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class YD{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class kh{constructor(){this.De=new KD,this.Ce=new u0(this.De),this.xe=new YD(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Po{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Po(this.indexId,this.documentKey,this.arrayValue,i)}}function Fu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ny(n.arrayValue,e.arrayValue),0!==t?t:(t=Ny(n.directionalValue,e.directionalValue),0!==t?t:Be.comparator(n.documentKey,e.documentKey)))}function Ny(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class QD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=ha(e);if(void 0!==t&&!this.Be(t))return!1;const i=Ka(e);let r=0,l=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const d=i[r];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class XD{constructor(){this.qe=new Fy}addToCollectionParentIndex(e,t){return this.qe.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getFieldIndex(e,t){return ue.resolve(null)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Fy{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new zn(ze.comparator),l=!r.has(i);return this.index[t]=r.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new zn(ze.comparator)).toArray()}}const Rh=new Uint8Array(0);class JD{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Fy,this.Ge=new Tr(i=>vu(i),(i,r)=>Hf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:i,parent:_r(r)};return Ly(e).put(l)}return ue.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[gw(t),""],!1,!0);return Ly(e).qt(r).next(l=>{for(const d of l){if(d.collectionId!==t)break;i.push(ga(d.parent))}return i})}addFieldIndex(e,t){const i=Xf(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=Xf(e),r=Jf(e),l=Qf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Qf(e);let r=!0;const l=new Map;return ue.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(p=>{r&&(r=!!p),l.set(d,p)})).next(()=>{if(r){let d=mn();const p=[];return ue.forEach(l,(_,E)=>{var S;Pe("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(at=>`${at.fieldPath}:${at.kind}`).join(",")}`} to execute ${vu(t)}`);const M=function(at,nt){const Pt=ha(nt);if(void 0===Pt)return null;for(const Ht of xm(at,Pt.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(E,_),F=function(at,nt){const Pt=new Map;for(const Ht of Ka(nt))for(const _n of xm(at,Ht.fieldPath))switch(_n.op){case"==":case"in":Pt.set(Ht.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Pt.set(Ht.fieldPath.canonicalString(),_n.value),Array.from(Pt.values())}return null}(E,_),U=function(at,nt){const Pt=[];let Ht=!0;for(const _n of Ka(nt)){const Zr=0===_n.kind?Iw(at,_n.fieldPath,at.startAt):hh(at,_n.fieldPath,at.startAt);if(!Zr.value)return null;Pt.push(Zr.value),Ht&&(Ht=Zr.inclusive)}return new fa(Pt,Ht)}(E,_),z=function(at,nt){const Pt=[];let Ht=!0;for(const _n of Ka(nt)){const Zr=0===_n.kind?hh(at,_n.fieldPath,at.endAt):Iw(at,_n.fieldPath,at.endAt);if(!Zr.value)return null;Pt.push(Zr.value),Ht&&(Ht=Zr.inclusive)}return new fa(Pt,Ht)}(E,_),ie=this.je(_,E,U),Te=this.je(_,E,z),ot=this.We(_,E,F),_t=this.ze(_.indexId,M,ie,!!U&&U.inclusive,Te,!!z&&z.inclusive,ot);return ue.forEach(_t,at=>i.Gt(at,t.limit).next(nt=>{nt.forEach(Pt=>{const Ht=Be.fromSegments(Pt.documentKey);d.has(Ht)||(d=d.add(Ht),p.push(Ht))})}))}).next(()=>p)}return ue.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,i,r,l,d,p){const _=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=l?l.length:1),E=_/(null!=t?t.length:1),S=[];for(let M=0;M<_;++M){const F=t?this.He(t[M/E]):Rh,U=i?this.Je(e,F,i[M%E],r):this.Ye(e),z=l?this.Xe(e,F,l[M%E],d):this.Ye(e+1);S.push(...this.createRange(U,z,p.map(ie=>this.Je(e,F,ie,!0))))}return S}Je(e,t,i,r){const l=new Po(e,Be.empty(),t,i);return r?l:l.ke()}Xe(e,t,i,r){const l=new Po(e,Be.empty(),t,i);return r?l.ke():l}Ye(e){return new Po(e,Be.empty(),Rh,Rh)}getFieldIndex(e,t){const i=new QD(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(l=>{const d=l.filter(p=>i.$e(p));return d.sort((p,_)=>_.fields.length-p.fields.length),d.length>0?d[0]:null})}Ze(e,t){const i=new kh;for(const r of Ka(e)){const l=t.data.field(r.fieldPath);if(null==l)return null;const d=i.Ne(r.kind);xh.fe.Zt(l,d)}return i.Se()}He(e){const t=new kh;return xh.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new kh;return xh.fe.Zt(yu(this.databaseId,t),i.Ne(function(r){const l=Ka(r);return 0===l.length?0:l[l.length-1].kind}(e))),i.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new kh);let l=0;for(const d of Ka(e)){const p=i[l++];for(const _ of r)if(this.en(t,d.fieldPath)&&ch(p))r=this.nn(r,d,p);else{const E=_.Ne(d.kind);xh.fe.Zt(p,E)}}return this.sn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],l=[];for(const d of i.arrayValue.values||[])for(const p of r){const _=new kh;_.seed(p.Se()),xh.fe.Zt(d,_.Ne(t.kind)),l.push(_)}return l}en(e,t){return!!e.filters.find(i=>i instanceof si&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Xf(e),r=Jf(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(l=>{const d=[];return ue.forEach(l,p=>r.get([p.indexId,this.uid]).next(_=>{d.push(function(E,S){const M=S?new dh(S.sequenceNumber,new Oo(Pu(S.readTime),new Be(ga(S.documentKey)),S.largestBatchId)):dh.empty(),F=E.fields.map(([U,z])=>new Am(Vi.fromServerFormat(U),z));return new ty(E.indexId,E.collectionGroup,F,M)}(p,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const l=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==l?l:Ot(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Xf(e),l=Jf(e);return this.rn(e).next(d=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ue.forEach(p,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:ac((F=i).readTime),documentKey:_r(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const i=new Map;return ue.forEach(t,(r,l)=>{const d=i.get(r.collectionGroup);return(d?ue.resolve(d):this.getFieldIndexes(e,r.collectionGroup)).next(p=>(i.set(r.collectionGroup,p),ue.forEach(p,_=>this.on(e,r,_).next(E=>{const S=this.un(l,_);return E.isEqual(S)?ue.resolve():this.an(e,l,_,E,S)}))))})}cn(e,t,i,r){return Qf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return Qf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=Qf(e);let l=new zn(Fu);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(d,p)=>{l=l.add(new Po(i.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}un(e,t){let i=new zn(Fu);const r=this.Ze(t,e);if(null==r)return i;const l=ha(t);if(null!=l){const d=e.data.field(l.fieldPath);if(ch(d))for(const p of d.arrayValue.values||[])i=i.add(new Po(t.indexId,e.key,this.He(p),r))}else i=i.add(new Po(t.indexId,e.key,Rh,r));return i}an(e,t,i,r,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,_,E,S,M){const F=p.getIterator(),U=_.getIterator();let z=Iu(F),ie=Iu(U);for(;z||ie;){let Te=!1,ot=!1;if(z&&ie){const _t=E(z,ie);_t<0?ot=!0:_t>0&&(Te=!0)}else null!=z?ot=!0:Te=!0;Te?(S(ie),ie=Iu(U)):ot?(M(z),z=Iu(F)):(z=Iu(F),ie=Iu(U))}}(r,l,Fu,p=>{d.push(this.cn(e,t,i,p))},p=>{d.push(this.hn(e,t,i,p))}),ue.waitFor(d)}rn(e){let t=1;return Jf(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,l)=>{l.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((d,p)=>Fu(d,p)).filter((d,p,_)=>!p||0!==Fu(d,_[p-1]));const r=[];r.push(e);for(const d of i){const p=Fu(d,e),_=Fu(d,t);if(0===p)r[0]=e.ke();else if(p>0&&_<0)r.push(d),r.push(d.ke());else if(_>0)break}r.push(t);const l=[];for(let d=0;d<r.length;d+=2)l.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,Rh,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,Rh,[]]));return l}}function Ly(n){return nr(n,"collectionParents")}function Qf(n){return nr(n,"indexEntries")}function Xf(n){return nr(n,"indexConfiguration")}function Jf(n){return nr(n,"indexState")}const eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tg(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let p=0;const _=i.Wt({range:d},(S,M,F)=>(p++,F.delete()));l.push(_.next(()=>{At(1===p)}));const E=[];for(const S of t.mutations){const M=r0(e,S.key.path,t.batchId);l.push(r.delete(M)),E.push(S.key)}return ue.waitFor(l).next(()=>E)}function ng(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class d0{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){At(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new d0(l,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ja(e).Wt({index:"userMutationsIndex",range:i},(r,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const l=lc(e),d=Ja(e);return d.add({}).next(p=>{At("number"==typeof p);const _=new Ym(p,t,i,r),E=function(F,U,z){const ie=z.baseMutations.map(ot=>Tu(F.Jt,ot)),Te=z.mutations.map(ot=>Tu(F.Jt,ot));return{userId:U,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:ie,mutations:Te}}(this.M,this.userId,_),S=[];let M=new zn((F,U)=>Ot(F.canonicalString(),U.canonicalString()));for(const F of r){const U=r0(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),S.push(d.put(E)),S.push(l.put(U,Wm))}return M.forEach(F=>{S.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.ln[p]=_.keys()}),ue.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Ja(e).get(t).next(i=>i?(At(i.userId===this.userId),Ah(this.M,i)):null)}fn(e,t){return this.ln[t]?ue.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ja(e).Wt({index:"userMutationsIndex",range:r},(d,p,_)=>{p.userId===this.userId&&(At(p.batchId>=i),l=Ah(this.M,p)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ja(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,l,d)=>{i=l.batchId,d.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ja(e).qt("userMutationsIndex",t).next(i=>i.map(r=>Ah(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=qm(this.userId,t.path),r=IDBKeyRange.lowerBound(i),l=[];return lc(e).Wt({range:r},(d,p,_)=>{const[E,S,M]=d,F=ga(S);if(E===this.userId&&t.path.isEqual(F))return Ja(e).get(M).next(U=>{if(!U)throw Je();At(U.userId===this.userId),l.push(Ah(this.M,U))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zn(Ot);const r=[];return t.forEach(l=>{const d=qm(this.userId,l.path),p=IDBKeyRange.lowerBound(d),_=lc(e).Wt({range:p},(E,S,M)=>{const[F,U,z]=E,ie=ga(U);F===this.userId&&l.path.isEqual(ie)?i=i.add(z):M.done()});r.push(_)}),ue.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,l=qm(this.userId,i),d=IDBKeyRange.lowerBound(l);let p=new zn(Ot);return lc(e).Wt({range:d},(_,E,S)=>{const[M,F,U]=_,z=ga(F);M===this.userId&&i.isPrefixOf(z)?z.length===r&&(p=p.add(U)):S.done()}).next(()=>this.dn(e,p))}dn(e,t){const i=[],r=[];return t.forEach(l=>{r.push(Ja(e).get(l).next(d=>{if(null===d)throw Je();At(d.userId===this.userId),i.push(Ah(this.M,d))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return tg(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return lc(e).Wt({range:i},(l,d,p)=>{if(l[0]===this.userId){const _=ga(l[1]);r.push(_)}else p.done()}).next(()=>{At(0===r.length)})})}containsKey(e,t){return Oh(e,this.userId,t)}wn(e){return ig(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Oh(n,e,t){const i=qm(e,t.path),r=i[1],l=IDBKeyRange.lowerBound(i);let d=!1;return lc(n).Wt({range:l,jt:!0},(p,_,E)=>{const[S,M,F]=p;S===e&&M===r&&(d=!0),E.done()}).next(()=>d)}function Ja(n){return nr(n,"mutations")}function lc(n){return nr(n,"documentMutations")}function ig(n){return nr(n,"mutationQueues")}class Lu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Lu(0)}static yn(){return new Lu(-1)}}class rg{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new Lu(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Ct.fromTimestamp(new ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>el(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(At(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const l=[];return el(e).Wt((d,p)=>{const _=Jm(p);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,l.push(this.removeTargetData(e,_)))}).next(()=>ue.waitFor(l)).next(()=>r)}forEachTarget(e,t){return el(e).Wt((i,r)=>{const l=Jm(r);t(l)})}pn(e){return sg(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}In(e,t){return sg(e).put("targetGlobalKey",t)}Tn(e,t){return el(e).put(l0(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=vu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return el(e).Wt({range:r,index:"queryTargetsIndex"},(d,p,_)=>{const E=Jm(p);Hf(t,E.target)&&(l=E,_.done())}).next(()=>l)}addMatchingKeys(e,t,i){const r=[],l=Vu(e);return t.forEach(d=>{const p=_r(d.path);r.push(l.put({targetId:i,path:p})),r.push(this.referenceDelegate.addReference(e,i,d))}),ue.waitFor(r)}removeMatchingKeys(e,t,i){const r=Vu(e);return ue.forEach(t,l=>{const d=_r(l.path);return ue.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=Vu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vu(e);let l=mn();return r.Wt({range:i,jt:!0},(d,p,_)=>{const E=ga(d[1]),S=new Be(E);l=l.add(S)}).next(()=>l)}containsKey(e,t){const i=_r(t.path),r=IDBKeyRange.bound([i],[gw(i)],!1,!0);let l=0;return Vu(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([d,p],_,E)=>{0!==d&&(l++,E.done())}).next(()=>l>0)}Et(e,t){return el(e).get(t).next(i=>i?Jm(i):null)}}function el(n){return nr(n,"targets")}function sg(n){return nr(n,"targetGlobal")}function Vu(n){return nr(n,"targetDocuments")}function Bu(n){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,_e.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Ru)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Ph.apply(this,arguments)}function ep([n,e],[t,i]){const r=Ot(n,t);return 0===r?Ot(e,i):r}class Vy{constructor(e){this.An=e,this.buffer=new zn(ep),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ep(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class h0{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,_e.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){sc(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Bu(r)}yield t.Sn(e)}))}}class By{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Cs.A);const i=new Vy(t);return this.Dn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(eg)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eg):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,l,d,p,_,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,d=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,p=Date.now(),this.removeTargets(e,i,t))).next(M=>(l=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(E=Date.now(),Em()<=Cr.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${r} in `+(p-d)+`ms\n\tRemoved ${l} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(E-_)+`ms\nTotal Duration: ${E-S}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:M})))}}class f0{constructor(e,t){this.db=e,this.garbageCollector=new By(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return tp(e,i)}removeReference(e,t,i){return tp(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return tp(e,t)}On(e,t){return function(i,r){let l=!1;return ig(i).zt(d=>Oh(i,d,r).next(p=>(p&&(l=!0),ue.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.Mn(e,(d,p)=>{if(p<=t){const _=this.On(e,d).next(E=>{if(!E)return l++,i.getEntry(e,d).next(()=>(i.removeEntry(d,Ct.min()),Vu(e).delete([0,_r(d.path)])))});r.push(_)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return tp(e,t)}Mn(e,t){const i=Vu(e);let r,l=Cs.A;return i.Wt({index:"documentTargetsIndex"},([d,p],{path:_,sequenceNumber:E})=>{0===d?(l!==Cs.A&&t(new Be(ga(r)),l),l=E,r=_):l=Cs.A}).next(()=>{l!==Cs.A&&t(new Be(ga(r)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tp(n,e){return Vu(n).put((i=n.currentSequenceNumber,{targetId:0,path:_r(e.path),sequenceNumber:i}));var i}class og{constructor(){this.changes=new Tr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p0{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return cc(e).put(i)}removeEntry(e,t,i){return cc(e).delete(function(r,l){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Xm(l),d[d.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=jn.newInvalidDocument(t);return cc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hu(t))},(r,l)=>{i=this.$n(t,l)}).next(()=>i)}Bn(e,t){let i={size:0,document:jn.newInvalidDocument(t)};return cc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hu(t))},(r,l)=>{i={document:this.$n(t,l),size:ng(l)}}).next(()=>i)}getEntries(e,t){let i=Ar();return this.Ln(e,t,(r,l)=>{const d=this.$n(r,l);i=i.insert(r,d)}).next(()=>i)}Un(e,t){let i=Ar(),r=new Gn(Be.comparator);return this.Ln(e,t,(l,d)=>{const p=this.$n(l,d);i=i.insert(l,p),r=r.insert(l,ng(d))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return ue.resolve();let r=new zn(m0);t.forEach(_=>r=r.add(_));const l=IDBKeyRange.bound(Hu(r.first()),Hu(r.last())),d=r.getIterator();let p=d.getNext();return cc(e).Wt({index:"documentKeyIndex",range:l},(_,E,S)=>{const M=Be.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;p&&m0(p,M)<0;)i(p,null),p=d.getNext();p&&p.isEqual(M)&&(i(p,E),p=d.hasNext()?d.getNext():null),p?S.Ut(Hu(p)):S.done()}).next(()=>{for(;p;)i(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Xm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cc(e).qt(IDBKeyRange.bound(r,l,!0)).next(d=>{let p=Ar();for(const _ of d){const E=this.$n(Be.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);p=p.insert(E.key,E)}return p})}getAllFromCollectionGroup(e,t,i,r){let l=Ar();const d=Uy(t,i),p=Uy(t,Oo.max());return cc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(_,E,S)=>{const M=this.$n(Be.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(M.key,M),l.size===r&&S.done()}).next(()=>l)}newChangeBuffer(e){return new eI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hy(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}Fn(e,t){return Hy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function $D(n,e){let t;if(e.document)t=Kw(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Be.fromSegments(e.noDocument.path),r=Pu(e.noDocument.readTime);t=jn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const i=Be.fromSegments(e.unknownDocument.path),r=Pu(e.unknownDocument.version);t=jn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ui(i[0],i[1]);return Ct.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Ct.min()))return i}return jn.newInvalidDocument(e)}}class eI extends og{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Tr(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new zn((l,d)=>Ot(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const p=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,p.readTime)),d.isValidDocument()){const _=Oy(this.Kn.M,d);r=r.add(l.path.popLast()),i+=ng(_)-p.size,t.push(this.Kn.addEntry(e,l,_))}else if(i-=p.size,this.trackRemovals){const _=Oy(this.Kn.M,d.convertToNoDocument(Ct.min()));t.push(this.Kn.addEntry(e,l,_))}}),r.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,i)),ue.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:i.get(l).readTime})}),i))}}function Hy(n){return nr(n,"remoteDocumentGlobal")}function cc(n){return nr(n,"remoteDocumentsV14")}function Hu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Uy(n,e){const t=e.documentKey.path.toArray();return[n,Xm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function m0(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(r=Ot(t[l],i[l]),r)return r;return r=Ot(t.length,i.length),r||(r=Ot(t[t.length-2],i[i.length-2]),r||Ot(t[t.length-1],i[i.length-1]))}class g0{constructor(e){this.M=e}kt(e,t,i,r){const l=new Qa("createOrUpgrade",t);var p;i<1&&r>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n0,{unique:!0}),p.createObjectStore("documentMutations"),jy(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),jy(e)),d=d.next(()=>function(p){const _=p.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(l))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(p,_){return _.store("mutations").qt().next(E=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n0,{unique:!0});const S=_.store("mutations"),M=E.map(F=>S.put(F));return ue.waitFor(M)})}(e,l))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(d=d.next(()=>this.Qn(l))),i<6&&r>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),i<7&&r>=7&&(d=d.next(()=>this.Wn(l))),i<8&&r>=8&&(d=d.next(()=>this.zn(e,l))),i<9&&r>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(d=d.next(()=>this.Hn(l))),i<11&&r>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(d=d.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:oo});_.createIndex("collectionPathOverlayIndex",My,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Dh,{unique:!1})}(e)})),i<13&&r>=13&&(d=d.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:Ch});_.createIndex("documentKeyIndex",jD),_.createIndex("collectionGroupIndex",Wf)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Zf}).createIndex("sequenceNumberIndex",Mr,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Mu}).createIndex("documentKeyIndex",Zm,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=ng(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>ue.forEach(r,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",d).next(p=>ue.forEach(p,_=>{At(_.userId===l.userId);const E=Ah(this.M,_);return tg(e,l.userId,E).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const l=[];return i.Wt((d,p)=>{const _=new ze(d),E=[0,_r(_)];l.push(t.get(E).next(S=>S?ue.resolve():t.put({targetId:0,path:_r(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:_a});const i=t.store("collectionParents"),r=new Fy,l=d=>{if(r.add(d)){const p=d.lastSegment(),_=d.popLast();return i.put({collectionId:p,parent:_r(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,p)=>{const _=new ze(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,p,_],E)=>{const S=ga(p);return l(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const l=Jm(r),d=l0(this.M,l);return t.put(d)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((l,d)=>{const p=t.store("remoteDocumentsV14"),_=(E=d,E.document?new Be(ze.fromString(E.document.name).popFirst(5)):E.noDocument?Be.fromSegments(E.noDocument.path):E.unknownDocument?Be.fromSegments(E.unknownDocument.path):Je()).path.toArray();var E;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(p.put(S))}).next(()=>ue.waitFor(r))}}function jy(n){n.createObjectStore("targetDocuments",{keyPath:zD}).createIndex("documentTargetsIndex",Ay,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GD,{unique:!0}),n.createObjectStore("targetGlobal")}const ag="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class np{constructor(e,t,i,r,l,d,p,_,E,S,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=l,this.window=d,this.document=p,this.Xn=E,this.Zn=S,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=F=>Promise.resolve(),!np.vt())throw new Me(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f0(this,r),this.hs=t+"main",this.M=new a0(_),this.ls=new ao(this.hs,this.ts,new g0(this.M)),this.fs=new rg(this.referenceDelegate,this.M),this.ds=new p0(this.M),this._s=new AA,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,ag);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Cs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,_e.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,_e.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ip(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(sc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Nh(e).get("owner").next(t=>ue.resolve(this.bs(t)))}Vs(e){return ip(e).delete(this.clientId)}vs(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=nr(i,"clientMetadata");return r.qt().next(l=>{const d=e.Ds(l,18e5),p=l.filter(_=>-1===d.indexOf(_));return ue.forEach(p,_=>r.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ue.resolve(!0):Nh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,ag);return!1}}return!(!this.networkEnabled||!this.inForeground)||ip(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,p=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new ky(t,Cs.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>ip(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return d0.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new JD(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Py.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){Pe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",l=14===(d=this.ts)?Sh:13===d?ku:12===d?Ih:11===d?xu:void Je();var d;let p;return this.ls.runTransaction(e,r,l,_=>(p=new ky(_,this.es?this.es.next():Cs.A),"readwrite-primary"===t?this.Es(p).next(E=>!!E||this.As(p)).next(E=>{if(!E)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Me(ce.FAILED_PRECONDITION,Ru);return i(p)}).next(E=>this.Ps(p).next(()=>E)):this.$s(p).next(()=>i(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}$s(e){return Nh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ce.FAILED_PRECONDITION,ag)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nh(e).put("owner",t)}static vt(){return ao.vt()}Rs(e){const t=Nh(e);return t.get("owner").next(i=>this.bs(i)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Jn(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,St.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Jn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nh(n){return nr(n,"owner")}function ip(n){return nr(n,"clientMetadata")}function lg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _0{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const l of t)l.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return Be.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):zr(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new Be(t)).next(i=>{let r=zf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let l=zf();return this.indexManager.getCollectionParents(e,r).next(d=>ue.forEach(d,p=>{const _=(E=t,S=p.child(r),new nc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,S;return this.zs(e,_,i).next(E=>{E.forEach((S,M)=>{l=l.insert(S,M)})})}).next(()=>l))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(l=>(r=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const p of d.mutations){const _=p.key;let E=r.get(_);null==E&&(E=jn.newInvalidDocument(_),r=r.insert(_,E)),yh(p,E,d.localWriteTime),E.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((l,d)=>{dy(t,d)||(r=r.remove(l))}),r))}}class cg{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=mn(),r=mn();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new cg(e,t.fromCache,i,r)}}class Gy{Xs(e){this.Zs=e}Qs(e,t,i,r){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(Ct.min())?this.ti(e,t):this.Zs.Ks(e,r).next(l=>{const d=this.ei(t,l);return(Rm(t)||Gf(t))&&this.ni(t.limitType,d,r,i)?this.ti(e,t):(Em()<=Cr.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mw(t)),this.Zs.Qs(e,t,Mm(i,-1)).next(p=>(d.forEach(_=>{p=p.insert(_.key,_)}),p)))});var l}ei(e,t){let i=new zn(hy(e));return t.forEach((r,l)=>{dy(e,l)&&(i=i.add(l))}),i}ni(e,t,i,r){if(i.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}ti(e,t){return Em()<=Cr.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Mw(t)),this.Zs.Qs(e,t,Oo.min())}}class y0{constructor(e,t,i,r){this.persistence=e,this.si=t,this.M=r,this.ii=new Gn(Ot),this.ri=new Tr(l=>vu(l),Hf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new _0(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function zy(n,e,t,i){return new y0(n,e,t,i)}function tI(n,e){return $y.apply(this,arguments)}function $y(){return $y=(0,_e.Z)(function*(n,e){const t=je(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(l=>(r=l,t.ai(e),t.Bs.getAllMutationBatches(i))).next(l=>{const d=[],p=[];let _=mn();for(const E of r){d.push(E.batchId);for(const S of E.mutations)_=_.add(S.key)}for(const E of l){p.push(E.batchId);for(const S of E.mutations)_=_.add(S.key)}return t.ci.Ks(i,_).next(E=>({hi:E,removedBatchIds:d,addedBatchIds:p}))})})}),$y.apply(this,arguments)}function nI(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),l=t.ui.newChangeBuffer({trackRemovals:!0});return function(d,p,_,E){const S=_.batch,M=S.keys();let F=ue.resolve();return M.forEach(U=>{F=F.next(()=>E.getEntry(p,U)).next(z=>{const ie=_.docVersions.get(U);At(null!==ie),z.version.compareTo(ie)<0&&(S.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),E.addEntry(z)))})}),F.next(()=>d.Bs.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.ci.Ks(i,r))})}function qy(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function iI(n,e){const t=je(n),i=e.snapshotVersion;let r=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.ui.newChangeBuffer({trackRemovals:!0});r=t.ii;const p=[];e.targetChanges.forEach((E,S)=>{const M=r.get(S);if(!M)return;p.push(t.fs.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.fs.addMatchingKeys(l,E.addedDocuments,S)));let F=M.withSequenceNumber(l.currentSequenceNumber);var U,z,ie;e.targetMismatches.has(S)?F=F.withResumeToken(bn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,i)),r=r.insert(S,F),z=F,ie=E,(0===(U=M).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(l,F))});let _=Ar();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),p.push(Si(l,d,e.documentUpdates).next(E=>{_=E})),!i.isEqual(Ct.min())){const E=t.fs.getLastRemoteSnapshotVersion(l).next(S=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,i));p.push(E)}return ue.waitFor(p).next(()=>d.apply(l)).next(()=>t.ci.Gs(l,_)).next(()=>_)}).then(l=>(t.ii=r,l))}function Si(n,e,t){let i=mn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let l=Ar();return t.forEach((d,p)=>{const _=r.get(d);p.isNoDocument()&&p.version.isEqual(Ct.min())?(e.removeEntry(d,p.readTime),l=l.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),l=l.insert(d,p)):Pe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),l})}function v0(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Fh(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(l=>l?(r=l,ue.resolve(r)):t.fs.allocateTargetId(i).next(d=>(r=new Xa(e,d,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ii=t.ii.insert(i.targetId,i),t.ri.set(e,i.targetId)),i})}function Lh(n,e,t){return ug.apply(this,arguments)}function ug(){return ug=(0,_e.Z)(function*(n,e,t){const i=je(n),r=i.ii.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!sc(d))throw d;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.ii=i.ii.remove(e),i.ri.delete(r.target)}),ug.apply(this,arguments)}function dg(n,e,t){const i=je(n);let r=Ct.min(),l=mn();return i.persistence.runTransaction("Execute query","readonly",d=>function(p,_,E){const S=je(p),M=S.ri.get(E);return void 0!==M?ue.resolve(S.ii.get(M)):S.fs.getTargetData(_,E)}(i,d,ro(e)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(d,p.targetId).next(_=>{l=_})}).next(()=>i.si.Qs(d,e,t?r:Ct.min(),t?l:mn())).next(p=>(Uu(i,Pm(e),p),{documents:p,li:l})))}function Wy(n,e){const t=je(n),i=je(t.fs),r=t.ii.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,e).next(d=>d?d.target:null))}function Zy(n,e){const t=je(n),i=t.oi.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ui.getAllFromCollectionGroup(r,e,Mm(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Uu(t,e,r),r))}function Uu(n,e,t){let i=Ct.min();t.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.oi.set(e,i)}function Ky(){return Ky=(0,_e.Z)(function*(n,e,t,i){const r=je(n);let l=mn(),d=Ar();for(const E of t){const S=e.fi(E.metadata.name);E.document&&(l=l.add(S));const M=e.di(E);M.setReadTime(e._i(E.metadata.readTime)),d=d.insert(S,M)}const p=r.ui.newChangeBuffer({trackRemovals:!0}),_=yield Fh(r,(E=i,ro(Eu(ze.fromString(`__bundle__/docs/${E}`)))));var E;return r.persistence.runTransaction("Apply bundle documents","readwrite",E=>Si(E,p,d).next(S=>(p.apply(E),S)).next(S=>r.fs.removeMatchingKeysForTargetId(E,_.targetId).next(()=>r.fs.addMatchingKeys(E,l,_.targetId)).next(()=>r.ci.Gs(E,S)).next(()=>S)))}),Ky.apply(this,arguments)}function b0(n,e){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,_e.Z)(function*(n,e,t=mn()){const i=yield Fh(n,ro(Kf(e.bundledQuery))),r=je(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const d=Bi(e.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r._s.saveNamedQuery(l,e);const p=i.withResumeToken(bn.EMPTY_BYTE_STRING,d);return r.ii=r.ii.insert(p.targetId,p),r.fs.updateTargetData(l,p).next(()=>r.fs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.fs.addMatchingKeys(l,t,i.targetId)).next(()=>r._s.saveNamedQuery(l,e))})}),Yy.apply(this,arguments)}class w0{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return ue.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var i;return this.wi.set(t.id,{id:(i=t).id,version:i.version,createTime:Bi(i.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(i=t).name,query:Kf(i.bundledQuery),readTime:Bi(i.readTime)}),ue.resolve();var i}}class MA{constructor(){this.overlays=new Gn(Be.comparator),this.gi=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,l)=>{this.Xt(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.gi.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const r=vh(),l=t.length+1,d=new Be(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let l=new Gn((E,S)=>E-S);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>i){let S=l.get(E.largestBatchId);null===S&&(S=vh(),l=l.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const p=vh(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,S)=>p.set(E,S)),!(p.size()>=r)););return ue.resolve(p)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const d=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new Qm(t,i));let l=this.gi.get(t);void 0===l&&(l=mn(),this.gi.set(t,l)),this.gi.set(t,l.add(i.key))}}class rp{constructor(){this.yi=new zn(Ti.pi),this.Ii=new zn(Ti.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const i=new Ti(e,t);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ai(new Ti(e,t))}Ri(e,t){e.forEach(i=>this.removeReference(i,t))}Pi(e){const t=new Be(new ze([])),i=new Ti(t,e),r=new Ti(t,e+1),l=[];return this.Ii.forEachInRange([i,r],d=>{this.Ai(d),l.push(d.key)}),l}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Be(new ze([])),i=new Ti(t,e),r=new Ti(t,e+1);let l=mn();return this.Ii.forEachInRange([i,r],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ti(e,0),i=this.yi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ti{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Be.comparator(e.key,t.key)||Ot(e.vi,t.vi)}static Ti(e,t){return Ot(e.vi,t.vi)||Be.comparator(e.key,t.key)}}class ya{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new zn(Ti.pi)}checkEmpty(e){return ue.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const l=this.Si;this.Si++;const d=new Ym(l,t,i,r);this.Bs.push(d);for(const p of r)this.Di=this.Di.add(new Ti(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ue.resolve(d)}lookupMutationBatch(e,t){return ue.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.xi(t+1),l=r<0?0:r;return ue.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ue.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ti(t,0),r=new Ti(t,Number.POSITIVE_INFINITY),l=[];return this.Di.forEachInRange([i,r],d=>{const p=this.Ci(d.vi);l.push(p)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zn(Ot);return t.forEach(r=>{const l=new Ti(r,0),d=new Ti(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([l,d],p=>{i=i.add(p.vi)})}),ue.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let l=i;Be.isDocumentKey(l)||(l=l.child(""));const d=new Ti(new Be(l),0);let p=new zn(Ot);return this.Di.forEachWhile(_=>{const E=_.key.path;return!!i.isPrefixOf(E)&&(E.length===r&&(p=p.add(_.vi)),!0)},d),ue.resolve(this.Ni(p))}Ni(e){const t=[];return e.forEach(i=>{const r=this.Ci(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){At(0===this.ki(t.batchId,"removed")),this.Bs.shift();let i=this.Di;return ue.forEach(t.mutations,r=>{const l=new Ti(r.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,t){const i=new Ti(t,0),r=this.Di.firstAfterOrEqual(i);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class sI{constructor(e){this.Mi=e,this.docs=new Gn(Be.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),l=r?r.size:0,d=this.Mi(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let i=Ar();return t.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():jn.newInvalidDocument(r))}),ue.resolve(i)}getAllFromCollection(e,t,i){let r=Ar();const l=new Be(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||TD(Dw(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return ue.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Je()}Oi(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new oI(this)}getSize(e){return ue.resolve(this.size)}}class oI extends og{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class va{constructor(e){this.persistence=e,this.Fi=new Tr(t=>vu(t),Hf),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.$i=0,this.Bi=new rp,this.targetCount=0,this.Li=Lu.gn()}forEachTarget(e,t){return this.Fi.forEach((i,r)=>t(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$i&&(this.$i=t),ue.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Lu(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Tn(t),ue.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let r=0;const l=[];return this.Fi.forEach((d,p)=>{p.sequenceNumber<=t&&null===i.get(p.targetId)&&(this.Fi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),r++)}),ue.waitFor(l).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fi.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Bi.Ei(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Bi.Ri(t,i);const r=this.persistence.referenceDelegate,l=[];return r&&t.forEach(d=>{l.push(r.markPotentiallyOrphaned(e,d))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Bi.Vi(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Bi.containsKey(t))}}class No{constructor(e,t){this.Ui={},this.overlays={},this.es=new Cs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new va(this),this.indexManager=new XD,this.ds=new sI(i=>this.referenceDelegate.qi(i)),this.M=new a0(t),this._s=new w0(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ui[e.toKey()];return i||(i=new ya(t,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){Pe("MemoryPersistence","Starting transaction:",e);const r=new Fo(this.es.next());return this.referenceDelegate.Ki(),i(r).next(l=>this.referenceDelegate.Gi(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Qi(e,t){return ue.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,t)))}}class Fo extends Ou{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.ji=new rp,this.Wi=null}static zi(e){return new hg(e)}get Hi(){if(this.Wi)return this.Wi;throw Je()}addReference(e,t,i){return this.ji.addReference(i,t),this.Hi.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ji.removeReference(i,t),this.Hi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(l=>this.Hi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Hi,i=>{const r=Be.fromPath(i);return this.Ji(e,r).next(l=>{l||t.removeEntry(r,Ct.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(i=>{i?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return ue.or([()=>ue.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Qy(n,e){return`firestore_clients_${n}_${e}`}function E0(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Xy(n,e){return`firestore_targets_${n}_${e}`}class fg{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Yi(e,t,i){const r=JSON.parse(i);let l,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(l=new Me(r.error.code,r.error.message))),d?new fg(e,t,r.state,l):(Jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sp{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Yi(e,t){const i=JSON.parse(t);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new Me(i.error.code,i.error.message))),l?new sp(e,i.state,r):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=Gm();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=Vf(i.activeTargetIds[d]),l=l.add(i.activeTargetIds[d]);return r?new Vh(e,l):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ju{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ju(t.clientId,t.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jy{constructor(){this.activeTargetIds=Gm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pg{constructor(e,t,i,r,l){this.window=e,this.Yn=t,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Gn(Ot),this.started=!1,this.rr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ur=Qy(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Jy),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.er)continue;const l=e.getItem(Qy(e.persistenceKey,r));if(l){const d=Vh.Yi(r,l);d&&(e.ir=e.ir.insert(d.clientId,d))}}e.wr();const i=e.storage.getItem(e.dr);if(i){const r=e.mr(i);r&&e.gr(r)}for(const r of e.rr)e.sr(r);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,i){this.pr(e,t,i),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Xy(this.persistenceKey,e));if(i){const r=sp.Yi(e,i);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xy(this.persistenceKey,e))}updateQueryState(e,t,i){this.Er(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ir(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Pe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Pr(i.key);return t.br(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Sr(r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(i.key===t.dr){if(null!==i.newValue){const r=t.mr(i.newValue);if(r)return t.gr(r)}}else if(i.key===t.ar){const r=function(l){let d=Cs.A;if(null!=l)try{const p=JSON.parse(l);At("number"==typeof p),d=p}catch(p){Jn("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(i.newValue);r!==Cs.A&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.Nr(i.newValue);yield Promise.all(r.map(l=>t.syncEngine.kr(l)))}}else t.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,i){const r=new fg(this.currentUser,e,t,i),l=E0(this.persistenceKey,this.currentUser,e);this.setItem(l,r.Xi())}Ir(e){const t=E0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,i){const r=Xy(this.persistenceKey,e),l=new sp(e,t,i);this.setItem(r,l.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.Pr(e);return Vh.Yi(i,t)}vr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return fg.Yi(new mr(void 0!==i[2]?i[2]:null),r,t)}Dr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return sp.Yi(r,t)}mr(e){return ju.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.ir.insert(e,t):this.ir.remove(e),r=this.yr(this.ir),l=this.yr(i),d=[],p=[];return l.forEach(_=>{r.has(_)||d.push(_)}),r.forEach(_=>{l.has(_)||p.push(_)}),this.syncEngine.Fr(d,p).then(()=>{this.ir=i})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Gm();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class C0{constructor(){this.$r=new Jy,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,i){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Jy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class D0{Lr(e){}shutdown(){}}class ev{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class aI{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class I0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,i,r,l){const d=this.uo(e,t);Pe("RestConnection","Sending: ",d,i);const p={};return this.ao(p,r,l),this.co(e,d,p,i).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Ql("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",i),_})}ho(e,t,i,r,l){return this.oo(e,t,i,r,l)}ao(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,l)=>e[l]=r),i&&i.headers.forEach((r,l)=>e[l]=r)}uo(e,t){return`${this.io}/v1/${t}:${mg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((l,d)=>{const p=new ED;p.listenOnce(ow.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Z_.NO_ERROR:const E=p.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(E)),l(E);break;case Z_.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),d(new Me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Z_.HTTP_ERROR:const S=p.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(U){const z=U.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(z)>=0?z:ce.UNKNOWN}(M.status);d(new Me(F,M.message))}else d(new Me(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Me(ce.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);p.send(t,"POST",_,i,15)})}lo(e,t,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=W_(),d=wD(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new lw({})),this.ao(p.initMessageHeaders,t,i),(0,St.uI)()||(0,St.b$)()||(0,St.d)()||(0,St.w1)()||(0,St.Mn)()||(0,St.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Pe("Connection","Creating WebChannel: "+_,p);const E=l.createWebChannel(_,p);let S=!1,M=!1;const F=new aI({Wr:z=>{M?Pe("Connection","Not sending because WebChannel is closed:",z):(S||(Pe("Connection","Opening WebChannel transport."),E.open(),S=!0),Pe("Connection","WebChannel sending:",z),E.send(z))},zr:()=>E.close()}),U=(z,ie,Te)=>{z.listen(ie,ot=>{try{Te(ot)}catch(_t){setTimeout(()=>{throw _t},0)}})};return U(E,Pf.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),U(E,Pf.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),F.no())}),U(E,Pf.EventType.ERROR,z=>{M||(M=!0,Ql("Connection","WebChannel transport errored:",z),F.no(new Me(ce.UNAVAILABLE,"The operation could not be completed")))}),U(E,Pf.EventType.MESSAGE,z=>{var ie;if(!M){const Te=z.data[0];At(!!Te);const ot=Te,_t=ot.error||(null===(ie=ot[0])||void 0===ie?void 0:ie.error);if(_t){Pe("Connection","WebChannel received error:",_t);const at=_t.status;let nt=function(Ht){const _n=di[Ht];if(void 0!==_n)return _y(_n)}(at),Pt=_t.message;void 0===nt&&(nt=ce.INTERNAL,Pt="Unknown error status: "+at+" with message "+_t.message),M=!0,F.no(new Me(nt,Pt)),E.close()}else Pe("Connection","WebChannel received:",Te),F.so(Te)}}),U(d,aw.STAT_EVENT,z=>{z.stat===Yl.PROXY?Pe("Connection","Detected buffering proxy"):z.stat===Yl.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.eo()},0),F}}function tv(){return"undefined"!=typeof window?window:null}function Bh(){return"undefined"!=typeof document?document:null}function uc(n){return new pa(n,!0)}class gg{constructor(e,t,i=1e3,r=1.5,l=6e4){this.Yn=e,this.timerId=t,this.fo=i,this._o=r,this.wo=l,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,t-i);r>0&&Pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class nv{constructor(e,t,i,r,l,d,p,_){this.Yn=e,this.Ro=i,this.Po=r,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new gg(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,_e.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,_e.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var i=this;return(0,_e.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==e?i.Do.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):t&&t.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.qo(i,r)},i=>{e(()=>{const r=new Me(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(e,t){const i=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var e=this;this.state=5,this.Do.To((0,_e.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S0 extends nv{constructor(e,t,i,r,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,d),this.M=l}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function IA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Je(),r=e.targetChange.targetIds||[],l=function(_,E){return _.N?(At(void 0===E||"string"==typeof E),bn.fromBase64String(E||"")):(At(void 0===E||E instanceof Uint8Array),bn.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const E=void 0===_.code?ce.UNKNOWN:_y(_.code);return new Me(E,_.message||"")}(d);t=new jw(i,r,l,p||null)}else if("documentChange"in e){const i=e.documentChange,r=ma(n,i.document.name),l=Bi(i.document.updateTime),d=new Gr({mapValue:{fields:i.document.fields}}),p=jn.newFoundDocument(r,l,d);t=new Ya(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=ma(n,i.document),l=i.readTime?Bi(i.readTime):Ct.min(),d=jn.newNoDocument(r,l);t=new Ya([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,r=ma(n,i.document);t=new Ya([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Je();{const i=e.filter,l=new Bw(i.count||0);t=new by(i.targetId,l)}}var _;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return Ct.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?Bi(l.readTime):Ct.min()}(e);return this.listener.Qo(t,i)}jo(e){const t={};t.database=$m(this.M),t.addTarget=function(r,l){let d;const p=l.target;return d=Uf(p)?{documents:Sy(r,p)}:{query:BD(r,p)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=wy(r,l.resumeToken):l.snapshotVersion.compareTo(Ct.min())>0&&(d.readTime=Su(r,l.snapshotVersion.toTimestamp())),d}(this.M,e);const i=function SA(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=$m(this.M),t.removeTarget=e,this.Fo(t)}}class T0 extends nv{constructor(e,t,i,r,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,d),this.M=l,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Yw(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(i,r){let l=Bi(i.updateTime?i.updateTime:r);return l.isEqual(Ct.min())&&(l=Bi(r)),new PD(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Bi(e.commitTime);return this.listener.Yo(i,t)}return At(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=$m(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Tu(this.M,i))};this.Fo(t)}}class A0 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.oo(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(ce.UNKNOWN,r.toString())})}ho(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.ho(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(ce.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class M0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Jn(t),this.iu=!1):Pe("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class x0{constructor(e,t,i,r,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=l,this._u.Lr(p=>{i.enqueueAndForget((0,_e.Z)(function*(){var _;dc(d)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,_e.Z)(function*(E){const S=je(E);S.fu.add(4),yield Uh(S),S.wu.set("Unknown"),S.fu.delete(4),yield Hh(S)}),function(E){return _.apply(this,arguments)})(d))}))}),this.wu=new M0(i,r)}}function Hh(n){return _g.apply(this,arguments)}function _g(){return _g=(0,_e.Z)(function*(n){if(dc(n))for(const e of n.du)yield e(!0)}),_g.apply(this,arguments)}function Uh(n){return iv.apply(this,arguments)}function iv(){return iv=(0,_e.Z)(function*(n){for(const e of n.du)yield e(!1)}),iv.apply(this,arguments)}function yg(n,e){const t=je(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),ov(t)?sv(t):lp(t).xo()&&rv(t,e))}function op(n,e){const t=je(n),i=lp(t);t.lu.delete(e),i.xo()&&k0(t,e),0===t.lu.size&&(i.xo()?i.Mo():dc(t)&&t.wu.set("Unknown"))}function rv(n,e){n.mu.Z(e.targetId),lp(n).jo(e)}function k0(n,e){n.mu.Z(e),lp(n).Wo(e)}function sv(n){n.mu=new wh({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),lp(n).start(),n.wu.ru()}function ov(n){return dc(n)&&!lp(n).Co()&&n.lu.size>0}function dc(n){return 0===je(n).fu.size}function R0(n){n.mu=void 0}function lI(n){return av.apply(this,arguments)}function av(){return av=(0,_e.Z)(function*(n){n.lu.forEach((e,t)=>{rv(n,e)})}),av.apply(this,arguments)}function cI(n,e){return lv.apply(this,arguments)}function lv(){return lv=(0,_e.Z)(function*(n,e){R0(n),ov(n)?(n.wu.au(e),sv(n)):n.wu.set("Unknown")}),lv.apply(this,arguments)}function uI(n,e,t){return cv.apply(this,arguments)}function cv(){return cv=(0,_e.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof jw&&2===e.state&&e.cause)try{yield(i=(0,_e.Z)(function*(r,l){const d=l.cause;for(const p of l.targetIds)r.lu.has(p)&&(yield r.remoteSyncer.rejectListen(p,d),r.lu.delete(p),r.mu.removeTarget(p))}),function(r,l){return i.apply(this,arguments)})(n,e)}catch(i){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield vg(n,i)}else if(e instanceof Ya?n.mu.ut(e):e instanceof by?n.mu._t(e):n.mu.ht(e),!t.isEqual(Ct.min()))try{const i=yield qy(n.localStore);t.compareTo(i)>=0&&(yield function(r,l){const d=r.mu.yt(l);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=r.lu.get(_);E&&r.lu.set(_,E.withResumeToken(p.resumeToken,l))}}),d.targetMismatches.forEach(p=>{const _=r.lu.get(p);if(!_)return;r.lu.set(p,_.withResumeToken(bn.EMPTY_BYTE_STRING,_.snapshotVersion)),k0(r,p);const E=new Xa(_.target,p,1,_.sequenceNumber);rv(r,E)}),r.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){Pe("RemoteStore","Failed to raise snapshot:",i),yield vg(n,i)}var i}),cv.apply(this,arguments)}function vg(n,e,t){return bg.apply(this,arguments)}function bg(){return bg=(0,_e.Z)(function*(n,e,t){if(!sc(e))throw e;n.fu.add(1),yield Uh(n),n.wu.set("Offline"),t||(t=()=>qy(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Hh(n)}))}),bg.apply(this,arguments)}function uv(n,e){return e().catch(t=>vg(n,t,e))}function Gu(n){return wg.apply(this,arguments)}function wg(){return wg=(0,_e.Z)(function*(n){const e=je(n),t=ut(e);let i=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;O0(e);)try{const r=yield v0(e.localStore,i);if(null===r){0===e.hu.length&&t.Mo();break}i=r.batchId,P0(e,r)}catch(r){yield vg(e,r)}dv(e)&&hv(e)}),wg.apply(this,arguments)}function O0(n){return dc(n)&&n.hu.length<10}function P0(n,e){n.hu.push(e);const t=ut(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function dv(n){return dc(n)&&!ut(n).Co()&&n.hu.length>0}function hv(n){ut(n).start()}function N0(n){return ap.apply(this,arguments)}function ap(){return ap=(0,_e.Z)(function*(n){ut(n).Zo()}),ap.apply(this,arguments)}function F0(n){return tl.apply(this,arguments)}function tl(){return tl=(0,_e.Z)(function*(n){const e=ut(n);for(const t of n.hu)e.Jo(t.mutations)}),tl.apply(this,arguments)}function dI(n,e,t){return fv.apply(this,arguments)}function fv(){return fv=(0,_e.Z)(function*(n,e,t){const i=n.hu.shift(),r=Ry.from(i,e,t);yield uv(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gu(n)}),fv.apply(this,arguments)}function jh(n,e){return L0.apply(this,arguments)}function L0(){return L0=(0,_e.Z)(function*(n,e){var t;e&&ut(n).Ho&&(yield(t=(0,_e.Z)(function*(i,r){if(gy(l=r.code)&&l!==ce.ABORTED){const d=i.hu.shift();ut(i).ko(),yield uv(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield Gu(i)}var l}),function(i,r){return t.apply(this,arguments)})(n,e)),dv(n)&&hv(n)}),L0.apply(this,arguments)}function Eg(n,e){return V0.apply(this,arguments)}function V0(){return V0=(0,_e.Z)(function*(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const i=dc(t);t.fu.add(3),yield Uh(t),i&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Hh(t)}),V0.apply(this,arguments)}function Cg(n,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,_e.Z)(function*(n,e){const t=je(n);e?(t.fu.delete(2),yield Hh(t)):e||(t.fu.add(2),yield Uh(t),t.wu.set("Unknown"))}),Dg.apply(this,arguments)}function lp(n){return n.gu||(n.gu=function(e,t,i){const r=je(e);return r.eu(),new S0(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:lI.bind(null,n),Yr:cI.bind(null,n),Qo:uI.bind(null,n)}),n.du.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.ko(),ov(n)?sv(n):n.wu.set("Unknown")):(yield n.gu.stop(),R0(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function ut(n){return n.yu||(n.yu=function(e,t,i){const r=je(e);return r.eu(),new T0(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:N0.bind(null,n),Yr:jh.bind(null,n),Xo:F0.bind(null,n),Yo:dI.bind(null,n)}),n.du.push(function(){var e=(0,_e.Z)(function*(t){t?(n.yu.ko(),yield Gu(n)):(yield n.yu.stop(),n.hu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class pv{constructor(e,t,i,r,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,i,r,l){const d=Date.now()+i,p=new pv(e,t,d,r,l);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),sc(n))return new Me(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class zh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Be.comparator(t.key,i.key):(t,i)=>Be.comparator(t.key,i.key),this.keyedMap=zf(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new zh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new zh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class cp{constructor(){this.pu=new Gn(Be.comparator)}track(e){const t=e.doc.key,i=this.pu.get(t);i?0!==e.type&&3===i.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==i.type?this.pu=this.pu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.pu=this.pu.remove(t):1===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Je():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,i)=>{e.push(i)}),e}}class $h{constructor(e,t,i,r,l,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new $h(e,t,zh.emptySet(t),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Ig{constructor(){this.Tu=void 0,this.listeners=[]}}class Sg{constructor(){this.queries=new Tr(e=>uy(e),Om),this.onlineState="Unknown",this.Eu=new Set}}function $n(n,e){return B0.apply(this,arguments)}function B0(){return B0=(0,_e.Z)(function*(n,e){const t=je(n),i=e.query;let r=!1,l=t.queries.get(i);if(l||(r=!0,l=new Ig),r)try{l.Tu=yield t.onListen(i)}catch(d){const p=Gh(d,`Initialization of query '${Mw(e.query)}' failed`);return void e.onError(p)}t.queries.set(i,l),l.listeners.push(e),e.Au(t.onlineState),l.Tu&&e.Ru(l.Tu)&&Ag(t)}),B0.apply(this,arguments)}function Tg(n,e){return mv.apply(this,arguments)}function mv(){return mv=(0,_e.Z)(function*(n,e){const t=je(n),i=e.query;let r=!1;const l=t.queries.get(i);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),r=0===l.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),mv.apply(this,arguments)}function hI(n,e){const t=je(n);let i=!1;for(const r of e){const d=t.queries.get(r.query);if(d){for(const p of d.listeners)p.Ru(r)&&(i=!0);d.Tu=r}}i&&Ag(t)}function H0(n,e,t){const i=je(n),r=i.queries.get(e);if(r)for(const l of r.listeners)l.onError(t);i.queries.delete(e)}function Ag(n){n.Eu.forEach(e=>{e.next()})}class Mg{constructor(e,t,i){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new $h(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=$h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class U0{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class j0{constructor(e){this.M=e}fi(e){return ma(this.M,e)}di(e){return e.metadata.exists?Kw(this.M,e.document,!1):jn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Bi(e)}}class fI{constructor(e,t,i){this.Nu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=G0(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=ze.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new j0(this.M);for(const r of e)if(r.metadata.queries){const l=i.fi(r.metadata.name);for(const d of r.metadata.queries){const p=(t.get(d)||mn()).add(l);t.set(d,p)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function rI(n,e,t,i){return Ky.apply(this,arguments)}(e.localStore,new j0(e.M),e.documents,e.Nu.id),i=e.Mu(e.documents);for(const r of e.queries)yield b0(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function G0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class qh{constructor(e){this.key=e}}class z0{constructor(e){this.key=e}}class $0{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=mn(),this.mutatedKeys=mn(),this.Uu=hy(e),this.qu=new zh(this.Uu)}get Ku(){return this.$u}Gu(e,t){const i=t?t.Qu:new cp,r=t?t.qu:this.qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=r,p=!1;const _=Rm(this.query)&&r.size===this.query.limit?r.last():null,E=Gf(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((S,M)=>{const F=r.get(S),U=dy(this.query,M)?M:null,z=!!F&&this.mutatedKeys.has(F.key),ie=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Te=!1;F&&U?F.data.isEqual(U.data)?z!==ie&&(i.track({type:3,doc:U}),Te=!0):this.ju(F,U)||(i.track({type:2,doc:U}),Te=!0,(_&&this.Uu(U,_)>0||E&&this.Uu(U,E)<0)&&(p=!0)):!F&&U?(i.track({type:0,doc:U}),Te=!0):F&&!U&&(i.track({type:1,doc:F}),Te=!0,(_||E)&&(p=!0)),Te&&(U?(d=d.add(U),l=ie?l.add(S):l.delete(S)):(d=d.delete(S),l=l.delete(S)))}),Rm(this.query)||Gf(this.query))for(;d.size>this.query.limit;){const S=Rm(this.query)?d.last():d.first();d=d.delete(S.key),l=l.delete(S.key),i.track({type:1,doc:S})}return{qu:d,Qu:i,ni:p,mutatedKeys:l}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const l=e.Qu.Iu();l.sort((E,S)=>function(M,F){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return U(M)-U(F)}(E.type,S.type)||this.Uu(E.doc,S.doc)),this.Wu(i);const d=t?this.zu():[],p=0===this.Lu.size&&this.current?1:0,_=p!==this.Bu;return this.Bu=p,0!==l.length||_?{snapshot:new $h(this.query,e.qu,r,l,e.mutatedKeys,0===p,_,!1),Hu:d}:{Hu:d}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new cp,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=mn(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const t=[];return e.forEach(i=>{this.Lu.has(i)||t.push(new z0(i))}),this.Lu.forEach(i=>{e.has(i)||t.push(new qh(i))}),t}Yu(e){this.$u=e.li,this.Lu=mn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return $h.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class pI{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class xg{constructor(e){this.key=e,this.Zu=!1}}class q0{constructor(e,t,i,r,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.ta={},this.ea=new Tr(p=>uy(p),Om),this.na=new Map,this.sa=new Set,this.ia=new Gn(Be.comparator),this.ra=new Map,this.oa=new rp,this.ua={},this.aa=new Map,this.ca=Lu.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function W0(n,e){return kg.apply(this,arguments)}function kg(){return kg=(0,_e.Z)(function*(n,e){const t=Rv(n);let i,r;const l=t.ea.get(e);if(l)i=l.targetId,t.sharedClientState.addLocalQueryTarget(i),r=l.view.Xu();else{const d=yield Fh(t.localStore,ro(e));t.isPrimaryClient&&yg(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield gv(t,e,i,"current"===p)}return r}),kg.apply(this,arguments)}function gv(n,e,t,i){return zu.apply(this,arguments)}function zu(){return zu=(0,_e.Z)(function*(n,e,t,i){n.la=(S,M,F)=>{return(U=(0,_e.Z)(function*(z,ie,Te,ot){let _t=ie.view.Gu(Te);_t.ni&&(_t=yield dg(z.localStore,ie.query,!1).then(({documents:Pt})=>ie.view.Gu(Pt,_t)));const at=ot&&ot.targetChanges.get(ie.targetId),nt=ie.view.applyChanges(_t,z.isPrimaryClient,at);return Ng(z,ie.targetId,nt.Hu),nt.snapshot}),function(z,ie,Te,ot){return U.apply(this,arguments)})(n,S,M,F);var U};const r=yield dg(n.localStore,e,!0),l=new $0(e,r.li),d=l.Gu(r.documents),p=bh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=l.applyChanges(d,n.isPrimaryClient,p);Ng(n,t,_.Hu);const E=new pI(e,t,l);return n.ea.set(e,E),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),_.snapshot}),zu.apply(this,arguments)}function up(n,e){return _v.apply(this,arguments)}function _v(){return _v=(0,_e.Z)(function*(n,e){const t=je(n),i=t.ea.get(e),r=t.na.get(i.targetId);if(r.length>1)return t.na.set(i.targetId,r.filter(l=>!Om(l,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Lh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),op(t.remoteStore,i.targetId),Zh(t,i.targetId)}).catch(Bu))):(Zh(t,i.targetId),yield Lh(t.localStore,i.targetId,!0))}),_v.apply(this,arguments)}function yv(){return yv=(0,_e.Z)(function*(n,e,t){const i=hp(n);try{const r=yield function(l,d){const p=je(l),_=ui.now(),E=d.reduce((M,F)=>M.add(F.key),mn());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>p.ci.Ks(M,E).next(F=>{S=F;const U=[];for(const z of d){const ie=py(z,S.get(z.key));null!=ie&&U.push(new rc(z.key,ie,SD(ie.value.mapValue),Ii.exists(!0)))}return p.Bs.addMutationBatch(M,_,U,d)})).then(M=>(M.applyToLocalDocumentSet(S),{batchId:M.batchId,changes:S}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,d,p){let _=l.ua[l.currentUser.toKey()];_||(_=new Gn(Ot)),_=_.insert(d,p),l.ua[l.currentUser.toKey()]=_}(i,r.batchId,t),yield nl(i,r.changes),yield Gu(i.remoteStore)}catch(r){const l=Gh(r,"Failed to persist write");t.reject(l)}}),yv.apply(this,arguments)}function vv(n,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,_e.Z)(function*(n,e){const t=je(n);try{const i=yield iI(t.localStore,e);e.targetChanges.forEach((r,l)=>{const d=t.ra.get(l);d&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.Zu=!0:r.modifiedDocuments.size>0?At(d.Zu):r.removedDocuments.size>0&&(At(d.Zu),d.Zu=!1))}),yield nl(t,i,e)}catch(i){yield Bu(i)}}),Rg.apply(this,arguments)}function bv(n,e,t){const i=je(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ea.forEach((l,d)=>{const p=d.view.Au(e);p.snapshot&&r.push(p.snapshot)}),function(l,d){const p=je(l);p.onlineState=d;let _=!1;p.queries.forEach((E,S)=>{for(const M of S.listeners)M.Au(d)&&(_=!0)}),_&&Ag(p)}(i.eventManager,e),r.length&&i.ta.Qo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function gI(n,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,_e.Z)(function*(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ra.get(e),l=r&&r.key;if(l){let d=new Gn(Be.comparator);d=d.insert(l,jn.newNoDocument(l,Ct.min()));const p=mn().add(l),_=new $f(Ct.min(),new Map,new zn(Ot),d,p);yield vv(i,_),i.ia=i.ia.remove(l),i.ra.delete(e),Ev(i)}else yield Lh(i.localStore,e,!1).then(()=>Zh(i,e,t)).catch(Bu)}),Og.apply(this,arguments)}function _I(n,e){return wv.apply(this,arguments)}function wv(){return wv=(0,_e.Z)(function*(n,e){const t=je(n),i=e.batch.batchId;try{const r=yield nI(t.localStore,e);Wh(t,i,null),Pg(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield nl(t,r)}catch(r){yield Bu(r)}}),wv.apply(this,arguments)}function xA(n,e,t){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,_e.Z)(function*(n,e,t){const i=je(n);try{const r=yield function(l,d){const p=je(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.Bs.lookupMutationBatch(_,d).next(S=>(At(null!==S),E=S.keys(),p.Bs.removeMutationBatch(_,S))).next(()=>p.Bs.performConsistencyCheck(_)).next(()=>p.ci.Ks(_,E))})}(i.localStore,e);Wh(i,e,t),Pg(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield nl(i,r)}catch(r){yield Bu(r)}}),Z0.apply(this,arguments)}function K0(){return K0=(0,_e.Z)(function*(n,e){const t=je(n);dc(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const d=je(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===i)return void e.resolve();const r=t.aa.get(i)||[];r.push(e),t.aa.set(i,r)}catch(i){const r=Gh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),K0.apply(this,arguments)}function Pg(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Wh(n,e,t){const i=je(n);let r=i.ua[i.currentUser.toKey()];if(r){const l=r.get(e);l&&(t?l.reject(t):l.resolve(),r=r.remove(e)),i.ua[i.currentUser.toKey()]=r}}function Zh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.na.get(e))n.ea.delete(i),t&&n.ta.fa(i,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(i=>{n.oa.containsKey(i)||Y0(n,i)})}function Y0(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(op(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),Ev(n))}function Ng(n,e,t){for(const i of t)i instanceof qh?(n.oa.addReference(i.key,e),dp(n,i)):i instanceof z0?(Pe("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,e),n.oa.containsKey(i.key)||Y0(n,i.key)):Je()}function dp(n,e){const t=e.key,i=t.path.canonicalString();n.ia.get(t)||n.sa.has(i)||(Pe("SyncEngine","New document in limbo: "+t),n.sa.add(i),Ev(n))}function Ev(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Be(ze.fromString(e)),i=n.ca.next();n.ra.set(i,new xg(t)),n.ia=n.ia.insert(t,i),yg(n.remoteStore,new Xa(ro(Eu(t.path)),i,2,Cs.A))}}function nl(n,e,t){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,_e.Z)(function*(n,e,t){const i=je(n),r=[],l=[],d=[];var p;i.ea.isEmpty()||(i.ea.forEach((p,_)=>{d.push(i.la(_,e,t).then(E=>{if(E){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,E.fromCache?"not-current":"current"),r.push(E);const S=cg.Ys(_.targetId,E);l.push(S)}}))}),yield Promise.all(d),i.ta.Qo(r),yield(p=(0,_e.Z)(function*(_,E){const S=je(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ue.forEach(E,F=>ue.forEach(F.Hs,U=>S.persistence.referenceDelegate.addReference(M,F.targetId,U)).next(()=>ue.forEach(F.Js,U=>S.persistence.referenceDelegate.removeReference(M,F.targetId,U)))))}catch(M){if(!sc(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const F=M.targetId;if(!M.fromCache){const U=S.ii.get(F),ie=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);S.ii=S.ii.insert(F,ie)}}}),function(_,E){return p.apply(this,arguments)})(i.localStore,l))}),Cv.apply(this,arguments)}function yI(n,e){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,_e.Z)(function*(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const i=yield tI(t.localStore,e);t.currentUser=e,(r=t).aa.forEach(d=>{d.forEach(p=>{p.reject(new Me(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nl(t,i.hi)}var r}),Dv.apply(this,arguments)}function Q0(n,e){const t=je(n),i=t.ra.get(e);if(i&&i.Zu)return mn().add(i.key);{let r=mn();const l=t.na.get(e);if(!l)return r;for(const d of l){const p=t.ea.get(d);r=r.unionWith(p.view.Ku)}return r}}function vI(n,e){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,_e.Z)(function*(n,e){const t=je(n),i=yield dg(t.localStore,e.query,!0),r=e.view.Yu(i);return t.isPrimaryClient&&Ng(t,e.targetId,r.Hu),r}),Iv.apply(this,arguments)}function Kh(n,e){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,_e.Z)(function*(n,e){const t=je(n);return Zy(t.localStore,e).then(i=>nl(t,i))}),Sv.apply(this,arguments)}function X0(n,e,t,i){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,_e.Z)(function*(n,e,t,i){const r=je(n),l=yield function(d,p){const _=je(d),E=je(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>E.fn(S,p).next(M=>M?_.ci.Ks(S,M):ue.resolve(null)))}(r.localStore,e);var p;null!==l?("pending"===t?yield Gu(r.remoteStore):"acknowledged"===t||"rejected"===t?(Wh(r,e,i||null),Pg(r,e),p=e,je(je(r.localStore).Bs)._n(p)):Je(),yield nl(r,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tv.apply(this,arguments)}function Av(){return Av=(0,_e.Z)(function*(n,e){const t=je(n);if(Rv(t),hp(t),!0===e&&!0!==t.ha){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Mv(t,i.toArray());t.ha=!0,yield Cg(t.remoteStore,!0);for(const l of r)yg(t.remoteStore,l)}else if(!1===e&&!1!==t.ha){const i=[];let r=Promise.resolve();t.na.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(Zh(t,d),Lh(t.localStore,d,!0))),op(t.remoteStore,d)}),yield r,yield Mv(t,i),function(l){const d=je(l);d.ra.forEach((p,_)=>{op(d.remoteStore,_)}),d.oa.bi(),d.ra=new Map,d.ia=new Gn(Be.comparator)}(t),t.ha=!1,yield Cg(t.remoteStore,!1)}}),Av.apply(this,arguments)}function Mv(n,e,t){return xv.apply(this,arguments)}function xv(){return xv=(0,_e.Z)(function*(n,e,t){const i=je(n),r=[],l=[];for(const d of e){let p;const _=i.na.get(d);if(_&&0!==_.length){p=yield Fh(i.localStore,ro(_[0]));for(const E of _){const S=i.ea.get(E),M=yield vI(i,S);M.snapshot&&l.push(M.snapshot)}}else{const E=yield Wy(i.localStore,d);p=yield Fh(i.localStore,E),yield gv(i,Fg(E),d,!1)}r.push(p)}return i.ta.Qo(l),r}),xv.apply(this,arguments)}function Fg(n){return ay(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bI(n){const e=je(n);return je(je(e.localStore).persistence).Fs()}function eE(n,e,t,i){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,_e.Z)(function*(n,e,t,i){const r=je(n);if(r.ha)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=r.na.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Zy(r.localStore,Pm(l[0])),p=$f.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield nl(r,d,p);break}case"rejected":yield Lh(r.localStore,e,!0),Zh(r,e,i);break;default:Je()}}),Lg.apply(this,arguments)}function wI(n,e,t){return kv.apply(this,arguments)}function kv(){return kv=(0,_e.Z)(function*(n,e,t){const i=Rv(n);if(i.ha){for(const r of e){if(i.na.has(r)){Pe("SyncEngine","Adding an already active target "+r);continue}const l=yield Wy(i.localStore,r),d=yield Fh(i.localStore,l);yield gv(i,Fg(l),d.targetId,!1),yg(i.remoteStore,d)}for(const r of t)i.na.has(r)&&(yield Lh(i.localStore,r,!1).then(()=>{op(i.remoteStore,r),Zh(i,r)}).catch(Bu))}}),kv.apply(this,arguments)}function Rv(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gI.bind(null,e),e.ta.Qo=hI.bind(null,e.eventManager),e.ta.fa=H0.bind(null,e.eventManager),e}function hp(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xA.bind(null,e),e}class Ov{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.M=uc(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return zy(this.persistence,new Gy,e.initialUser,this.M)}wa(e){return new No(hg.zi,this.M)}_a(e){return new C0}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tE extends Ov{constructor(e,t,i){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e),yield i.ya.initialize(i,e),yield hp(i.ya.syncEngine),yield Gu(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(e){return zy(this.persistence,new Gy,e.initialUser,this.M)}ma(e){return new h0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new np(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,tv(),Bh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new C0}}class CI extends tE{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e);const r=i.ya.syncEngine;i.sharedClientState instanceof pg&&(i.sharedClientState.syncEngine={Mr:X0.bind(null,r),Or:eE.bind(null,r),Fr:wI.bind(null,r),Fs:bI.bind(null,r),kr:Kh.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var l=(0,_e.Z)(function*(d){yield function J0(n,e){return Av.apply(this,arguments)}(i.ya.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):d||i.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}_a(e){const t=tv();if(!pg.vt(t))throw new Me(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pg(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Pv{initialize(e,t){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>bv(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,i.syncEngine),yield Cg(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sg}createDatastore(e){const t=uc(e.databaseInfo.databaseId),i=new I0(e.databaseInfo);return new A0(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,l=p=>bv(this.syncEngine,p,0),d=ev.vt()?new ev:new D0,new x0(t,i,r,l,d);var t,i,r,l,d}createSyncEngine(e,t){return function(i,r,l,d,p,_,E){const S=new q0(i,r,l,d,p,_);return E&&(S.ha=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const i=je(t);Pe("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield Uh(i),i._u.shutdown(),i.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nE(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class DI{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new tr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const i=e.Ea.decode(t),r=Number(i);isNaN(r)&&e.Pa(`length string (${i}) is not valid number`);const l=yield e.ba(r);return new U0(JSON.parse(l),t.length+r)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,_e.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const i=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class II{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(l,d){const p=je(l),_=$m(p.M)+"/documents",E={documents:d.map(U=>qf(p.M,U))},S=yield p.ho("BatchGetDocuments",_,E),M=new Map;S.forEach(U=>{const z=function DA(n,e){return"found"in e?function(t,i){At(!!i.found);const r=ma(t,i.found.name),l=Bi(i.found.updateTime),d=new Gr({mapValue:{fields:i.found.fields}});return jn.newFoundDocument(r,l,d)}(n,e):"missing"in e?function(t,i){At(!!i.missing),At(!!i.readTime);const r=ma(t,i.missing),l=Bi(i.readTime);return jn.newNoDocument(r,l)}(n,e):Je()}(p.M,U);M.set(z.key.toString(),z)});const F=[];return d.forEach(U=>{const z=M.get(U.toString());At(!!z),F.push(z)}),F}),function(l,d){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const l=Be.fromPath(r);e.mutations.push(new my(l,e.precondition(l)))}),yield(i=(0,_e.Z)(function*(r,l){const d=je(r),p=$m(d.M)+"/documents",_={writes:l.map(E=>Tu(d.M,E))};yield d.oo("Commit",p,_)}),function(r,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=Ct.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Me(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ii.updateTime(t):Ii.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Me(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(t)}return Ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SI{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new gg(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,_e.Z)(function*(){const t=new II(e.datastore),i=e.Ca(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(l=>{e.xa(l)}))}).catch(r=>{e.xa(r)})}))}Ca(e){try{const t=this.updateFunction(e);return!ah(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!gy(t)}return!1}}class iE{constructor(e,t,i,r){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mr.UNAUTHENTICATED,this.clientId=mw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,_e.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Pe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Gh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Nv(n,e){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(l){i.isEqual(l)||(yield tI(e.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Fv.apply(this,arguments)}function rE(n,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Lv(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Eg(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>Eg(e.remoteStore,l)),n.onlineComponents=e}),Bg.apply(this,arguments)}function Lv(n){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,_e.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield Nv(n,new Ov)),n.offlineComponents}),Vv.apply(this,arguments)}function Hg(n){return fp.apply(this,arguments)}function fp(){return fp=(0,_e.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield rE(n,new Pv)),n.onlineComponents}),fp.apply(this,arguments)}function Ug(n){return Lv(n).then(e=>e.persistence)}function jg(n){return Lv(n).then(e=>e.localStore)}function Gg(n){return Hg(n).then(e=>e.remoteStore)}function Bv(n){return Hg(n).then(e=>e.syncEngine)}function Yh(n){return pp.apply(this,arguments)}function pp(){return pp=(0,_e.Z)(function*(n){const e=yield Hg(n),t=e.eventManager;return t.onListen=W0.bind(null,e.syncEngine),t.onUnlisten=up.bind(null,e.syncEngine),t}),pp.apply(this,arguments)}function Hv(n,e,t={}){const i=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,l,d,p,_){const E=new Vg({next:M=>{l.enqueueAndForget(()=>Tg(r,S));const F=M.docs.has(d);!F&&M.fromCache?_.reject(new Me(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new Mg(Eu(d.path),E,{includeMetadataChanges:!0,Cu:!0});return $n(r,S)}(yield Yh(n),n.asyncQueue,e,t,i)})),i.promise}function Uv(n,e,t={}){const i=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,l,d,p,_){const E=new Vg({next:M=>{l.enqueueAndForget(()=>Tg(r,S)),M.fromCache&&"server"===p.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new Mg(d,E,{includeMetadataChanges:!0,Cu:!0});return $n(r,S)}(yield Yh(n),n.asyncQueue,e,t,i)})),i.promise}const $u=new Map;function qu(n,e,t){if(!t)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oE(n,e,t,i){if(!0===e&&!0===i)throw new Me(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RI(n){if(!Be.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jv(n){if(Be.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $g(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function Zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$g(n);throw new Me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aE(n,e){if(e<=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lE{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,oE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,e instanceof ua?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(r.options.projectId)}(e))}get app(){if(!this._app)throw new Me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uw;switch(t.type){case"gapi":const i=t.client;return At(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new hw(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$u.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),$u.delete(e),t.terminate())}(this),Promise.resolve()}}class Cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Hi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class ns extends Hi{constructor(e,t,i){super(e,t,Eu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Be(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function uE(n,e,...t){if(n=(0,St.m9)(n),qu("collection","path",e),n instanceof Qh){const i=ze.fromString(e,...t);return jv(i),new ns(n,null,i)}{if(!(n instanceof Cn||n instanceof ns))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ze.fromString(e,...t));return jv(i),new ns(n.firestore,null,i)}}function mp(n,e,...t){if(n=(0,St.m9)(n),1===arguments.length&&(e=mw.R()),qu("doc","path",e),n instanceof Qh){const i=ze.fromString(e,...t);return RI(i),new Cn(n,null,new Be(i))}{if(!(n instanceof Cn||n instanceof ns))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ze.fromString(e,...t));return RI(i),new Cn(n.firestore,n instanceof ns?n.converter:null,new Be(i))}}function hE(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),(n instanceof Cn||n instanceof ns)&&(e instanceof Cn||e instanceof ns)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fE(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),n instanceof Hi&&e instanceof Hi&&n.firestore===e.firestore&&Om(n._query,e._query)&&n.converter===e.converter}class Gv{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new gg(this,"async_queue_retry"),this.qa=()=>{const t=Bh();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Bh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Bh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new tr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!sc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{throw this.$a=i,this.Ba=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=t,t}enqueueAfterDelay(e,t,i){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=pv.createAndSchedule(this,e,t,i,l=>this.ja(l));return this.Fa.push(r),r}Ka(){this.$a&&Je()}verifyOperationInProgress(){}Wa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function zv(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class OA{constructor(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qn extends Qh{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new Gv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||PI(this),this._firestoreClient.terminate()}}function Nn(n){return n._firestoreClient||PI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PI(n){var e;const t=n._freezeSettings(),i=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wA(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new iE(n._authCredentials,n._appCheckCredentials,n._queue,i)}function FI(n,e,t){const i=new tr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield Nv(n,t),yield rE(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===ce.FAILED_PRECONDITION||l.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function _E(n){if(n._initialized||n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class il{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(bn.fromBase64String(e))}catch(t){throw new Me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ba(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(e){this._methodName=e}}class qg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const HI=/^__.*__$/;class _p{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class qv{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class yp{constructor(e,t,i,r,l,d){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===l&&this.Ya(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.nc(e),r}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Yu(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Wv(this.Xa)&&HI.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class yE{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||uc(e)}ac(e,t,i,r=!1){return new yp({Xa:e,methodName:t,uc:i,path:Vi.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function hc(n){const e=n._freezeSettings(),t=uc(n._databaseId);return new yE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vp(n,e,t,i,r,l={}){const d=n.ac(l.merge||l.mergeFields?2:0,e,t,r);Ku("Data must be an object, but it was:",d,i);const p=vE(i,d);let _,E;if(l.merge)_=new mu(d.fieldMask),E=d.fieldTransforms;else if(l.mergeFields){const S=[];for(const M of l.mergeFields){const F=Qv(e,M,t);if(!d.contains(F))throw new Me(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);Ep(S,F)||S.push(F)}_=new mu(S),E=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,E=d.fieldTransforms;return new _p(new Gr(p),_,E)}class bp extends Wu{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bp}}function Zv(n,e,t){return new yp({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Kv extends Wu{_toFieldTransform(e){return new gh(e.path,new Cu)}isEqual(e){return e instanceof Kv}}class UI extends Wu{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Zv(this,e,!0),i=this.cc.map(l=>xr(l,t)),r=new ic(i);return new gh(e.path,r)}isEqual(e){return this===e}}class jI extends Wu{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Zv(this,e,!0),i=this.cc.map(l=>xr(l,t)),r=new Sr(i);return new gh(e.path,r)}isEqual(e){return this===e}}class GI extends Wu{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new mh(e.M,fy(e.M,this.hc));return new gh(e.path,t)}isEqual(e){return this===e}}function Zu(n,e,t,i){const r=n.ac(1,e,t);Ku("Data must be an object, but it was:",r,i);const l=[],d=Gr.empty();pu(i,(_,E)=>{const S=Zg(e,_,t);E=(0,St.m9)(E);const M=r.sc(S);if(E instanceof bp)l.push(S);else{const F=xr(E,M);null!=F&&(l.push(S),d.set(S,F))}});const p=new mu(l);return new qv(d,p,r.fieldTransforms)}function Yv(n,e,t,i,r,l){const d=n.ac(1,e,t),p=[Qv(e,i,t)],_=[r];if(l.length%2!=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)p.push(Qv(e,l[F])),_.push(l[F+1]);const E=[],S=Gr.empty();for(let F=p.length-1;F>=0;--F)if(!Ep(E,p[F])){const U=p[F];let z=_[F];z=(0,St.m9)(z);const ie=d.sc(U);if(z instanceof bp)E.push(U);else{const Te=xr(z,ie);null!=Te&&(E.push(U),S.set(U,Te))}}const M=new mu(E);return new qv(S,M,d.fieldTransforms)}function Wg(n,e,t,i=!1){return xr(t,n.ac(i?4:3,e))}function xr(n,e){if(wp(n=(0,St.m9)(n)))return Ku("Unsupported field value:",e,n),vE(n,e);if(n instanceof Wu)return function(t,i){if(!Wv(i.Xa))throw i.rc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,i){const r=[];let l=0;for(const d of t){let p=xr(d,i.ic(l));null==p&&(p={nullValue:"NULL_VALUE"}),r.push(p),l++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,St.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fy(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ui.fromDate(t);return{timestampValue:Su(i.M,r)}}if(t instanceof ui){const r=new ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Su(i.M,r)}}if(t instanceof qg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ba)return{bytesValue:wy(i.M,t._byteString)};if(t instanceof Cn){const r=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(r))throw i.rc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:zm(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.rc(`Unsupported field value: ${$g(t)}`)}(n,e)}function vE(n,e){const t={};return _w(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(n,(i,r)=>{const l=xr(r,e.tc(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function wp(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof qg||n instanceof ba||n instanceof Cn||n instanceof Wu)}function Ku(n,e,t){if(!wp(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$g(t);throw e.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function Qv(n,e,t){if((e=(0,St.m9)(e))instanceof il)return e._internalPath;if("string"==typeof e)return Zg(n,e);throw Yu("Field path arguments must be of type string or ",n,!1,void 0,t)}const zI=new RegExp("[~\\*/\\[\\]]");function Zg(n,e,t){if(e.search(zI)>=0)throw Yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new il(...e.split("."))._internalPath}catch(i){throw Yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yu(n,e,t,i,r){const l=i&&!i.isEmpty(),d=void 0!==r;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${i}`),d&&(_+=` in document ${r}`),_+=")"),new Me(ce.INVALID_ARGUMENT,p+n+_)}function Ep(n,e){return n.some(t=>t.isEqual(e))}class Cp{constructor(e,t,i,r,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $I extends Cp{data(){return super.data()}}function Dp(n,e){return"string"==typeof e?Zg(n,e):e instanceof il?e._internalPath:e._delegate._internalPath}class fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lo extends Cp{constructor(e,t,i,r,l,d){super(e,t,i,r,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Xh extends Lo{data(e={}){return super.data(e)}}class pc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Xh(this._firestore,this._userDataWriter,i.key,i,new fc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Xh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new fc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const p=new Xh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new fc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,E=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),E=l.indexOf(d.doc.key)),{type:qI(d.type),doc:p,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function WI(n,e){return n instanceof Lo&&e instanceof Lo?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pc&&e instanceof pc&&n._firestore===e._firestore&&fE(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Kg(n){if(Gf(n)&&0===n.explicitOrderBy.length)throw new Me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qu{}function rl(n,...e){for(const t of e)n=t._apply(n);return n}class Xv extends Qu{constructor(e,t,i){super(),this.lc=e,this.fc=t,this.dc=i,this.type="where"}_apply(e){const t=hc(e.firestore),i=function(r,l,d,p,_,E,S){let M;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){IE(S,E);const U=[];for(const z of S)U.push(nb(p,r,z));M={arrayValue:{values:U}}}else M=nb(p,r,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||IE(S,E),M=Wg(d,"where",S,"in"===E||"not-in"===E);const F=si.create(_,E,M);return function(U,z){if(z.S()){const Te=cy(U);if(null!==Te&&!Te.isEqual(z.field))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${z.field.toString()}'`);const ot=ly(U);null!==ot&&ib(0,z.field,ot)}const ie=function(Te,ot){for(const _t of Te.filters)if(ot.indexOf(_t.op)>=0)return _t.op;return null}(U,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==ie)throw new Me(ce.INVALID_ARGUMENT,ie===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${ie.toString()}' filters.`)}(r,F),F}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Hi(e.firestore,e.converter,function(r,l){const d=r.filters.concat([l]);return new nc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class ZI extends Qu{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(i,r,l){if(null!==i.startAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new wu(r,l);return function(p,_){if(null===ly(p)){const E=cy(p);null!==E&&ib(0,E,_.field)}}(i,d),d}(e._query,this.lc,this._c);return new Hi(e.firestore,e.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new nc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class bE extends Qu{constructor(e,t,i){super(),this.type=e,this.wc=t,this.mc=i}_apply(e){return new Hi(e.firestore,e.converter,MD(e._query,this.wc,this.mc))}}class Yg extends Qu{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=tb(e,this.type,this.gc,this.yc);return new Hi(e.firestore,e.converter,(r=t,new nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class eb extends Qu{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=tb(e,this.type,this.gc,this.yc);return new Hi(e.firestore,e.converter,(r=t,new nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function tb(n,e,t,i){if(t[0]=(0,St.m9)(t[0]),t[0]instanceof Cp)return function(r,l,d,p,_){if(!p)throw new Me(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const S of ph(r))if(S.field.isKeyField())E.push(yu(l,p.key));else{const M=p.data.field(S.field);if(Lf(M))throw new Me(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=S.field.canonicalString();throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}E.push(M)}return new fa(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=hc(n.firestore);return function(l,d,p,_,E,S){const M=l.explicitOrderBy;if(E.length>M.length)throw new Me(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let U=0;U<E.length;U++){const z=E[U];if(M[U].field.isKeyField()){if("string"!=typeof z)throw new Me(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof z}`);if(!zr(l)&&-1!==z.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${z}' contains a slash.`);const ie=l.path.child(ze.fromString(z));if(!Be.isDocumentKey(ie))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const Te=new Be(ie);F.push(yu(d,Te))}else{const ie=Wg(p,_,z);F.push(ie)}}return new fa(F,S)}(n._query,n.firestore._databaseId,r,e,t,i)}}function nb(n,e,t){if("string"==typeof(t=(0,St.m9)(t))){if(""===t)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zr(e)&&-1!==t.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ze.fromString(t));if(!Be.isDocumentKey(i))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yu(n,new Be(i))}if(t instanceof Cn)return yu(n,t._key);throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$g(t)}.`)}function IE(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ib(n,e,t){if(!t.isEqual(e))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Qg{convertValue(e,t="none"){switch(lh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const i={};return pu(e.fields,(r,l)=>{i[r]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new qg(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=J_(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=Xl(e);return new ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ze.fromString(e);At(e0(i));const r=new ua(i.get(1),i.get(3)),l=new Be(i.popFirst(5));return r.isEqual(t)||Jn(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function ir(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Jh extends Qg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}class SE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hc(e)}set(e,t,i){this._verifyNotCommitted();const r=mc(e,this._firestore),l=ir(r.converter,t,i),d=vp(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,Ii.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const l=mc(e,this._firestore);let d;return d="string"==typeof(t=(0,St.m9)(t))||t instanceof il?Yv(this._dataReader,"WriteBatch.update",l._key,t,i,r):Zu(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mc(e,this._firestore);return this._mutations=this._mutations.concat(new Hm(t._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mc(n,e){if((n=(0,St.m9)(n)).firestore!==e)throw new Me(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vo extends Qg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function AE(n,e,t){n=Zt(n,Cn);const i=Zt(n.firestore,qn),r=ir(n.converter,e,t);return Sp(i,[vp(hc(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ii.none())])}function Xg(n,e,t,...i){n=Zt(n,Cn);const r=Zt(n.firestore,qn),l=hc(r);let d;return d="string"==typeof(e=(0,St.m9)(e))||e instanceof il?Yv(l,"updateDoc",n._key,e,t,i):Zu(l,"updateDoc",n._key,e),Sp(r,[d.toMutation(n._key,Ii.exists(!0))])}function Ip(n,...e){var t,i,r;n=(0,St.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||zv(e[d])||(l=e[d],d++);const p={includeMetadataChanges:l.includeMetadataChanges};if(zv(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[d+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,E,S;if(n instanceof Cn)E=Zt(n.firestore,qn),S=Eu(n._key.path),_={next:M=>{e[d]&&e[d](Jg(E,n,M))},error:e[d+1],complete:e[d+2]};else{const M=Zt(n,Hi);E=Zt(M.firestore,qn),S=M._query;const F=new Vo(E);_={next:U=>{e[d]&&e[d](new pc(E,F,M,U))},error:e[d+1],complete:e[d+2]},Kg(n._query)}return function(M,F,U,z){const ie=new Vg(z),Te=new Mg(F,ie,U);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return $n(yield Yh(M),Te)})),()=>{ie.Ia(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Tg(yield Yh(M),Te)}))}}(Nn(E),S,p,_)}function Sp(n,e){return function(t,i){const r=new tr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function mI(n,e,t){return yv.apply(this,arguments)}(yield Bv(t),i,r)})),r.promise}(Nn(n),e)}function Jg(n,e,t){const i=t.docs.get(e._key),r=new Vo(n);return new Lo(n,r,e._key,i,new fc(t.hasPendingWrites,t.fromCache),e.converter)}class tS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hc(e)}get(e){const t=mc(e,this._firestore),i=new Jh(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Je();const l=r[0];if(l.isFoundDocument())return new Cp(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new Cp(this._firestore,i,t._key,null,t.converter);throw Je()})}set(e,t,i){const r=mc(e,this._firestore),l=ir(r.converter,t,i),d=vp(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(e,t,i,...r){const l=mc(e,this._firestore);let d;return d="string"==typeof(t=(0,St.m9)(t))||t instanceof il?Yv(this._dataReader,"Transaction.update",l._key,t,i,r):Zu(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=mc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mc(e,this._firestore),i=new Vo(this._firestore);return super.get(e).then(r=>new Lo(this._firestore,i,t._key,r._document,new fc(!1,!1),t.converter))}}function lb(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cb(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function ub(){if(!function Dm(){return"undefined"!=typeof atob}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fu=hr.SDK_VERSION,(0,hr._registerComponent)(new ea.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=new qn(r,new dw(t.getProvider("auth-internal")),new pw(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC")),(0,hr.registerVersion)(Nf,"3.4.8",n),(0,hr.registerVersion)(Nf,"3.4.8","esm2017")}();class Tp{constructor(e){this._delegate=e}static fromBase64String(e){return ub(),new Tp(ba.fromBase64String(e))}static fromUint8Array(e){return cb(),new Tp(ba.fromUint8Array(e))}toBase64(){return ub(),this._delegate.toBase64()}toUint8Array(){return cb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function db(n){return function FE(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class iS{enableIndexedDbPersistence(e,t){return function pE(n,e){_E(n=Zt(n,qn));const t=Nn(n),i=n._freezeSettings(),r=new Pv;return FI(t,r,new tE(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function NI(n){_E(n=Zt(n,qn));const e=Nn(n),t=n._freezeSettings(),i=new Pv;return FI(e,i,new CI(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mE(n){if(n._initialized&&!n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(i){if(!ao.vt())return Promise.resolve();const r=i+"main";yield ao.delete(r)}),function(i){return t.apply(this,arguments)})(lg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hb{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ua||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ql("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function cE(n,e,t,i={}){var r;const l=(n=Zt(n,Qh))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Ql("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let d,p;if("string"==typeof i.mockUserToken)d=i.mockUserToken,p=mr.MOCK_USER;else{d=(0,St.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mr(_)}n._authCredentials=new Q_(new cw(d,p))}}(this._delegate,e,t,i)}enableNetwork(){return function gE(n){return function TI(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Ug(n),t=yield Gg(n);return e.setNetworkEnabled(!0),function(i){const r=je(i);return r.fu.delete(0),Hh(r)}(t)}))}(Nn(n=Zt(n,qn)))}(this._delegate)}disableNetwork(){return function $v(n){return function sE(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Ug(n),t=yield Gg(n);return e.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const l=je(r);l.fu.add(0),yield Uh(l),l.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Nn(n=Zt(n,qn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,oE("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function NA(n){return function(e){const t=new tr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function kA(n,e){return K0.apply(this,arguments)}(yield Bv(e),t)})),t.promise}(Nn(n=Zt(n,qn)))}(this._delegate)}onSnapshotsInSync(e){return function sb(n,e){return function RA(n,e){const t=new Vg(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield Yh(n),r=t,je(i).Eu.add(r),void r.next();var i,r})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield Yh(n),r=t,void je(i).Eu.delete(r);var i,r}))}}(Nn(n=Zt(n,qn)),zv(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Mp(this,uE(this._delegate,e))}catch(t){throw kr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bo(this,mp(this._delegate,e))}catch(t){throw kr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new is(this,function dE(n,e){if(n=Zt(n,Qh),qu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hi(n,null,(t=e,new nc(ze.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw kr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kE(n,e){return function xI(n,e){const t=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const i=yield(r=n,Hg(r).then(l=>l.datastore));var r;new SI(n.asyncQueue,i,e,t).run()})),t.promise}(Nn(n=Zt(n,qn)),t=>e(new tS(n,t)))}(this._delegate,t=>e(new fb(this,t)))}batch(){return Nn(this._delegate),new VE(new SE(this._delegate,e=>Sp(this._delegate,e)))}loadBundle(e){return function VI(n,e){const t=Nn(n=Zt(n,qn)),i=new OA;return function zg(n,e,t,i){const r=function(l,d){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,E){if(_ instanceof Uint8Array)return nE(_,E);if(_ instanceof ArrayBuffer)return nE(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new DI(_,d);var _}(t,uc(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function EI(n,e,t){const i=je(n);var r;(r=(0,_e.Z)(function*(l,d,p){try{const _=yield d.getMetadata();if(yield function(F,U){const z=je(F),ie=Bi(U.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",Te=>z._s.getBundleMetadata(Te,U.id)).then(Te=>!!Te&&Te.createTime.compareTo(ie)>=0)}(l.localStore,_))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(G0(_));const E=new fI(_,l.localStore,d.M);let S=yield d.da();for(;S;){const F=yield E.ku(S);F&&p._updateProgress(F),S=yield d.da()}const M=yield E.complete();return yield nl(l,M.Fu,void 0),yield function(F,U){const z=je(F);return z.persistence.runTransaction("Save bundle","readwrite",ie=>z._s.saveBundleMetadata(ie,U))}(l.localStore,_),p._completeWith(M.progress),Promise.resolve(M.Ou)}catch(_){return Ql("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var F}),function(l,d,p){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Bv(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function BI(n,e){return function kI(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,i){const r=je(t);return r.persistence.runTransaction("Get named query","readonly",l=>r._s.getNamedQuery(l,i))}(yield jg(n),e)}))}(Nn(n=Zt(n,qn)),e).then(t=>t?new Hi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new is(this,t):null)}}class Ap extends Qg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tp(new ba(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bo.forKey(t,this.firestore,null)}}class fb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}get(e){const t=wa(e);return this._delegate.get(t).then(i=>new t_(this._firestore,new Lo(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=wa(e);return i?(lb("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=wa(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=wa(e);return this._delegate.delete(t),this}}class VE{constructor(e){this._delegate=e}set(e,t,i){const r=wa(e);return i?(lb("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=wa(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=wa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xu{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new n_(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Xu.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let l=r.get(t);return l||(l=new Xu(e,new Ap(e),t),r.set(t,l)),l}}Xu.INSTANCES=new WeakMap;class Bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bo(t,new Cn(t._delegate,i,new Be(e)))}static forKey(e,t,i){return new Bo(t,new Cn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Mp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Mp(this.firestore,uE(this._delegate,e))}catch(t){throw kr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,St.m9)(e))instanceof Cn&&hE(this._delegate,e)}set(e,t){t=lb("DocumentReference.set",t);try{return t?AE(this._delegate,e,t):AE(this._delegate,e)}catch(i){throw kr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Xg(this._delegate,e):Xg(this._delegate,e,t,...i)}catch(r){throw kr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ME(n){return Sp(Zt(n.firestore,qn),[new Hm(n._key,Ii.none())])}(this._delegate)}onSnapshot(...e){const t=rS(e),i=sS(e,r=>new t_(this.firestore,new Lo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Ip(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function XI(n){n=Zt(n,Cn);const e=Zt(n.firestore,qn),t=Nn(e),i=new Vo(e);return function AI(n,e){const t=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,l,d){try{const p=yield function(_,E){const S=je(_);return S.persistence.runTransaction("read document","readonly",M=>S.ci.Ls(M,E))}(r,l);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new Me(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=Gh(p,`Failed to get document '${l} from cache`);d.reject(_)}}),function(r,l,d){return i.apply(this,arguments)})(yield jg(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Lo(e,i,n._key,r,new fc(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function rb(n){n=Zt(n,Cn);const e=Zt(n.firestore,qn);return Hv(Nn(e),n._key,{source:"server"}).then(t=>Jg(e,n,t))}(this._delegate):function LA(n){n=Zt(n,Cn);const e=Zt(n.firestore,qn);return Hv(Nn(e),n._key).then(t=>Jg(e,n,t))}(this._delegate),t.then(i=>new t_(this.firestore,new Lo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function kr(n,e,t){return n.message=n.message.replace(e,t),n}function rS(n){for(const e of n)if("object"==typeof e&&!db(e))return e;return{}}function sS(n,e){var t,i;let r;return r=db(n[0])?n[0]:db(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(e(l))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class t_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return WI(this._delegate,e._delegate)}}class n_ extends t_{data(e){const t=this._delegate.data(e);return function Y_(n,e){n||Je()}(void 0!==t),t}}class is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}where(e,t,i){try{return new is(this.firestore,rl(this._delegate,function Jv(n,e,t){const i=e,r=Dp("where",n);return new Xv(r,i,t)}(e,t,i)))}catch(r){throw kr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new is(this.firestore,rl(this._delegate,function KI(n,e="asc"){const t=e,i=Dp("orderBy",n);return new ZI(i,t)}(e,t)))}catch(i){throw kr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new is(this.firestore,rl(this._delegate,function YI(n){return aE("limit",n),new bE("limit",n,"F")}(e)))}catch(t){throw kr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new is(this.firestore,rl(this._delegate,function wE(n){return aE("limitToLast",n),new bE("limitToLast",n,"L")}(e)))}catch(t){throw kr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new is(this.firestore,rl(this._delegate,function EE(...n){return new Yg("startAt",n,!0)}(...e)))}catch(t){throw kr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new is(this.firestore,rl(this._delegate,function CE(...n){return new Yg("startAfter",n,!1)}(...e)))}catch(t){throw kr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new is(this.firestore,rl(this._delegate,function DE(...n){return new eb("endBefore",n,!1)}(...e)))}catch(t){throw kr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new is(this.firestore,rl(this._delegate,function QI(...n){return new eb("endAt",n,!0)}(...e)))}catch(t){throw kr(t,"endAt()","Query.endAt()")}}isEqual(e){return fE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function TE(n){n=Zt(n,Hi);const e=Zt(n.firestore,qn),t=Nn(e),i=new Vo(e);return function MI(n,e){const t=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,l,d){try{const p=yield dg(r,l,!0),_=new $0(l,p.li),E=_.Gu(p.documents),S=_.applyChanges(E,!1);d.resolve(S.snapshot)}catch(p){const _=Gh(p,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(r,l,d){return i.apply(this,arguments)})(yield jg(n),e,t);var i})),t.promise}(t,n._query).then(r=>new pc(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function eS(n){n=Zt(n,Hi);const e=Zt(n.firestore,qn),t=Nn(e),i=new Vo(e);return Uv(t,n._query,{source:"server"}).then(r=>new pc(e,i,n,r))}(this._delegate):function JI(n){n=Zt(n,Hi);const e=Zt(n.firestore,qn),t=Nn(e),i=new Vo(e);return Kg(n._query),Uv(t,n._query).then(r=>new pc(e,i,n,r))}(this._delegate),t.then(i=>new BE(this.firestore,new pc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=rS(e),i=sS(e,r=>new BE(this.firestore,new pc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Ip(this._delegate,t,i)}withConverter(e){return new is(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}class BA{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new n_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class BE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new n_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BA(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new n_(this._firestore,i))})}isEqual(e){return WI(this._delegate,e._delegate)}}class Mp extends is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bo(this.firestore,e):null}doc(e){try{return new Bo(this.firestore,void 0===e?mp(this._delegate):mp(this._delegate,e))}catch(t){throw kr(t,"doc()","CollectionReference.doc()")}}add(e){return function xE(n,e){const t=Zt(n.firestore,qn),i=mp(n),r=ir(n.converter,e);return Sp(t,[vp(hc(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ii.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Bo(this.firestore,t))}isEqual(e){return hE(this._delegate,e._delegate)}withConverter(e){return new Mp(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function wa(n){return Zt(n,Cn)}class HE{constructor(...e){this._delegate=new il(...e)}static documentId(){return new HE(Vi.keyField().canonicalString())}isEqual(e){return(e=(0,St.m9)(e))instanceof il&&this._delegate._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function RE(){return new Kv("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gc(e)}static delete(){const e=function e_(){return new bp("deleteField")}();return e._methodName="FieldValue.delete",new gc(e)}static arrayUnion(...e){const t=function nS(...n){return new UI("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gc(t)}static arrayRemove(...e){const t=function ob(...n){return new jI("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gc(t)}static increment(e){const t=function ab(n){return new GI("increment",n)}(e);return t._methodName="FieldValue.increment",new gc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pb={Firestore:hb,GeoPoint:qg,Timestamp:ui,Blob:Tp,Transaction:fb,WriteBatch:VE,DocumentReference:Bo,DocumentSnapshot:t_,Query:is,QueryDocumentSnapshot:n_,QuerySnapshot:BE,CollectionReference:Mp,FieldPath:HE,FieldValue:gc,setLogLevel:function LE(n){!function K_(n){Za.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function jE(n){(function UE(n,e){n.INTERNAL.registerComponent(new ea.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},pb)))})(n,(e,t)=>new hb(e,t,new iS)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(bo.Z);var an=O(7579),Ea=O(6451),xp=O(5363),Ju=O(8421);function Ca(n,e){return(0,Zi.e)((t,i)=>{let r=null,l=0,d=!1;const p=()=>d&&!r&&i.complete();t.subscribe((0,Qn.x)(i,_=>{null==r||r.unsubscribe();let E=0;const S=l++;(0,Ju.Xf)(n(_,S)).subscribe(r=(0,Qn.x)(i,M=>i.next(e?e(_,M,S,E++):M),()=>{r=null,p()}))},()=>{d=!0,p()}))})}var HA=O(6063);class UA extends an.x{constructor(e=1/0,t=1/0,i=HA.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:d}=this;t||(i.push(e),!r&&i.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let d=0;d<l.length&&!e.closed;d+=i?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*e;if(e<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const d=t.now();let p=0;for(let _=1;_<i.length&&i[_]<=d;_+=2)p=_;p&&i.splice(0,p+1)}}}var GE=O(3099);function i_(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,GE.B)({connector:()=>new UA(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const aS=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Da=O(5698);function jA(n){return(0,Zi.e)((e,t)=>{let i=!1;e.subscribe((0,Qn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function lS(n=GA){return(0,Zi.e)((e,t)=>{let i=!1;e.subscribe((0,Qn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function GA(){return new aS}var Ho=O(576);function zE(n,e){return(0,Ho.m)(e)?Ca(()=>n,e):Ca(()=>n)}var kp=O(9468);O(5867);const YE=new Map,QE={activated:!1,tokenObservers:[]},ZA={initialized:!1,enabled:!1};function rr(n){return YE.get(n)||QE}function lo(n,e){YE.set(n,e)}function r_(){return ZA}class gb{constructor(e,t,i,r,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new St.BH,yield function _b(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new St.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $r=new St.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yb(n){if(!rr(n).activated)throw $r.create("use-before-activation",{appName:n.name})}function iC(n,e){return s_.apply(this,arguments)}function s_(){return s_=(0,_e.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const l={method:"POST",body:JSON.stringify(e),headers:i};let d,p;try{d=yield fetch(n,l)}catch(M){throw $r.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw $r.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(M){throw $r.create("fetch-parse-error",{originalErrorMessage:M.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw $r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const E=1e3*Number(_[1]),S=Date.now();return{token:p.attestationToken,expireTimeMillis:S+E,issuedAtTimeMillis:S}}),s_.apply(this,arguments)}function bS(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const o_="firebase-app-check-store";let wb=null;function rC(){return wb||(wb=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e($r.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(o_,{keyPath:"compositeKey"})}}catch(t){e($r.create("storage-open",{originalErrorMessage:t.message}))}}),wb)}function l_(){return l_=(0,_e.Z)(function*(n,e){const i=(yield rC()).transaction(o_,"readwrite"),l=i.objectStore(o_).put({compositeKey:n,value:e});return new Promise((d,p)=>{l.onsuccess=_=>{d()},i.onerror=_=>{var E;p($r.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})}),l_.apply(this,arguments)}const ed=new Cr.Yd("@firebase/app-check");function DS(n,e){return(0,St.hl)()?function ES(n,e){return function _c(n,e){return l_.apply(this,arguments)}(function oC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ed.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IS(){return r_().enabled}function Cb(){return Db.apply(this,arguments)}function Db(){return Db=(0,_e.Z)(function*(){const n=r_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Db.apply(this,arguments)}const TS={error:"UNKNOWN_ERROR"};function AS(n){return St.US.encodeString(JSON.stringify(n),!1)}function Pp(n){return u_.apply(this,arguments)}function u_(){return u_=(0,_e.Z)(function*(n,e=!1){const t=n.app;yb(t);const i=rr(t);let l,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&Sb(_)&&(r=_)}if(!e&&r&&Sb(r))return{token:r.token};let p,d=!1;if(IS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=iC(bS(t,yield Cb()),n.heartbeatServiceProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),d=!0);const _=yield i.exchangeTokenPromise;return yield DS(t,_),lo(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),d=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ed.warn(_.message):ed.error(_),l=_}return r?(p={token:r.token},lo(t,Object.assign(Object.assign({},i),{token:r})),yield DS(t,r)):p=uC(l),d&&h_(t,p),p}),u_.apply(this,arguments)}function Ib(n,e){const t=rr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),lo(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function lC(n){const{app:e}=n,t=rr(e);let i=t.tokenRefresher;i||(i=function cC(n){const{app:e}=n;return new gb((0,_e.Z)(function*(){let i;if(i=rr(e).token?yield Pp(n,!0):yield Pp(n),i.error)throw i.error}),()=>!0,()=>{const t=rr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),lo(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function h_(n,e){const t=rr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Sb(n){return n.expireTimeMillis-Date.now()>0}function uC(n){return{token:AS(TS),error:n}}class Tb{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=rr(this.app);for(const t of e)Ib(this.app,t.next);return Promise.resolve()}}const N="app-check-internal";!function B(){(0,hr._registerComponent)(new ea.wA("app-check",n=>function MS(n,e){return new Tb(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(N).initialize()})),(0,hr._registerComponent)(new ea.wA(N,n=>function xS(n){return{getToken:e=>Pp(n,e),addTokenListener:e=>function d_(n,e,t,i){const{app:r}=n,l=rr(r),d={next:t,error:i,type:e};if(lo(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Sb(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),lC(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>lC(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ib(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hr.registerVersion)("@firebase/app-check","0.5.6")}();class Ne{constructor(){return(0,kn.vb)("app-check")}}"undefined"!=typeof window&&window;var kb=O(127);const sM=new c.OlP("angularfire2.auth.use-emulator"),oM=new c.OlP("angularfire2.auth.settings"),aM=new c.OlP("angularfire2.auth.tenant-id"),lM=new c.OlP("angularfire2.auth.langugage-code"),cM=new c.OlP("angularfire2.auth.use-device-language"),uM=new c.OlP("angularfire.auth.persistence"),dM=(n,e,t,i,r,l,d,p)=>(0,bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,l&&_.useDeviceLanguage(),d)for(const[E,S]of Object.entries(d))_.settings[E]=S;return p&&_.setPersistence(p),_},[t,i,r,l,d,p]);let hM=(()=>{class n{constructor(t,i,r,l,d,p,_,E,S,M,F,U){const z=new an.x,ie=Yn(void 0).pipe((0,xp.Q)(d.outsideAngular),Ca(()=>l.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,820)))),(0,Jt.U)(()=>(0,bi.on)(t,l,i)),(0,Jt.U)(Te=>dM(Te,l,p,E,S,M,_,F)),i_({bufferSize:1,refCount:!1}));if(yi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Yn(null);else{ie.pipe(function cS(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ri((r,l)=>n(r,l,i)):Il.y,(0,Da.q)(1),t?jA(e):lS(()=>new aS))}()).subscribe();const ot=ie.pipe(Ca(nt=>nt.getRedirectResult().then(Pt=>Pt,()=>null)),kn.iC,i_({bufferSize:1,refCount:!1})),_t=ie.pipe(Ca(nt=>new sn.y(Pt=>({unsubscribe:l.runOutsideAngular(()=>nt.onAuthStateChanged(Ht=>Pt.next(Ht),Ht=>Pt.error(Ht),()=>Pt.complete()))})))),at=ie.pipe(Ca(nt=>new sn.y(Pt=>({unsubscribe:l.runOutsideAngular(()=>nt.onIdTokenChanged(Ht=>Pt.next(Ht),Ht=>Pt.error(Ht),()=>Pt.complete()))}))));this.authState=ot.pipe(zE(_t),(0,kp.R)(d.outsideAngular),(0,xp.Q)(d.insideAngular)),this.user=ot.pipe(zE(at),(0,kp.R)(d.outsideAngular),(0,xp.Q)(d.insideAngular)),this.idToken=this.user.pipe(Ca(nt=>nt?(0,qi.D)(nt.getIdToken()):Yn(null))),this.idTokenResult=this.user.pipe(Ca(nt=>nt?(0,qi.D)(nt.getIdTokenResult()):Yn(null))),this.credential=(0,Ea.T)(ot,z,this.authState.pipe(ri(nt=>!nt))).pipe((0,Jt.U)(nt=>(null==nt?void 0:nt.user)?nt:null),(0,kp.R)(d.outsideAngular),(0,xp.Q)(d.insideAngular))}return(0,bi.pX)(this,ie,l,{spy:{apply:(Te,ot,_t)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&_t.then(at=>z.next(at))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bi.Dh),c.LFG(bi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(kn.HU),c.LFG(sM,8),c.LFG(oM,8),c.LFG(aM,8),c.LFG(lM,8),c.LFG(cM,8),c.LFG(uM,8),c.LFG(Ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function fM(n,e){return function EO(n,e=Id.z){return new sn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function FS(n,e){return fM(n,e).pipe((0,Jt.U)(t=>({payload:t,type:"query"})))}function _C(n,e){return FS(n,e).pipe(ii(void 0),Jr(),(0,Jt.U)(([t,i])=>{const r=i.payload.docChanges(),l=r.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,p)=>{const _=r.find(S=>S.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),l}))}function pM(n,e,t){return _C(n,t).pipe(Ba((i,r)=>function DO(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function IO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),e),[]),$s(),(0,Jt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function LS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function mM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gM{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=_C(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Jt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ii(void 0),Jr(),ri(([i,r])=>r.length>0||!i),(0,Jt.U)(([i,r])=>r),kn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ba((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mM(e);return pM(this.query,t,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return FS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),kn.iC)}get(e){return(0,qi.D)(this.query.get(e)).pipe(kn.iC)}add(e){return this.ref.add(e)}doc(e){return new _M(this.ref.doc(e),this.afs)}}class _M{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:l}=bM(i,t);return new gM(r,l,this.afs)}snapshotChanges(){return function CO(n,e){return fM(n,e).pipe(ii(void 0),Jr(),(0,Jt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Jt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,qi.D)(this.ref.get(e)).pipe(kn.iC)}}class SO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_C(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ri(t=>t.length>0),kn.iC):_C(this.query,this.afs.schedulers.outsideAngular).pipe(kn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ba((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mM(e);return pM(this.query,t,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return FS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),kn.iC)}get(e){return(0,qi.D)(this.query.get(e)).pipe(kn.iC)}}const yM=new c.OlP("angularfire2.enableFirestorePersistence"),vM=new c.OlP("angularfire2.firestore.persistenceSettings"),TO=new c.OlP("angularfire2.firestore.settings"),AO=new c.OlP("angularfire2.firestore.use-emulator");function bM(n,e=(t=>t)){return{query:e(n),ref:n}}let wM=(()=>{class n{constructor(t,i,r,l,d,p,_,E,S,M,F,U,z,ie,Te,ot,_t){this.schedulers=_;const at=(0,bi.on)(t,p,i),nt=S;M&&dM(at,p,F,z,ie,Te,U,ot),[this.firestore,this.persistenceEnabled$]=(0,bi.cc)(`${at.name}.firestore`,"AngularFirestore",at.name,()=>{const Pt=p.runOutsideAngular(()=>at.firestore());if(l&&Pt.settings(l),nt&&Pt.useEmulator(...nt),r&&!yi(d)){const Ht=()=>{try{return(0,qi.D)(Pt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(_n){return"undefined"!=typeof console&&console.warn(_n),Yn(!1)}};return[Pt,p.runOutsideAngular(Ht)]}return[Pt,Yn(!1)]},[l,nt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=bM(r,i),p=this.schedulers.ngZone.run(()=>l);return new gM(p,d,this)}collectionGroup(t,i){const r=i||(d=>d),l=this.firestore.collectionGroup(t);return new SO(r(l),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new _M(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bi.Dh),c.LFG(bi.xv,8),c.LFG(yM,8),c.LFG(TO,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(kn.HU),c.LFG(vM,8),c.LFG(AO,8),c.LFG(hM,8),c.LFG(sM,8),c.LFG(oM,8),c.LFG(aM,8),c.LFG(lM,8),c.LFG(cM,8),c.LFG(uM,8),c.LFG(Ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MO=(()=>{class n{constructor(){kb.Z.registerVersion("angularfire",kn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:yM,useValue:!0},{provide:vM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[wM]}),n})(),xO=(()=>{class n{constructor(t){this.afs=t,this.exercices=this.afs.collection("exercices").valueChanges()}getExercices(){return this.exercices}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function An(n){return null!=n&&"false"!=`${n}`}function Sa(n,e=0){return function kO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function yC(n){return Array.isArray(n)?n:[n]}function sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function td(n){return n instanceof c.SBq?n.nativeElement:n}function VS(n,e=Id.z){return(0,Zi.e)((t,i)=>{let r=null,l=null,d=null;const p=()=>{if(r){r.unsubscribe(),r=null;const E=l;l=null,i.next(E)}};function _(){const E=d+n,S=e.now();if(S<E)return r=this.schedule(void 0,E-S),void i.add(r);p()}t.subscribe((0,Qn.x)(i,E=>{l=E,d=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{l=r=null}))})}let EM=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RO=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=td(t);return new sn.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new an.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(EM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OO=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=An(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Sa(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(VS(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(RO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),CM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[EM]}),n})();const PO=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function NO(){return(0,c.f3M)(J)}}),FO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let BS,f_=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function LO(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?FO.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ob=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{BS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){BS=!1}let p_,qr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function $i(n){return n===Fs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function SM(){if(p_)return p_;if("object"!=typeof document||!document)return p_=new Set(IM),p_;let n=document.createElement("input");return p_=new Set(IM.filter(e=>(n.setAttribute("type",e),n.type===e))),p_}let Pb,Np,HS;function Nb(n){return function VO(){if(null==Pb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pb=!0}))}finally{Pb=Pb||!1}return Pb}()?n:!!n.capture}function BO(){if(null==Np){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Np=!1,Np;if("scrollBehavior"in document.documentElement.style)Np=!0;else{const n=Element.prototype.scrollTo;Np=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Np}function TM(n){if(function HO(){if(null==HS){const n="undefined"!=typeof document?document.head:null;HS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return HS}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Fp(n){return n.composedPath?n.composedPath()[0]:n.target}function US(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var yc=O(727);class AM extends an.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function m_(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var EC=O(8505);function OM(n){return ri((e,t)=>n<=t)}var XO=O(5032);function Fn(n){return(0,Zi.e)((e,t)=>{(0,Ju.Xf)(n).subscribe((0,Qn.x)(t,()=>t.complete(),XO.Z)),!t.closed&&e.subscribe(t)})}function CC(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const NM="cdk-describedby-message",DC="cdk-describedby-host";let FM=0,LM=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+FM++,this._document=t}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const l=zS(i,r);"string"!=typeof i?(VM(i),this._messageRegistry.set(l,{messageElement:i,referenceCount:0})):this._messageRegistry.has(l)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,l)||this._addMessageReference(t,l)}removeDescription(t,i,r){var l;if(!i||!this._isElementNode(t))return;const d=zS(i,r);if(this._isElementDescribedByMessage(t,d)&&this._removeMessageReference(t,d),"string"==typeof i){const p=this._messageRegistry.get(d);p&&0===p.referenceCount&&this._deleteMessageElement(d)}0===(null===(l=this._messagesContainer)||void 0===l?void 0:l.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var t;const i=this._document.querySelectorAll(`[${DC}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(DC);null===(t=this._messagesContainer)||void 0===t||t.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");VM(r),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(zS(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){var i,r;null===(r=null===(i=this._messageRegistry.get(t))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let l=0;l<i.length;l++)i[l].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=CC(t,"aria-describedby").filter(r=>0!=r.indexOf(NM));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function JO(n,e,t){const i=CC(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(DC,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function e1(n,e,t){const r=CC(n,e).filter(l=>l!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(DC)}_isElementDescribedByMessage(t,i){const r=CC(t,"aria-describedby"),l=this._messageRegistry.get(i),d=l&&l.messageElement.id;return!!d&&-1!=r.indexOf(d)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),l=t.getAttribute("aria-label");return!(!r||l&&l.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(qr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zS(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function VM(n){n.id||(n.id=`${NM}-${FM++}`)}class n1 extends class t1{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new an.x,this._typeaheadSubscription=yc.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new an.x,this.change=new an.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,EC.b)(t=>this._pressedLetters.push(t)),VS(e),ri(()=>this._pressedLetters.length>0),(0,Jt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const l=(this._activeItemIndex+r)%i.length,d=i[l];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!e[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||m_(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function HM(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function UM(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const c1=new c.OlP("cdk-input-modality-detector-options"),u1={ignoreKeys:[18,17,224,91,16]},g_=Nb({passive:!0,capture:!0});let d1=(()=>{class n{constructor(t,i,r,l){this._platform=t,this._mostRecentTarget=null,this._modality=new AM(null),this._lastTouchMs=0,this._onKeydown=d=>{var p,_;(null===(_=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===_?void 0:_.some(E=>E===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Fp(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(HM(d)?"keyboard":"mouse"),this._mostRecentTarget=Fp(d))},this._onTouchstart=d=>{UM(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fp(d))},this._options=Object.assign(Object.assign({},u1),l),this.modalityDetected=this._modality.pipe(OM(1)),this.modalityChanged=this.modalityDetected.pipe($s()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,g_),r.addEventListener("mousedown",this._onMousedown,g_),r.addEventListener("touchstart",this._onTouchstart,g_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,g_),document.removeEventListener("mousedown",this._onMousedown,g_),document.removeEventListener("touchstart",this._onTouchstart,g_))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qr),c.LFG(c.R0b),c.LFG(J),c.LFG(c1,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h1=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function f1(){return null}}),p1=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let m1=(()=>{class n{constructor(t,i,r,l){this._ngZone=i,this._defaultOptions=l,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let l,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[l,d]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=r&&r.politeness?r.politeness:"polite"),null==d&&r&&(d=r.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(p=>this._currentResolve=p)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(h1,8),c.LFG(c.R0b),c.LFG(J),c.LFG(p1,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g1=new c.OlP("cdk-focus-monitor-default-options"),IC=Nb({passive:!0,capture:!0});let $S=(()=>{class n{constructor(t,i,r,l,d){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new an.x,this._rootNodeFocusAndBlurListener=p=>{const _=Fp(p),E="focus"===p.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)E.call(this,p,S)},this._document=l,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,i=!1){const r=td(t);if(!this._platform.isBrowser||1!==r.nodeType)return Yn(null);const l=TM(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const p={checkChildren:i,subject:new an.x,rootNode:l};return this._elementInfo.set(r,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const i=td(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const l=td(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,_])=>this._originChanged(p,i,_)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),l=Fp(t);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,IC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,IC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Fn(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,IC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,IC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,l)=>{(l===t||r.checkChildren&&l.contains(t))&&i.push([l,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(qr),c.LFG(d1),c.LFG(J,8),c.LFG(g1,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GM="cdk-high-contrast-black-on-white",zM="cdk-high-contrast-white-on-black",qS="cdk-high-contrast-active";let $M=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qS),t.remove(GM),t.remove(zM),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(qS),t.add(GM)):2===i&&(t.add(qS),t.add(zM))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qr),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_1=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($M))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[CM]]}),n})();class qM{}const nd="*";function sl(n,e){return{type:7,name:n,definitions:e,options:{}}}function ss(n,e=null){return{type:4,styles:e,timings:n}}function WM(n,e=null){return{type:2,steps:n,options:e}}function Qt(n){return{type:6,styles:n,offset:null}}function or(n,e,t){return{type:0,name:n,styles:e,options:t}}function Fb(n){return{type:5,steps:n}}function Rr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ZM(n=null){return{type:9,options:n}}function KM(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function YM(n){Promise.resolve(null).then(n)}class Lb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){YM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class QM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const l=this.players.length;0==l?YM(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Xt=!1;function XM(n){return new c.vHH(3e3,Xt)}function X1(){return"undefined"!=typeof window&&void 0!==window.document}function ZS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function nf(n){switch(n.length){case 0:return new Lb;case 1:return n[0];default:return new QM(n)}}function JM(n,e,t,i,r={},l={}){const d=[],p=[];let _=-1,E=null;if(i.forEach(S=>{const M=S.offset,F=M==_,U=F&&E||{};Object.keys(S).forEach(z=>{let ie=z,Te=S[z];if("offset"!==z)switch(ie=e.normalizePropertyName(ie,d),Te){case"!":Te=r[z];break;case nd:Te=l[z];break;default:Te=e.normalizeStyleValue(z,ie,Te,d)}U[ie]=Te}),F||p.push(U),E=U,_=M}),d.length)throw function U1(n){return new c.vHH(3502,Xt)}();return p}function KS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&YS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&YS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&YS(t,"destroy",n)))}}function YS(n,e,t){const i=t.totalTime,l=QS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function QS(n,e,t,i,r="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:l,disabled:!!d}}function Uo(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function ex(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let XS=(n,e)=>!1,tx=(n,e,t)=>[],nx=null;function JS(n){const e=n.parentNode||n.host;return e===nx?null:e}(ZS()||"undefined"!=typeof Element)&&(X1()?(nx=(()=>document.documentElement)(),XS=(n,e)=>{for(;e;){if(e===n)return!0;e=JS(e)}return!1}):XS=(n,e)=>n.contains(e),tx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Lp=null,ix=!1;function rx(n){Lp||(Lp=function eP(){return"undefined"!=typeof document?document.body:null}()||{},ix=!!Lp.style&&"WebkitAppearance"in Lp.style);let e=!0;return Lp.style&&!function J1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Lp.style,!e&&ix&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Lp.style)),e}const sx=XS,ox=tx;let ax=(()=>{class n{validateStyleProperty(t){return rx(t)}matchesElement(t,i){return!1}containsElement(t,i){return sx(t,i)}getParentElement(t){return JS(t)}query(t,i,r){return ox(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,l,d,p=[],_){return new Lb(r,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),eT=(()=>{class n{}return n.NOOP=new ax,n})();const tT="ng-enter",TC="ng-leave",AC="ng-trigger",MC=".ng-trigger",cx="ng-animating",nT=".ng-animating";function Vp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iT(parseFloat(e[1]),e[2])}function iT(n,e){return"s"===e?1e3*n:n}function xC(n,e,t){return n.hasOwnProperty("duration")?n:function iP(n,e,t){let r,l=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(XM()),{duration:0,delay:0,easing:""};r=iT(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(l=iT(parseFloat(_),p[4]));const E=p[5];E&&(d=E)}else r=n;if(!t){let p=!1,_=e.length;r<0&&(e.push(function v1(){return new c.vHH(3100,Xt)}()),p=!0),l<0&&(e.push(function b1(){return new c.vHH(3101,Xt)}()),p=!0),p&&e.splice(_,0,XM())}return{duration:r,delay:l,easing:d}}(n,e,t)}function __(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function rf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else __(n,t);return t}function dx(n,e,t){return t?e+":"+t+";":""}function hx(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=dx(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dx(0,oP(t),n.style[t]));n.setAttribute("style",e)}function vc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=sT(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),ZS()&&hx(n))}function Bp(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=sT(t);n.style[i]=""}),ZS()&&hx(n))}function Vb(n){return Array.isArray(n)?1==n.length?n[0]:WM(n):n}const rT=new RegExp("{{\\s*(.+?)\\s*}}","g");function fx(n){let e=[];if("string"==typeof n){let t;for(;t=rT.exec(n);)e.push(t[1]);rT.lastIndex=0}return e}function kC(n,e,t){const i=n.toString(),r=i.replace(rT,(l,d)=>{let p=e[d];return e.hasOwnProperty(d)||(t.push(function E1(n){return new c.vHH(3003,Xt)}()),p=""),p.toString()});return r==i?n:r}function RC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sP=/-+([a-z0-9])/g;function sT(n){return n.replace(sP,(...e)=>e[1].toUpperCase())}function oP(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function C1(n){return new c.vHH(3004,Xt)}()}}function px(n,e){return window.getComputedStyle(n)[e]}function hP(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fP(n,e,t){if(":"==n[0]){const _=function pP(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function L1(n){return new c.vHH(3016,Xt)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function F1(n){return new c.vHH(3015,Xt)}()),e;const r=i[1],l=i[2],d=i[3];e.push(mx(r,d));"<"==l[0]&&!("*"==r&&"*"==d)&&e.push(mx(d,r))}(i,t,e)):t.push(n),t}const FC=new Set(["true","1"]),LC=new Set(["false","0"]);function mx(n,e){const t=FC.has(n)||LC.has(n),i=FC.has(e)||LC.has(e);return(r,l)=>{let d="*"==n||n==r,p="*"==e||e==l;return!d&&t&&"boolean"==typeof r&&(d=r?FC.has(n):LC.has(n)),!p&&i&&"boolean"==typeof l&&(p=l?FC.has(e):LC.has(e)),d&&p}}const mP=new RegExp("s*:selfs*,?","g");function oT(n,e,t,i){return new gP(n).build(e,t,i)}class gP{constructor(e){this._driver=e}build(e,t,i){const r=new vP(t);this._resetContextStyleTimingState(r);const l=jo(this,Vb(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function I1(){return new c.vHH(3006,Xt)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,E=_.name;E.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,l.push(this.visitState(_,t))}),_.name=E}else if(1==p.type){const _=this.visitTransition(p,t);i+=_.queryCount,r+=_.depCount,d.push(_)}else t.errors.push(function S1(){return new c.vHH(3007,Xt)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=r||{};i.styles.forEach(p=>{if(VC(p)){const _=p;Object.keys(_).forEach(E=>{fx(_[E]).forEach(S=>{d.hasOwnProperty(S)||l.add(S)})})}}),l.size&&(RC(l.values()),t.errors.push(function T1(n,e){return new c.vHH(3008,Xt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=jo(this,Vb(e.animation),t);return{type:1,matchers:hP(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Hp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>jo(this,i,t)),options:Hp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const l=e.steps.map(d=>{t.currentTime=i;const p=jo(this,d,t);return r=Math.max(r,t.currentTime),p});return t.currentTime=r,{type:3,steps:l,options:Hp(e.options)}}visitAnimate(e,t){const i=function wP(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return aT(xC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=aT(0,0,"");return l.dynamic=!0,l.strValue=t,l}const r=xC(t,e);return aT(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,l=e.styles?e.styles:Qt({});if(5==l.type)r=this.visitKeyframes(l,t);else{let d=e.styles,p=!1;if(!d){p=!0;const E={};i.easing&&(E.easing=i.easing),d=Qt(E)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(d,t);_.isEmptyStep=p,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==nd?i.push(d):t.errors.push(function A1(n){return new c.vHH(3002,Xt)}()):i.push(d)}):i.push(e.styles);let r=!1,l=null;return i.forEach(d=>{if(VC(d)){const p=d,_=p.easing;if(_&&(l=_,delete p.easing),!r)for(let E in p)if(p[E].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete d[p],void t.unsupportedCSSPropertiesFound.add(p);const _=t.collectedStyles[t.currentQuerySelector],E=_[p];let S=!0;E&&(l!=r&&l>=E.startTime&&r<=E.endTime&&(t.errors.push(function M1(n,e,t,i,r){return new c.vHH(3010,Xt)}()),S=!1),l=E.startTime),S&&(_[p]={startTime:l,endTime:r}),t.options&&function rP(n,e,t){const i=e.params||{},r=fx(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||t.push(function w1(n){return new c.vHH(3001,Xt)}())})}(d[p],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function x1(){return new c.vHH(3011,Xt)}()),i;let l=0;const d=[];let p=!1,_=!1,E=0;const S=e.steps.map(ot=>{const _t=this._makeStyleAst(ot,t);let at=null!=_t.offset?_t.offset:function bP(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(VC(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(VC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(_t.styles),nt=0;return null!=at&&(l++,nt=_t.offset=at),_=_||nt<0||nt>1,p=p||nt<E,E=nt,d.push(nt),_t});_&&t.errors.push(function k1(){return new c.vHH(3012,Xt)}()),p&&t.errors.push(function R1(){return new c.vHH(3200,Xt)}());const M=e.steps.length;let F=0;l>0&&l<M?t.errors.push(function O1(){return new c.vHH(3202,Xt)}()):0==l&&(F=1/(M-1));const U=M-1,z=t.currentTime,ie=t.currentAnimateTimings,Te=ie.duration;return S.forEach((ot,_t)=>{const at=F>0?_t==U?1:F*_t:d[_t],nt=at*Te;t.currentTime=z+ie.delay+nt,ie.duration=nt,this._validateStyleAst(ot,t),ot.offset=at,i.styles.push(ot)}),i}visitReference(e,t){return{type:8,animation:jo(this,Vb(e.animation),t),options:Hp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Hp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Hp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function _P(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(mP,"")),n=n.replace(/@\*/g,MC).replace(/@\w+/g,t=>MC+"-"+t.substr(1)).replace(/:animating/g,nT),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,Uo(t.collectedStyles,t.currentQuerySelector,{});const p=jo(this,Vb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:e.selector,options:Hp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function P1(){return new c.vHH(3013,Xt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:xC(e.timings,t.errors,!0);return{type:12,animation:jo(this,Vb(e.animation),t),timings:i,options:null}}}class vP{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function VC(n){return!Array.isArray(n)&&"object"==typeof n}function Hp(n){return n?(n=__(n)).params&&(n.params=function yP(n){return n?__(n):null}(n.params)):n={},n}function aT(n,e,t){return{duration:n,delay:e,easing:t}}function lT(n,e,t,i,r,l,d=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:d,subTimeline:p}}class BC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const DP=new RegExp(":enter","g"),SP=new RegExp(":leave","g");function cT(n,e,t,i,r,l={},d={},p,_,E=[]){return(new TP).buildKeyframes(n,e,t,i,r,l,d,p,_,E)}class TP{buildKeyframes(e,t,i,r,l,d,p,_,E,S=[]){E=E||new BC;const M=new uT(e,t,E,r,l,S,[]);M.options=_,M.currentTimeline.setStyles([d],null,M.errors,_),jo(this,i,M);const F=M.timelines.filter(U=>U.containsAnimation());if(Object.keys(p).length){let U;for(let z=F.length-1;z>=0;z--){const ie=F[z];if(ie.element===t){U=ie;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([p],null,M.errors,_)}return F.length?F.map(U=>U.buildKeyframes()):[lT(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const d=null!=i.duration?Vp(i.duration):null,p=null!=i.delay?Vp(i.delay):null;return 0!==d&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,d,p);l=Math.max(l,E.duration+E.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),jo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const l=e.options;if(l&&(l.params||l.delay)&&(r=t.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=HC);const d=Vp(l.delay);r.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>jo(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Vp(e.options.delay):0;e.steps.forEach(d=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),jo(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return xC(t.params?kC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,l=i.duration,p=t.createSubContext().currentTimeline;p.easing=i.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*l),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(r+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},l=r.delay?Vp(r.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=HC);let d=i;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((E,S)=>{t.currentQueryIndex=S;const M=t.createSubContext(e.options,E);l&&M.delayNextStep(l),E===t.element&&(_=M.currentTimeline),jo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),p=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=p-_;break;case"full":_=i.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const M=S.currentTime;jo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const HC={};class uT{constructor(e,t,i,r,l,d,p,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new UC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Vp(i.duration)),null!=i.delay&&(r.delay=Vp(i.delay));const l=i.params;if(l){let d=r.params;d||(d=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!d.hasOwnProperty(p))&&(d[p]=kC(l[p],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,l=new uT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=HC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},l=new AP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,l,d){let p=[];if(r&&p.push(this.element),e.length>0){e=(e=e.replace(DP,"."+this._enterClassName)).replace(SP,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),p.push(...E)}return!l&&0==p.length&&d.push(function N1(n){return new c.vHH(3014,Xt)}()),p}}class UC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new UC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||nd,this._currentKeyframe[t]=nd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const l=r&&r.params||{},d=function MP(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(l=>{t[l]=nd})):rf(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const _=kC(d[p],l,i);this._pendingStyles[p]=_,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:nd),this._updateStyle(p,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,_)=>{const E=rf(p,!0);Object.keys(E).forEach(S=>{const M=E[S];"!"==M?e.add(S):M==nd&&t.add(S)}),i||(E.offset=_/this.duration),r.push(E)});const l=e.size?RC(e.values()):[],d=t.size?RC(t.values()):[];if(i){const p=r[0],_=__(p);p.offset=0,_.offset=1,r=[p,_]}return lT(this.element,r,l,d,this.duration,this.startTime,this.easing,!1)}}class AP extends UC{constructor(e,t,i,r,l,d,p=!1){super(e,t,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=i+t,p=t/d,_=rf(e[0],!1);_.offset=0,l.push(_);const E=rf(e[0],!1);E.offset=yx(p),l.push(E);const S=e.length-1;for(let M=1;M<=S;M++){let F=rf(e[M],!1);F.offset=yx((t+F.offset*i)/d),l.push(F)}i=d,t=0,r="",e=l}return lT(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function yx(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class dT{}class xP extends dT{normalizePropertyName(e,t){return sT(e)}normalizeStyleValue(e,t,i,r){let l="";const d=i.toString().trim();if(kP[t]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function D1(n,e){return new c.vHH(3005,Xt)}())}return d+l}}const kP=(()=>function RP(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vx(n,e,t,i,r,l,d,p,_,E,S,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:l,toState:i,toStyles:d,timelines:p,queriedElements:_,preStyleProps:E,postStyleProps:S,totalTime:M,errors:F}}const hT={};class bx{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function OP(n,e,t,i,r){return n.some(l=>l(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],l=this._stateStyles[e],d=r?r.buildStyles(t,i):{};return l?l.buildStyles(t,i):d}build(e,t,i,r,l,d,p,_,E,S){const M=[],F=this.ast.options&&this.ast.options.params||hT,z=this.buildStyles(i,p&&p.params||hT,M),ie=_&&_.params||hT,Te=this.buildStyles(r,ie,M),ot=new Set,_t=new Map,at=new Map,nt="void"===r,Pt={params:Object.assign(Object.assign({},F),ie)},Ht=S?[]:cT(e,t,this.ast.animation,l,d,z,Te,Pt,E,M);let _n=0;if(Ht.forEach(ad=>{_n=Math.max(ad.duration+ad.delay,_n)}),M.length)return vx(t,this._triggerName,i,r,nt,z,Te,[],[],_t,at,_n,M);Ht.forEach(ad=>{const ld=ad.element,gO=Uo(_t,ld,{});ad.preStyleProps.forEach($p=>gO[$p]=!0);const nw=Uo(at,ld,{});ad.postStyleProps.forEach($p=>nw[$p]=!0),ld!==t&&ot.add(ld)});const Zr=RC(ot.values());return vx(t,this._triggerName,i,r,nt,z,Te,Ht,Zr,_t,at,_n)}}class PP{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=__(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(r[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(p=>{let _=d[p];_.length>1&&(_=kC(_,r,t));const E=this.normalizer.normalizePropertyName(p,t);_=this.normalizer.normalizeStyleValue(p,E,_,t),i[E]=_})}}),i}}class FP{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new PP(r.style,r.options&&r.options.params||{},i)}),wx(this.states,"true","1"),wx(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new bx(e,r,this.states))}),this.fallbackTransition=function LP(n,e,t){return new bx(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(d=>d.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function wx(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const VP=new BC;class BP{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],l=oT(this._driver,t,i,[]);if(i.length)throw function j1(n){return new c.vHH(3503,Xt)}();this._animations[e]=l}_buildPlayer(e,t,i){const r=e.element,l=JM(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],l=this._animations[e];let d;const p=new Map;if(l?(d=cT(this._driver,t,l,tT,TC,{},{},i,VP,r),d.forEach(S=>{const M=Uo(p,S.element,{});S.postStyleProps.forEach(F=>M[F]=null)})):(r.push(function G1(){return new c.vHH(3300,Xt)}()),d=[]),r.length)throw function z1(n){return new c.vHH(3504,Xt)}();p.forEach((S,M)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(M,F,nd)})});const E=nf(d.map(S=>{const M=p.get(S.element);return this._buildPlayer(S,{},M)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function $1(n){return new c.vHH(3301,Xt)}();return t}listen(e,t,i,r){const l=QS(t,"","","");return KS(this._getPlayer(e),i,l,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Ex="ng-animate-queued",fT="ng-animate-disabled",zP=[],Cx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$P={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class pT{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function KP(n){return null!=n?n:null}(i?e.value:e),i){const l=__(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Bb="void",mT=new pT(Bb);class qP{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Aa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function q1(n,e){return new c.vHH(3302,Xt)}();if(null==i||0==i.length)throw function W1(n){return new c.vHH(3303,Xt)}();if(!function YP(n){return"start"==n||"done"==n}(i))throw function Z1(n,e){return new c.vHH(3400,Xt)}();const l=Uo(this._elementListeners,e,[]),d={name:t,phase:i,callback:r};l.push(d);const p=Uo(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Aa(e,AC),Aa(e,AC+"-"+t),p[t]=mT),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(d);_>=0&&l.splice(_,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function K1(n){return new c.vHH(3401,Xt)}();return t}trigger(e,t,i,r=!0){const l=this._getTrigger(t),d=new gT(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Aa(e,AC),Aa(e,AC+"-"+t),this._engine.statesByElement.set(e,p={}));let _=p[t];const E=new pT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),p[t]=E,_||(_=mT),E.value!==Bb&&_.value===E.value){if(!function JP(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const l=t[r];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,E.params)){const ie=[],Te=l.matchStyles(_.value,_.params,ie),ot=l.matchStyles(E.value,E.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{Bp(e,Te),vc(e,ot)})}return}const F=Uo(this._engine.playersByElement,e,[]);F.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let U=l.matchTransition(_.value,E.value,e,E.params),z=!1;if(!U){if(!r)return;U=l.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:_,toState:E,player:d,isFallbackTransition:z}),z||(Aa(e,Ex),d.onStart(()=>{y_(e,Ex)})),d.onDone(()=>{let ie=this.players.indexOf(d);ie>=0&&this.players.splice(ie,1);const Te=this._engine.playersByElement.get(e);if(Te){let ot=Te.indexOf(d);ot>=0&&Te.splice(ot,1)}}),this.players.push(d),F.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,MC,!0);i.forEach(r=>{if(r[Ta])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(d=>d.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const p=[];if(Object.keys(l).forEach(_=>{if(d.set(_,l[_].value),this._triggers[_]){const E=this.trigger(e,_,Bb,r);E&&p.push(E)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&nf(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(l=>{const d=l.name;if(r.has(d))return;r.add(d);const _=this._triggers[d].fallbackTransition,E=i[d]||mT,S=new pT(Bb),M=new gT(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:E,toState:S,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)r=!0;else{let d=e;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ta];(!l||l===Cx)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Aa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(p=>{if(p.name==i.triggerName){const _=QS(l,i.triggerName,i.fromState.value,i.toState.value);_._data=e,KS(i.player,p.phase,_,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const l=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class WP{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new qP(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,l=i.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const _=r.get(p);if(_){const E=i.indexOf(_);i.splice(E+1,0,e),d=!0;break}p=this.driver.getParentElement(p)}}else for(let p=l;p>=0;p--)if(this.driver.containsElement(i[p].hostElement,t)){i.splice(p+1,0,e),d=!0;break}d||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const d=i[r[l]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&t.add(p)}}}return t}trigger(e,t,i,r){if(jC(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!jC(t))return;const l=t[Ta];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Aa(e,fT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),y_(e,fT))}removeNode(e,t,i,r){if(jC(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,l){this.collectedLeaveElements.push(t),t[Ta]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,r,l){return jC(t)?this._fetchNamespace(e).listen(t,i,r,l):()=>{}}_buildInstruction(e,t,i,r,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,MC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,nT,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return nf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Ta];if(i&&i.setForRemoval){if(e[Ta]=Cx,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(fT))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Aa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?nf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Y1(n){return new c.vHH(3402,Xt)}()}_flushAnimations(e,t){const i=new BC,r=[],l=new Map,d=[],p=new Map,_=new Map,E=new Map,S=new Set;this.disabledNodes.forEach(lt=>{S.add(lt);const Et=this.driver.query(lt,".ng-animate-queued",!0);for(let Mt=0;Mt<Et.length;Mt++)S.add(Et[Mt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),U=Sx(F,this.collectedEnterElements),z=new Map;let ie=0;U.forEach((lt,Et)=>{const Mt=tT+ie++;z.set(Et,Mt),lt.forEach(dn=>Aa(dn,Mt))});const Te=[],ot=new Set,_t=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const Et=this.collectedLeaveElements[lt],Mt=Et[Ta];Mt&&Mt.setForRemoval&&(Te.push(Et),ot.add(Et),Mt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(dn=>ot.add(dn)):_t.add(Et))}const at=new Map,nt=Sx(F,Array.from(ot));nt.forEach((lt,Et)=>{const Mt=TC+ie++;at.set(Et,Mt),lt.forEach(dn=>Aa(dn,Mt))}),e.push(()=>{U.forEach((lt,Et)=>{const Mt=z.get(Et);lt.forEach(dn=>y_(dn,Mt))}),nt.forEach((lt,Et)=>{const Mt=at.get(Et);lt.forEach(dn=>y_(dn,Mt))}),Te.forEach(lt=>{this.processLeaveNode(lt)})});const Pt=[],Ht=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(t).forEach(Mt=>{const dn=Mt.player,Or=Mt.element;if(Pt.push(dn),this.collectedEnterElements.length){const Ts=Or[Ta];if(Ts&&Ts.setForMove){if(Ts.previousTriggersValues&&Ts.previousTriggersValues.has(Mt.triggerName)){const qp=Ts.previousTriggersValues.get(Mt.triggerName),hf=this.statesByElement.get(Mt.element);hf&&hf[Mt.triggerName]&&(hf[Mt.triggerName].value=qp)}return void dn.destroy()}}const Ec=!M||!this.driver.containsElement(M,Or),Go=at.get(Or),df=z.get(Or),hi=this._buildInstruction(Mt,i,df,Go,Ec);if(hi.errors&&hi.errors.length)return void Ht.push(hi);if(Ec)return dn.onStart(()=>Bp(Or,hi.fromStyles)),dn.onDestroy(()=>vc(Or,hi.toStyles)),void r.push(dn);if(Mt.isFallbackTransition)return dn.onStart(()=>Bp(Or,hi.fromStyles)),dn.onDestroy(()=>vc(Or,hi.toStyles)),void r.push(dn);const vO=[];hi.timelines.forEach(Ts=>{Ts.stretchStartingKeyframe=!0,this.disabledNodes.has(Ts.element)||vO.push(Ts)}),hi.timelines=vO,i.append(Or,hi.timelines),d.push({instruction:hi,player:dn,element:Or}),hi.queriedElements.forEach(Ts=>Uo(p,Ts,[]).push(dn)),hi.preStyleProps.forEach((Ts,qp)=>{const hf=Object.keys(Ts);if(hf.length){let Wp=_.get(qp);Wp||_.set(qp,Wp=new Set),hf.forEach(yA=>Wp.add(yA))}}),hi.postStyleProps.forEach((Ts,qp)=>{const hf=Object.keys(Ts);let Wp=E.get(qp);Wp||E.set(qp,Wp=new Set),hf.forEach(yA=>Wp.add(yA))})});if(Ht.length){const lt=[];Ht.forEach(Et=>{lt.push(function Q1(n,e){return new c.vHH(3505,Xt)}())}),Pt.forEach(Et=>Et.destroy()),this.reportError(lt)}const _n=new Map,Zr=new Map;d.forEach(lt=>{const Et=lt.element;i.has(Et)&&(Zr.set(Et,Et),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,_n))}),r.forEach(lt=>{const Et=lt.element;this._getPreviousPlayers(Et,!1,lt.namespaceId,lt.triggerName,null).forEach(dn=>{Uo(_n,Et,[]).push(dn),dn.destroy()})});const ad=Te.filter(lt=>Ax(lt,_,E)),ld=new Map;Ix(ld,this.driver,_t,E,nd).forEach(lt=>{Ax(lt,_,E)&&ad.push(lt)});const nw=new Map;U.forEach((lt,Et)=>{Ix(nw,this.driver,new Set(lt),_,"!")}),ad.forEach(lt=>{const Et=ld.get(lt),Mt=nw.get(lt);ld.set(lt,Object.assign(Object.assign({},Et),Mt))});const $p=[],_O=[],yO={};d.forEach(lt=>{const{element:Et,player:Mt,instruction:dn}=lt;if(i.has(Et)){if(S.has(Et))return Mt.onDestroy(()=>vc(Et,dn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(dn.totalTime),void r.push(Mt);let Or=yO;if(Zr.size>1){let Go=Et;const df=[];for(;Go=Go.parentNode;){const hi=Zr.get(Go);if(hi){Or=hi;break}df.push(Go)}df.forEach(hi=>Zr.set(hi,Or))}const Ec=this._buildAnimation(Mt.namespaceId,dn,_n,l,nw,ld);if(Mt.setRealPlayer(Ec),Or===yO)$p.push(Mt);else{const Go=this.playersByElement.get(Or);Go&&Go.length&&(Mt.parentPlayer=nf(Go)),r.push(Mt)}}else Bp(Et,dn.fromStyles),Mt.onDestroy(()=>vc(Et,dn.toStyles)),_O.push(Mt),S.has(Et)&&r.push(Mt)}),_O.forEach(lt=>{const Et=l.get(lt.element);if(Et&&Et.length){const Mt=nf(Et);lt.setRealPlayer(Mt)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<Te.length;lt++){const Et=Te[lt],Mt=Et[Ta];if(y_(Et,TC),Mt&&Mt.hasAnimation)continue;let dn=[];if(p.size){let Ec=p.get(Et);Ec&&Ec.length&&dn.push(...Ec);let Go=this.driver.query(Et,nT,!0);for(let df=0;df<Go.length;df++){let hi=p.get(Go[df]);hi&&hi.length&&dn.push(...hi)}}const Or=dn.filter(Ec=>!Ec.destroyed);Or.length?QP(this,Et,Or):this.processLeaveNode(Et)}return Te.length=0,$p.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const Et=this.players.indexOf(lt);this.players.splice(Et,1)}),lt.play()}),$p}elementContainsData(e,t){let i=!1;const r=t[Ta];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,l){let d=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(d=p)}else{const p=this.playersByElement.get(e);if(p){const _=!l||l==Bb;p.forEach(E=>{E.queued||!_&&E.triggerName!=r||d.push(E)})}}return(i||r)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(e,t,i){const l=t.element,d=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,S=E!==l,M=Uo(i,E,[]);this._getPreviousPlayers(E,S,d,p,t.toState).forEach(U=>{const z=U.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),U.destroy(),M.push(U)})}Bp(l,t.fromStyles)}_buildAnimation(e,t,i,r,l,d){const p=t.triggerName,_=t.element,E=[],S=new Set,M=new Set,F=t.timelines.map(z=>{const ie=z.element;S.add(ie);const Te=ie[Ta];if(Te&&Te.removedBeforeQueried)return new Lb(z.duration,z.delay);const ot=ie!==_,_t=function XP(n){const e=[];return Tx(n,e),e}((i.get(ie)||zP).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===ie),at=l.get(ie),nt=d.get(ie),Pt=JM(0,this._normalizer,0,z.keyframes,at,nt),Ht=this._buildPlayer(z,Pt,_t);if(z.subTimeline&&r&&M.add(ie),ot){const _n=new gT(e,p,ie);_n.setRealPlayer(Ht),E.push(_n)}return Ht});E.forEach(z=>{Uo(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function ZP(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,z.element,z))}),S.forEach(z=>Aa(z,cx));const U=nf(F);return U.onDestroy(()=>{S.forEach(z=>y_(z,cx)),vc(_,t.toStyles)}),M.forEach(z=>{Uo(r,z,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Lb(e.duration,e.delay)}}class gT{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Lb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>KS(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Uo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jC(n){return n&&1===n.nodeType}function Dx(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Ix(n,e,t,i,r){const l=[];t.forEach(_=>l.push(Dx(_)));const d=[];i.forEach((_,E)=>{const S={};_.forEach(M=>{const F=S[M]=e.computeStyle(E,M,r);(!F||0==F.length)&&(E[Ta]=$P,d.push(E))}),n.set(E,S)});let p=0;return t.forEach(_=>Dx(_,l[p++])),d}function Sx(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=new Set(e),l=new Map;function d(p){if(!p)return 1;let _=l.get(p);if(_)return _;const E=p.parentNode;return _=t.has(E)?E:r.has(E)?1:d(E),l.set(p,_),_}return e.forEach(p=>{const _=d(p);1!==_&&t.get(_).push(p)}),t}function Aa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function y_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function QP(n,e,t){nf(t).onDone(()=>n.processLeaveNode(e))}function Tx(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof QM?Tx(i.players,e):e.push(i)}}function Ax(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(l=>r.add(l)):e.set(n,i),t.delete(n),!0}class GC{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new WP(e,t,i),this._timelineEngine=new BP(e,t,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(e,t,i,r,l){const d=e+"-"+r;let p=this._triggerCache[d];if(!p){const _=[],S=oT(this._driver,l,_,[]);if(_.length)throw function H1(n,e){return new c.vHH(3404,Xt)}();p=function NP(n,e,t){return new FP(n,e,t)}(r,S,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(t,r,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[l,d]=ex(i);this._timelineEngine.command(l,t,d,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,l){if("@"==i.charAt(0)){const[d,p]=ex(i);return this._timelineEngine.listen(d,t,p,l)}return this._transitionEngine.listen(e,t,i,r,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tN=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&vc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vc(this._element,this._initialStyles),this._endStyles&&(vc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bp(this._element,this._endStyles),this._endStyles=null),vc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _T(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];nN(r)&&(e=e||{},e[r]=n[r])}return e}function nN(n){return"display"===n||"position"===n}class Mx{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:px(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class iN{validateStyleProperty(e){return rx(e)}matchesElement(e,t){return!1}containsElement(e,t){return sx(e,t)}getParentElement(e){return JS(e)}query(e,t,i){return ox(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,l,d=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(_.easing=l);const E={},S=d.filter(F=>F instanceof Mx);(function aP(n,e){return 0===n||0===e})(i,r)&&S.forEach(F=>{let U=F.currentSnapshot;Object.keys(U).forEach(z=>E[z]=U[z])}),t=function lP(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let l=e[0],d=[];if(i.forEach(p=>{l.hasOwnProperty(p)||d.push(p),l[p]=t[p]}),d.length)for(var r=1;r<e.length;r++){let p=e[r];d.forEach(function(_){p[_]=px(n,_)})}}return e}(e,t=t.map(F=>rf(F,!1)),E);const M=function eN(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=_T(e[0]),e.length>1&&(i=_T(e[e.length-1]))):e&&(t=_T(e)),t||i?new tN(n,t,i):null}(e,t);return new Mx(e,t,_,M)}}let rN=(()=>{class n extends qM{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?WM(t):t;return xx(this._renderer,null,i,"register",[r]),new sN(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class sN extends class y1{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oN(this._id,e,t||{},this._renderer)}}class oN{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xx(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function xx(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const kx="@.disabled";let aN=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const p=null==d?void 0:d.parentNode(l);p&&d.removeChild(p,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let S=this._rendererCache.get(l);return S||(S=new Rx("",l,this.engine),this._rendererCache.set(l,S)),S}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(d,p,t,S.name,S)};return i.data.animation.forEach(_),new lN(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,p]=l;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(GC),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Rx{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==kx?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lN extends Rx{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kx?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function cN(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function uN(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,r,l,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(e,t,i)}}let dN=(()=>{class n extends GC{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(eT),c.LFG(dT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const id=new c.OlP("AnimationModuleType"),Ox=[{provide:qM,useClass:rN},{provide:dT,useFactory:function hN(){return new xP}},{provide:GC,useClass:dN},{provide:c.FYo,useFactory:function fN(n,e,t){return new aN(n,e,t)},deps:[En,GC,c.R0b]}],Px=[{provide:eT,useFactory:()=>new iN},{provide:id,useValue:"BrowserAnimations"},...Ox],pN=[{provide:eT,useClass:ax},{provide:id,useValue:"NoopAnimations"},...Ox];let mN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pN:Px}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Px,imports:[Yo]}),n})();function gN(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function _N(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const yN=["*"];let vN=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),bN=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const EN=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function wN(){return!0}});let ei=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!US()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($M),c.LFG(EN,8),c.LFG(J))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ob],Ob]}),n})();function Hb(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=An(e)}}}function $C(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Fx(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=An(e)}}}function CN(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Sa(t):this.defaultTabIndex}}}function Lx(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new an.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}function Vx(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new sn.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let yT=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IN{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Bx={enterDuration:225,exitDuration:150},vT=Nb({passive:!0}),Hx=["mousedown","touchstart"],Ux=["mouseup","mouseleave","touchend","touchcancel"];class TN{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=td(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},Bx),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const d=i.radius||function MN(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),p=e-r.left,_=t-r.top,E=l.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=p-d+"px",S.style.top=_-d+"px",S.style.height=2*d+"px",S.style.width=2*d+"px",null!=i.color&&(S.style.backgroundColor=i.color),S.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(S),function AN(n){window.getComputedStyle(n).getPropertyValue("opacity")}(S),S.style.transform="scale(1)";const M=new IN(this,S,i);return M.state=0,this._activeRipples.add(M),i.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const F=M===this._mostRecentTransientRipple;M.state=1,!i.persistent&&(!F||!this._isPointerDown)&&M.fadeOut()},E),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},Bx),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=td(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Hx))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ux),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=HM(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!UM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,vT)})})}_removeTriggerEvents(){this._triggerElement&&(Hx.forEach(e=>{this._triggerElement.removeEventListener(e,this,vT)}),this._pointerUpEventsRegistered&&Ux.forEach(e=>{this._triggerElement.removeEventListener(e,this,vT)}))}}const xN=new c.OlP("mat-ripple-global-options");let bT=(()=>{class n{constructor(t,i,r,l,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new TN(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(qr),c.Y36(xN,8),c.Y36(id,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ei],ei]}),n})(),kN=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(id,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ei]]}),n})();const Gx=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),zx=new c.OlP("MatOptgroup");let ON=0;class PN{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let NN=(()=>{class n{constructor(t,i,r,l){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ON++,this.onSelectionChange=new c.vpe,this._stateChanges=new an.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=An(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!m_(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new PN(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),$x=(()=>{class n extends NN{constructor(t,i,r,l){super(t,i,r,l)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Gx,8),c.Y36(zx,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(l){return i._handleKeydown(l)}),2&t&&(c.Ikx("id",i.id),c.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),c.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:yN,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,gN,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,_N,2,1,"span",2),c._UZ(4,"div",3)),2&t&&(c.Q6J("ngIf",i.multiple),c.xp6(3),c.Q6J("ngIf",i.group&&i.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[kN,_i,bT],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function qx(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),l=0;for(let d=0;d<n+1;d++)i[d].group&&i[d].group===r[l]&&l++;return l}return 0}let Wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jx,zi,ei,RN]]}),n})();var wT=O(5577),LN=O(1144);const{isArray:VN}=Array;function ET(n){return(0,Jt.U)(e=>function BN(n,e){return VN(e)?n(...e):n(e)}(n,e))}const HN=["addListener","removeListener"],UN=["addEventListener","removeEventListener"],jN=["on","off"];function qC(n,e,t,i){if((0,Ho.m)(t)&&(i=t,t=void 0),i)return qC(n,e,t).pipe(ET(i));const[r,l]=function $N(n){return(0,Ho.m)(n.addEventListener)&&(0,Ho.m)(n.removeEventListener)}(n)?UN.map(d=>p=>n[d](e,p,t)):function GN(n){return(0,Ho.m)(n.addListener)&&(0,Ho.m)(n.removeListener)}(n)?HN.map(Zx(n,e)):function zN(n){return(0,Ho.m)(n.on)&&(0,Ho.m)(n.off)}(n)?jN.map(Zx(n,e)):[];if(!r&&(0,LN.z)(n))return(0,wT.z)(d=>qC(d,e,t))((0,Ju.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new sn.y(d=>{const p=(..._)=>d.next(1<_.length?_:_[0]);return r(p),()=>l(p)})}function Zx(n,e){return t=>i=>n[t](e,i)}const qN=["connectionContainer"],WN=["inputContainer"],ZN=["label"];function KN(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function YN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function QN(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function XN(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function JN(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function eF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,QN,4,1,"ng-container",12),c.YNc(3,XN,1,0,"ng-content",12),c.YNc(4,JN,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function tF(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function nF(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function iF(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function rF(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function sF(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,rF,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const oF=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],aF=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],lF=new c.OlP("MatError"),cF={transitionMessages:sl("transitionMessages",[or("enter",Qt({opacity:1,transform:"translateY(0%)"})),Rr("void => enter",[Qt({opacity:0,transform:"translateY(-5px)"}),ss("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let WC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const uF=new c.OlP("MatHint");let CT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),dF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const hF=new c.OlP("MatPrefix"),fF=new c.OlP("MatSuffix");let Kx=0;const mF=$C(class{constructor(n){this._elementRef=n}},"primary"),Qx=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),DT=new c.OlP("MatFormField");let Xx=(()=>{class n extends mF{constructor(t,i,r,l,d,p,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=d,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new an.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Kx++,this._labelId="mat-form-field-label-"+Kx++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=An(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ii(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Fn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Fn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ea.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ii(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ii(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Fn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,qC(this._label.nativeElement,"transitionend").pipe((0,Da.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const S=i.querySelectorAll(`${r}, ${l}`);for(let M=0;M<S.length;M++)S[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,p=0;const _=i.querySelectorAll(r),E=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const S=i.getBoundingClientRect();if(0===S.width&&0===S.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(S),F=t.children,U=this._getStartEnd(F[0].getBoundingClientRect());let z=0;for(let ie=0;ie<F.length;ie++)z+=F[ie].offsetWidth;d=Math.abs(U-M)-5,p=z>0?.75*z+10:0}for(let S=0;S<_.length;S++)_[S].style.width=`${d}px`;for(let S=0;S<E.length;S++)E[S].style.width=`${p}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(f_,8),c.Y36(Qx,8),c.Y36(qr),c.Y36(c.R0b),c.Y36(id,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,WC,5),c.Suo(r,WC,7),c.Suo(r,CT,5),c.Suo(r,CT,7),c.Suo(r,dF,5),c.Suo(r,lF,5),c.Suo(r,uF,5),c.Suo(r,hF,5),c.Suo(r,fF,5)),2&t){let l;c.iGM(l=c.CRH())&&(i._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(i._controlStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(i._placeholderChild=l.first),c.iGM(l=c.CRH())&&(i._errorChildren=l),c.iGM(l=c.CRH())&&(i._hintChildren=l),c.iGM(l=c.CRH())&&(i._prefixChildren=l),c.iGM(l=c.CRH())&&(i._suffixChildren=l)}},viewQuery:function(t,i){if(1&t&&(c.Gf(qN,7),c.Gf(WN,5),c.Gf(ZN,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:DT,useExisting:n}]),c.qOj],ngContentSelectors:aF,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(oF),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),c.YNc(3,KN,9,0,"ng-container",3),c.YNc(4,YN,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,eF,5,16,"label",8),c.qZA()(),c.YNc(10,tF,2,0,"div",9),c.qZA(),c.YNc(11,nF,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,iF,2,1,"div",12),c.YNc(14,sF,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[_i,OO,Gi,ki],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[cF.transitionMessages]},changeDetection:0}),n})(),ZC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[zi,ei,CM],ei]}),n})();const{isArray:gF}=Array,{getPrototypeOf:_F,prototype:yF,keys:vF}=Object;function Jx(n){if(1===n.length){const e=n[0];if(gF(e))return{args:e,keys:null};if(function bF(n){return n&&"object"==typeof n&&_F(n)===yF}(e)){const t=vF(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function ek(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function tk(...n){const e=(0,Wi.jO)(n),{args:t,keys:i}=Jx(n),r=new sn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const p=new Array(d);let _=d,E=d;for(let S=0;S<d;S++){let M=!1;(0,Ju.Xf)(t[S]).subscribe((0,Qn.x)(l,F=>{M||(M=!0,E--),p[S]=F},()=>_--,void 0,()=>{(!_||!M)&&(E||l.next(i?ek(i,p):p),l.complete())}))}});return e?r.pipe(ET(e)):r}function sf(n){return null==n||0===n.length}function rk(n){return null!=n&&"number"==typeof n.length}const os=new c.OlP("NgValidators"),af=new c.OlP("NgAsyncValidators"),IF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sk{static min(e){return function ok(n){return e=>{if(sf(e.value)||sf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ak(n){return e=>{if(sf(e.value)||sf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function lk(n){return sf(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function ck(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function uk(n){return sf(n.value)||IF.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dk(n){return e=>sf(e.value)||!rk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hk(n){return e=>rk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function fk(n){if(!n)return KC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(sf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return vk(e)}static composeAsync(e){return bk(e)}}function KC(n){return null}function pk(n){return null!=n}function mk(n){const e=(0,c.QGY)(n)?(0,qi.D)(n):n;return(0,c.CqO)(e),e}function gk(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _k(n,e){return e.map(t=>t(n))}function yk(n){return n.map(e=>function SF(n){return!n.validate}(e)?e:t=>e.validate(t))}function vk(n){if(!n)return null;const e=n.filter(pk);return 0==e.length?null:function(t){return gk(_k(t,e))}}function ST(n){return null!=n?vk(yk(n)):null}function bk(n){if(!n)return null;const e=n.filter(pk);return 0==e.length?null:function(t){return tk(_k(t,e).map(mk)).pipe((0,Jt.U)(gk))}}function TT(n){return null!=n?bk(yk(n)):null}function wk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ek(n){return n._rawValidators}function Ck(n){return n._rawAsyncValidators}function AT(n){return n?Array.isArray(n)?n:[n]:[]}function YC(n,e){return Array.isArray(n)?n.includes(e):n===e}function Dk(n,e){const t=AT(e);return AT(n).forEach(r=>{YC(t,r)||t.push(r)}),t}function Ik(n,e){return AT(e).filter(t=>!YC(n,t))}class Sk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ST(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wc extends Sk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ss extends Sk{get formDirective(){return null}get path(){return null}}function jb(n,e){kT(n,e),e.valueAccessor.writeValue(n.value),function FF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Mk(n,e)})}(n,e),function VF(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function LF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Mk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function NF(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function JC(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),tD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kT(n,e){const t=Ek(n);null!==e.validator?n.setValidators(wk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Ck(n);null!==e.asyncValidator?n.setAsyncValidators(wk(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();eD(e._rawValidators,r),eD(e._rawAsyncValidators,r)}function tD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Ek(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==e.validator);l.length!==r.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const r=Ck(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==e.asyncValidator);l.length!==r.length&&(t=!0,n.setAsyncValidators(l))}}}const i=()=>{};return eD(e._rawValidators,i),eD(e._rawAsyncValidators,i),t}function Mk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xk(n,e){kT(n,e)}function Rk(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function PT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Gb="VALID",nD="INVALID",v_="PENDING",zb="DISABLED";function FT(n){return(iD(n)?n.validators:n)||null}function Ok(n){return Array.isArray(n)?ST(n):n||null}function LT(n,e){return(iD(e)?e.asyncValidators:n)||null}function Pk(n){return Array.isArray(n)?TT(n):n||null}function iD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Nk=n=>n instanceof Bk,VT=n=>n instanceof HT;function Fk(n){return Nk(n)?n.value:n.getRawValue()}function Lk(n,e){const t=VT(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function Vk(n,e){VT(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class BT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ok(this._rawValidators),this._composedAsyncValidatorFn=Pk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gb}get invalid(){return this.status===nD}get pending(){return this.status==v_}get disabled(){return this.status===zb}get enabled(){return this.status!==zb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ok(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Pk(e)}addValidators(e){this.setValidators(Dk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Dk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ik(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ik(e,this._rawAsyncValidators))}hasValidator(e){return YC(this._rawValidators,e)}hasAsyncValidator(e){return YC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=v_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zb,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gb,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gb||this.status===v_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zb:Gb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=v_,this._hasOwnPendingAsyncValidator=!0;const t=mk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function jF(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=VT(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof zF)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?zb:this.errors?nD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(v_)?v_:this._anyControlsHaveStatus(nD)?nD:Gb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Bk extends BT{constructor(e=null,t,i){super(FT(t),LT(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class HT extends BT{constructor(e,t,i){super(FT(t),LT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Vk(this,e),Object.keys(e).forEach(i=>{Lk(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=Fk(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,l)=>{i=t(i,r,l)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class zF extends BT{constructor(e,t,i){super(FT(t),LT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Vk(this,e),e.forEach((i,r)=>{Lk(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Fk(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const $F={provide:Ss,useExisting:(0,c.Gpc)(()=>qb)},$b=(()=>Promise.resolve(null))();let qb=(()=>{class n extends Ss{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new HT({},ST(t),TT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$b.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),jb(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$b.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$b.then(()=>{const i=this._findContainer(t.path),r=new HT({});xk(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$b.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){$b.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Rk(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(os,10),c.Y36(af,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([$F]),c.qOj]}),n})();const tL={provide:Ss,useExisting:(0,c.Gpc)(()=>Wb)};let Wb=(()=>{class n extends Ss{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return jb(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){JC(t.control||null,t,!1),PT(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Rk(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(JC(i||null,t),Nk(r)&&(jb(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);xk(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function BF(n,e){return tD(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kT(this.form,this),this._oldForm&&tD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(os,10),c.Y36(af,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([tL]),c.qOj,c.TTD]}),n})();var bL=O(515);const lR=Nb({passive:!0});let wL=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return bL.E;const i=td(t),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new an.x,d="cdk-text-field-autofilled",p=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",p,lR),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",p,lR)}}),l}stopMonitoring(t){const i=td(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const EL=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),CL=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let DL=0;const IL=Lx(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let SL=(()=>{class n extends IL{constructor(t,i,r,l,d,p,_,E,S,M){super(p,l,d,r),this._elementRef=t,this._platform=i,this._autofillMonitor=E,this._formField=M,this._uid="mat-input-"+DL++,this.focused=!1,this.stateChanges=new an.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>SM().has(z)),this._iOSKeyupListener=z=>{const ie=z.target;!ie.value&&0===ie.selectionStart&&0===ie.selectionEnd&&(ie.setSelectionRange(1,1),ie.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,U=F.nodeName.toLowerCase();this._inputValueAccessor=_||F,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&S.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=An(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(sk.required))&&void 0!==l&&l}set required(t){this._required=An(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&SM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=An(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=r,r?l.setAttribute("placeholder",r):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){CL.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(qr),c.Y36(wc,10),c.Y36(qb,8),c.Y36(Wb,8),c.Y36(yT),c.Y36(EL,10),c.Y36(wL),c.Y36(c.R0b),c.Y36(DT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:WC,useExisting:n}]),c.qOj,c.TTD]}),n})(),TL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yT],imports:[[cR,ZC,ei],cR,ZC]}),n})();const AL=["mat-button",""],ML=["*"],kL=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],RL=$C(Hb(Fx(class{constructor(n){this._elementRef=n}})));let qT=(()=>{class n extends RL{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of kL)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36($S),c.Y36(id,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(bT,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:AL,ngContentSelectors:ML,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[bT],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),uR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jx,ei],ei]}),n})();function dR(n){return(0,Zi.e)((e,t)=>{let l,i=null,r=!1;i=e.subscribe((0,Qn.x)(t,void 0,void 0,d=>{l=(0,Ju.Xf)(n(d,dR(n)(e))),i?(i.unsubscribe(),i=null,l.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(t))})}class FL{}class lf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),l=r.toLowerCase(),d=t.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof lf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new lf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof lf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(p=>-1===l.indexOf(p)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class LL{encodeKey(e){return hR(e)}encodeValue(e){return hR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const BL=/%(\d[a-f0-9])/gi,HL={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function hR(n){return encodeURIComponent(n).replace(BL,(e,t)=>{var i;return null!==(i=HL[t])&&void 0!==i?i:e})}function fR(n){return`${n}`}class cf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new LL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[d,p]=-1==l?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,l)),e.decodeValue(r.slice(l+1))],_=t.get(d)||[];_.push(p),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(l=>{t.push({param:i,value:l,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new cf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fR(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(fR(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class UL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pR(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function mR(n){return"undefined"!=typeof Blob&&n instanceof Blob}function gR(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Zb{constructor(e,t,i,r){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function jL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new lf),this.context||(this.context=new UL),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+d}}else this.params=new cf,this.urlWithParams=t}serializeBody(){return null===this.body?null:pR(this.body)||mR(this.body)||gR(this.body)||function GL(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gR(this.body)?null:mR(this.body)?this.body.type||null:pR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,l=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,S=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((F,U)=>F.set(U,e.setHeaders[U]),E)),e.setParams&&(S=Object.keys(e.setParams).reduce((F,U)=>F.set(U,e.setParams[U]),S)),new Zb(i,r,d,{params:S,headers:E,context:M,reportProgress:_,responseType:l,withCredentials:p})}}var Wr=(()=>((Wr=Wr||{})[Wr.Sent=0]="Sent",Wr[Wr.UploadProgress=1]="UploadProgress",Wr[Wr.ResponseHeader=2]="ResponseHeader",Wr[Wr.DownloadProgress=3]="DownloadProgress",Wr[Wr.Response=4]="Response",Wr[Wr.User=5]="User",Wr))();class WT extends class zL{constructor(e,t=200,i="OK"){this.headers=e.headers||new lf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Wr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new WT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function ZT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yR=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let l;if(t instanceof Zb)l=t;else{let _,E;_=r.headers instanceof lf?r.headers:new lf(r.headers),r.params&&(E=r.params instanceof cf?r.params:new cf({fromObject:r.params})),l=new Zb(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Yn(l).pipe(function NL(n,e){return(0,Ho.m)(e)?(0,wT.z)(n,e,1):(0,wT.z)(n,1)}(_=>this.handler.handle(_)));if(t instanceof Zb||"events"===r.observe)return d;const p=d.pipe(ri(_=>_ instanceof WT));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,Jt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,Jt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,Jt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,Jt.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new cf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,ZT(r,i))}post(t,i,r={}){return this.request("POST",t,ZT(r,i))}put(t,i,r={}){return this.request("PUT",t,ZT(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(FL))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const qL=["*"];let rD;function Kb(n){var e;return(null===(e=function WL(){if(void 0===rD&&(rD=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(rD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return rD}())||void 0===e?void 0:e.createHTML(n))||n}function vR(n){return Error(`Unable to find icon with the name "${n}"`)}function bR(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function wR(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Gp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let sD=(()=>{class n{constructor(t,i,r,l){this._httpClient=t,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,l){return this._addSvgIconConfig(t,i,new Gp(r,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,l){const d=this._sanitizer.sanitize(c.q3G.HTML,r);if(!d)throw wR(r);const p=Kb(d);return this._addSvgIconConfig(t,i,new Gp("",p,l))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Gp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const l=this._sanitizer.sanitize(c.q3G.HTML,i);if(!l)throw wR(i);const d=Kb(l);return this._addSvgIconSetConfig(t,new Gp("",d,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw bR(t);const r=this._cachedIconsByUrl.get(i);return r?Yn(oD(r)):this._loadSvgIconFromConfig(new Gp(t,null)).pipe((0,EC.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,Jt.U)(l=>oD(l)))}getNamedSvgIcon(t,i=""){const r=ER(i,t);let l=this._svgIconConfigs.get(r);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,t),l)return this._svgIconConfigs.set(r,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(t,d):function OL(n,e){const t=(0,Ho.m)(n)?n:()=>n,i=r=>r.error(t());return new sn.y(e?r=>e.schedule(i,0,r):i)}(vR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Yn(oD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Jt.U)(i=>oD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Yn(r):tk(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(dR(p=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,d.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(E)),Yn(null)})))).pipe((0,Jt.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,i);if(!d)throw vR(t);return d}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const l=i[r];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(l),p=this._extractSvgIconFromSet(d,t,l.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,EC.b)(i=>t.svgText=i),(0,Jt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Yn(null):this._fetchIcon(t).pipe((0,EC.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const l=t.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const p=this._svgElementFromString(Kb("<svg></svg>"));return p.appendChild(d),this._setSvgAttributes(p,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Kb("<svg></svg>")),r=t.attributes;for(let l=0;l<r.length;l++){const{name:d,value:p}=r[l];"id"!==d&&i.setAttribute(d,p)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:l}=t,d=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function ZL(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const p=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!p)throw bR(r);const _=this._inProgressUrlFetches.get(p);if(_)return _;const E=this._httpClient.get(p,{responseType:"text",withCredentials:d}).pipe((0,Jt.U)(S=>Kb(S)),function PL(n){return(0,Zi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(p)),(0,GE.B)());return this._inProgressUrlFetches.set(p,E),E}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(ER(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const l=this._resolvers[r](i,t);if(l)return YL(l)?new Gp(l.url,null,l.options):new Gp(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yR,8),c.LFG(Xr),c.LFG(J,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oD(n){return n.cloneNode(!0)}function ER(n,e){return n+":"+e}function YL(n){return!(!n.url||!n.options)}const QL=$C(class{constructor(n){this._elementRef=n}}),XL=new c.OlP("mat-icon-location",{providedIn:"root",factory:function JL(){const n=(0,c.f3M)(J),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),CR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eV=CR.map(n=>`[${n}]`).join(", "),tV=/^url\(['"]?#(.*?)['"]?\)$/;let DR=(()=>{class n extends QL{constructor(t,i,r,l,d){super(t),this._iconRegistry=i,this._location=l,this._errorHandler=d,this._inline=!1,this._currentIconFetch=yc.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=An(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,l)=>{r.forEach(d=>{l.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(eV),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)CR.forEach(d=>{const p=i[l],_=p.getAttribute(d),E=_?_.match(tV):null;if(E){let S=r.get(p);S||(S=[],r.set(p,S)),S.push({name:d,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Da.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(sD),c.$8M("aria-hidden"),c.Y36(XL),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:qL,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),nV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ei],ei]}),n})(),iV=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=An(t)}get inset(){return this._inset}set inset(t){this._inset=An(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),c.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ei],ei]}),n})();var IR=O(4408);const Yb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Yb;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(l=>{t=void 0,n(l)});return new yc.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Yb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Yb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var SR=O(7565);new class oV extends SR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class sV extends IR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Yb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Yb.cancelAnimationFrame(t),e._scheduled=void 0)}});let KT,lV=1;const aD={};function TR(n){return n in aD&&(delete aD[n],!0)}const cV={setImmediate(n){const e=lV++;return aD[e]=!0,KT||(KT=Promise.resolve()),KT.then(()=>TR(e)&&n()),e},clearImmediate(n){TR(n)}},{setImmediate:uV,clearImmediate:dV}=cV,lD={setImmediate(...n){const{delegate:e}=lD;return((null==e?void 0:e.setImmediate)||uV)(...n)},clearImmediate(n){const{delegate:e}=lD;return((null==e?void 0:e.clearImmediate)||dV)(n)},delegate:void 0};new class fV extends SR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class hV extends IR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=lD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(lD.clearImmediate(t),e._scheduled=void 0)}});var gV=O(3532);function AR(n,e=Id.z){return function mV(n){return(0,Zi.e)((e,t)=>{let i=!1,r=null,l=null,d=!1;const p=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const E=r;r=null,t.next(E)}d&&t.complete()},_=()=>{l=null,d&&t.complete()};e.subscribe((0,Qn.x)(t,E=>{i=!0,r=E,l||(0,Ju.Xf)(n(E)).subscribe(l=(0,Qn.x)(t,p,_))},()=>{d=!0,(!i||!l||l.closed)&&t.complete()}))})}(()=>function yV(n=0,e,t=Id.P){let i=-1;return null!=e&&((0,gV.K)(e)?t=e:i=e),new sn.y(r=>{let l=function _V(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},l)})}(n,e))}let MR=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new an.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new sn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(AR(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Yn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ri(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,t)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=td(i),l=t.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(qr),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qb=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new an.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,l=r.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(AR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qr),c.LFG(c.R0b),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),YT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ob,b_],Ob,b_]}),n})();function wV(n,e){if(1&n&&(c.O4$(),c._UZ(0,"circle",4)),2&n){const t=c.oxw(),i=c.MAs(1);c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),c.uIk("r",t._getCircleRadius())}}function EV(n,e){if(1&n&&(c.O4$(),c._UZ(0,"circle",4)),2&n){const t=c.oxw(),i=c.MAs(1);c.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),c.uIk("r",t._getCircleRadius())}}const DV=$C(class{constructor(n){this._elementRef=n}},"primary"),IV=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function SV(){return{diameter:100}}});class rd extends DV{constructor(e,t,i,r,l,d,p,_){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=yc.w0.EMPTY,this.mode="determinate";const E=rd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),E.has(i.head)||E.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!l&&!l._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth)),t.isBrowser&&t.SAFARI&&p&&d&&_&&(this._resizeSubscription=p.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>d.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=Sa(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Sa(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Sa(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=TM(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const i=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${i}% ${i}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=rd._diameters;let r=i.get(e);if(!r||!r.has(t)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),e.appendChild(l),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}rd._diameters=new WeakMap,rd.\u0275fac=function(e){return new(e||rd)(c.Y36(c.SBq),c.Y36(qr),c.Y36(J,8),c.Y36(id,8),c.Y36(IV),c.Y36(c.sBO),c.Y36(Qb),c.Y36(c.R0b))},rd.\u0275cmp=c.Xpm({type:rd,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(c.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),c.Udp("width",t.diameter,"px")("height",t.diameter,"px"),c.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(c.O4$(),c.TgZ(0,"svg",0,1),c.YNc(2,wV,1,11,"circle",2),c.YNc(3,EV,1,9,"circle",3),c.qZA()),2&e&&(c.Udp("width",t.diameter,"px")("height",t.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===t.mode),c.uIk("viewBox",t._getViewBox()),c.xp6(2),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},directives:[Gi,ki],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let AV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ei,zi],ei]}),n})();class XT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class xR extends XT{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class kR extends XT{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class MV extends XT{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class kV extends class xV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof xR?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof kR?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof MV?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const p=d.element,_=this._document.createComment("dom-portal");p.parentNode.insertBefore(_,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(p,_)})},this._document=l}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const RR=BO();class PV{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=sr(-this._previousScrollPosition.left),e.style.top=sr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,l=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),RR&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RR&&(i.scrollBehavior=l,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class NV{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class OR{enable(){}disable(){}attach(){}}function JT(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function PR(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class FV{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();JT(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let LV=(()=>{class n{constructor(t,i,r,l){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new OR,this.close=d=>new NV(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new PV(this._viewportRuler,this._document),this.reposition=d=>new FV(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(MR),c.LFG(Qb),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NR{constructor(e){if(this.scrollStrategy=new OR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class VV{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class BV{constructor(e,t,i,r,l,d,p,_,E){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=d,this._document=p,this._location=_,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new an.x,this._attachments=new an.x,this._detachments=new an.x,this._locationChanges=yc.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new an.x,this._outsidePointerEvents=new an.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Da.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=sr(this._config.width),e.height=sr(this._config.height),e.minWidth=sr(this._config.minWidth),e.minHeight=sr(this._config.minHeight),e.maxWidth=sr(this._config.maxWidth),e.maxHeight=sr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=yC(t||[]).filter(l=>!!l);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Fn((0,Ea.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let FR=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||US()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(t),US()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(qr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LR="cdk-overlay-connected-position-bounding-box",HV=/([A-Za-z%]+)$/;class UV{constructor(e,t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new an.x,this._resizeSubscription=yc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(LR),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let d;for(let p of this._preferredPositions){let _=this._getOriginPoint(e,r,p),E=this._getOverlayPoint(_,t,p),S=this._getOverlayFit(E,t,i,p);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,_);this._canFitWithFlexibleDimensions(S,E,i)?l.push({position:p,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,p)}):(!d||d.overlayFit.visibleArea<S.visibleArea)&&(d={overlayFit:S,overlayPoint:E,originPoint:_,position:p,overlayRect:t})}if(l.length){let p=null,_=-1;for(const E of l){const S=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);S>_&&(_=S,p=E)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,l;if("center"==i.originX)r=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,p=this._isRtl()?e.left:e.right;r="start"==i.originX?d:p}return t.left<0&&(r-=t.left),l="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(l-=t.top),{x:r,y:l}}_getOverlayPoint(e,t,i){let r,l;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+l}}_getOverlayFit(e,t,i,r){const l=BR(t);let{x:d,y:p}=e,_=this._getOffset(r,"x"),E=this._getOffset(r,"y");_&&(d+=_),E&&(p+=E);let F=0-p,U=p+l.height-i.height,z=this._subtractOverflows(l.width,0-d,d+l.width-i.width),ie=this._subtractOverflows(l.height,F,U),Te=z*ie;return{visibleArea:Te,isCompletelyWithinViewport:l.width*l.height===Te,fitsInViewportVertically:ie===l.height,fitsInViewportHorizontally:z==l.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,l=i.right-t.x,d=VR(this._overlayRef.getConfig().minHeight),p=VR(this._overlayRef.getConfig().minWidth),E=e.fitsInViewportHorizontally||null!=p&&p<=l;return(e.fitsInViewportVertically||null!=d&&d<=r)&&E}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=BR(t),l=this._viewportRect,d=Math.max(e.x+r.width-l.width,0),p=Math.max(e.y+r.height-l.height,0),_=Math.max(l.top-i.top-e.y,0),E=Math.max(l.left-i.left-e.x,0);let S=0,M=0;return S=r.width<=l.width?E||-d:e.x<this._viewportMargin?l.left-i.left-e.x:0,M=r.height<=l.height?_||-p:e.y<this._viewportMargin?l.top-i.top-e.y:0,this._previousPushAmount={x:S,y:M},{x:e.x+S,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new VV(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let l,d,p,S,M,F;if("top"===t.overlayY)d=e.y,l=i.height-d+this._viewportMargin;else if("bottom"===t.overlayY)p=i.height-e.y+2*this._viewportMargin,l=i.height-p+this._viewportMargin;else{const U=Math.min(i.bottom-e.y+i.top,e.y),z=this._lastBoundingBoxSize.height;l=2*U,d=e.y-U,l>z&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-z/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)F=i.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,S=i.right-e.x;else{const U=Math.min(i.right-e.x+i.left,e.x),z=this._lastBoundingBoxSize.width;S=2*U,M=e.x-U,S>z&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-z/2)}return{top:d,left:M,bottom:p,right:F,width:S,height:l}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=sr(i.height),r.top=sr(i.top),r.bottom=sr(i.bottom),r.width=sr(i.width),r.left=sr(i.left),r.right=sr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=sr(l)),d&&(r.maxWidth=sr(d))}this._lastBoundingBoxSize=i,zp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){zp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const S=this._viewportRuler.getViewportScrollPosition();zp(i,this._getExactOverlayY(t,e,S)),zp(i,this._getExactOverlayX(t,e,S))}else i.position="static";let p="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(p+=`translateX(${_}px) `),E&&(p+=`translateY(${E}px)`),i.transform=p.trim(),d.maxHeight&&(r?i.maxHeight=sr(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=sr(d.maxWidth):l&&(i.maxWidth="")),zp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=sr(l.y),r}_getExactOverlayX(e,t,i){let d,r={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=sr(l.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:PR(e,i),isOriginOutsideView:JT(e,i),isOverlayClipped:PR(t,i),isOverlayOutsideView:JT(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&yC(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function zp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function VR(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(HV);return t&&"px"!==t?null:parseFloat(e)}return n||null}function BR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const HR="cdk-global-overlay-wrapper";class jV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(HR),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:d,maxHeight:p}=i,_=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),E=!("100%"!==l&&"100vh"!==l||p&&"100%"!==p&&"100vh"!==p);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(HR),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let GV=(()=>{class n{constructor(t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new jV}flexibleConnectedTo(t){return new UV(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qb),c.LFG(J),c.LFG(qr),c.LFG(FR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UR=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zV=(()=>{class n extends UR{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const p=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$V=(()=>{class n extends UR{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Fp(l)},this._clickListener=l=>{const d=Fp(l),p="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const S=_[E];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(d)||S.overlayElement.contains(p))break;const M=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(l)):M.next(l)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(qr),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qV=0,w_=(()=>{class n{constructor(t,i,r,l,d,p,_,E,S,M,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=p,this._ngZone=_,this._document=E,this._directionality=S,this._location=M,this._outsideClickDispatcher=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),d=new NR(t);return d.direction=d.direction||this._directionality.value,new BV(l,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+qV++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new kV(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(LV),c.LFG(FR),c.LFG(c._Vd),c.LFG(GV),c.LFG(zV),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(J),c.LFG(f_),c.LFG(ve),c.LFG($V))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const WV=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],jR=new c.OlP("cdk-connected-overlay-scroll-strategy");let GR=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),zR=(()=>{class n{constructor(t,i,r,l,d){this._overlay=t,this._dir=d,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=yc.w0.EMPTY,this._attachSubscription=yc.w0.EMPTY,this._detachSubscription=yc.w0.EMPTY,this._positionSubscription=yc.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new kR(i,r),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=An(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=An(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=An(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=An(t)}get push(){return this._push}set push(t){this._push=An(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=WV);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!m_(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new NR({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof GR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function OV(n,e=!1){return(0,Zi.e)((t,i)=>{let r=0;t.subscribe((0,Qn.x)(i,l=>{const d=n(l,r++);(d||e)&&i.next(l),!d&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(w_),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(jR),c.Y36(f_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const KV={provide:jR,deps:[w_],useFactory:function ZV(n){return()=>n.scrollStrategies.reposition()}};let $R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[w_,KV],imports:[[Ob,RV,YT],YT]}),n})();function eA(n){return n&&"function"==typeof n.connect}class qR{applyChanges(e,t,i,r,l){e.forEachOperation((d,p,_)=>{let E,S;if(null==d.previousIndex){const M=i(d,p,_);E=t.createEmbeddedView(M.templateRef,M.context,M.index),S=1}else null==_?(t.remove(p),S=3):(E=t.get(p),t.move(E,_),S=2);l&&l({context:null==E?void 0:E.context,operation:S,record:d})})}detach(){}}class QV{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new an.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Xb=new c.OlP("_ViewRepeater"),JV=["trigger"],eB=["panel"];function tB(n,e){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function nB(n,e){if(1&n&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function iB(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function rB(n,e){if(1&n&&(c.TgZ(0,"span",9),c.YNc(1,nB,2,1,"span",10),c.YNc(2,iB,1,0,"ng-content",11),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function sB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",13)(1,"div",14,15),c.NdJ("@transformPanel.done",function(r){return c.CHM(t),c.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return c.CHM(t),c.oxw()._handleKeydown(r)}),c.Hsn(3,1),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",t._getPanelTheme(),""),c.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),c.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const oB=[[["mat-select-trigger"]],"*"],aB=["mat-select-trigger","*"],ZR={transformPanelWrap:sl("transformPanelWrap",[Rr("* => void",KM("@transformPanel",[ZM()],{optional:!0}))]),transformPanel:sl("transformPanel",[or("void",Qt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),or("showing",Qt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),or("showing-multiple",Qt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Rr("void => *",ss("120ms cubic-bezier(0, 0, 0.2, 1)")),Rr("* => void",ss("100ms 25ms linear",Qt({opacity:0})))])};let KR=0;const QR=new c.OlP("mat-select-scroll-strategy"),dB=new c.OlP("MAT_SELECT_CONFIG"),hB={provide:QR,deps:[w_],useFactory:function uB(n){return()=>n.scrollStrategies.reposition()}};class fB{constructor(e,t){this.source=e,this.value=t}}const pB=Fx(CN(Hb(Lx(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),mB=new c.OlP("MatSelectTrigger");let gB=(()=>{class n extends pB{constructor(t,i,r,l,d,p,_,E,S,M,F,U,z,ie){var Te,ot,_t;super(d,l,_,E,M),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=p,this._parentFormField=S,this._liveAnnouncer=z,this._defaultOptions=ie,this._panelOpen=!1,this._compareWith=(at,nt)=>at===nt,this._uid="mat-select-"+KR++,this._triggerAriaLabelledBy=null,this._destroy=new an.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+KR++,this._panelDoneAnimatingStream=new an.x,this._overlayPanelClass=(null===(Te=this._defaultOptions)||void 0===Te?void 0:Te.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(_t=null===(ot=this._defaultOptions)||void 0===ot?void 0:ot.disableOptionCentering)&&void 0!==_t&&_t,this.ariaLabel="",this.optionSelectionChanges=function XV(n){return new sn.y(e=>{(0,Ju.Xf)(n()).subscribe(e)})}(()=>{const at=this.options;return at?at.changes.pipe(ii(at),Ca(()=>(0,Ea.T)(...at.map(nt=>nt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Da.q)(1),Ca(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(ri(at=>at),(0,Jt.U)(()=>{})),this._closedStream=this.openedChange.pipe(ri(at=>!at),(0,Jt.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ie?void 0:ie.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ie.typeaheadDebounceInterval),this._scrollStrategyFactory=U,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(F)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(sk.required))&&void 0!==l&&l}set required(t){this._required=An(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=An(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=An(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Sa(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new QV(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe($s(),Fn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Fn(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ii(null),Fn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,l=13===i||32===i,d=this._keyManager;if(!d.isTyping()&&l&&!m_(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const p=this.selected;d.onKeydown(t);const _=this.selected;_&&p!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,l=40===r||38===r,d=i.isTyping();if(l&&t.altKey)t.preventDefault(),this.close();else if(d||13!==r&&32!==r||!i.activeItem||m_(t))if(!d&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const p=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(p?_.select():_.deselect())})}else{const p=i.activeItemIndex;i.onKeydown(t),this._multiple&&l&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==p&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Da.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(l){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new n1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Fn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Fn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Ea.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Fn(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ea.T)(...this.options.map(i=>i._stateChanges)).pipe(Fn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qb),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(yT),c.Y36(c.SBq),c.Y36(f_,8),c.Y36(qb,8),c.Y36(Wb,8),c.Y36(DT,8),c.Y36(wc,10),c.$8M("tabindex"),c.Y36(QR),c.Y36(m1),c.Y36(dB,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&(c.Gf(JV,5),c.Gf(eB,5),c.Gf(zR,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.trigger=r.first),c.iGM(r=c.CRH())&&(i.panel=r.first),c.iGM(r=c.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),_B=(()=>{class n extends gB{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const l=this._getItemHeight();return Math.min(Math.max(0,l*t-i+l/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Fn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Da.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=qx(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function FN(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new fB(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),l=this.multiple?56:32;let d;if(this.multiple)d=40;else if(this.disableOptionCentering)d=16;else{let E=this._selectionModel.selected[0]||this.options.first;d=E&&E.group?32:16}r||(d*=-1);const p=0-(t.left+d-(r?l:0)),_=t.right+d-i.width+(r?0:l);p>0?d+=p+8:_>0&&(d-=_+8),this._overlayDir.offsetX=Math.round(d),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const l=this._getItemHeight(),d=(l-this._triggerRect.height)/2,p=Math.floor(256/l);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*l:this._scrollTop===r?(t-(this._getItemCount()-p))*l+(l-(this._getItemCount()*l-256)%l):i-l/2,Math.round(-1*_-d))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,d=r.height-this._triggerRect.bottom-8,p=Math.abs(this._offsetY),E=Math.min(this._getItemCount()*i,256)-p-this._triggerRect.height;E>d?this._adjustPanelUp(E,d):p>l?this._adjustPanelDown(p,l,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const l=Math.round(t-i);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),d=i*t-r;let p;p=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),p+=qx(p,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(p,_,d),this._offsetY=this._calculateOverlayOffsetY(p,_,d),this._checkOverlayWithinViewport(d)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,mB,5),c.Suo(r,$x,5),c.Suo(r,zx,5)),2&t){let l;c.iGM(l=c.CRH())&&(i.customTrigger=l.first),c.iGM(l=c.CRH())&&(i.options=l),c.iGM(l=c.CRH())&&(i.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(c.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),c.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:WC,useExisting:n},{provide:Gx,useExisting:n}]),c.qOj],ngContentSelectors:aB,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(c.F$t(oB),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i.toggle()}),c.TgZ(3,"div",2),c.YNc(4,tB,2,1,"span",3),c.YNc(5,rB,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA()(),c.YNc(8,sB,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=c.MAs(1);c.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",i.empty),c.uIk("id",i._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[GR,Gi,ki,Cc,zR,ds],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[ZR.transformPanelWrap,ZR.transformPanel]},changeDetection:0}),n})(),yB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hB],imports:[[zi,$R,Wx,ei],b_,ZC,Wx,ei]}),n})();var vB=O(9672);function XR(n,e,t){n?(0,vB.f)(t,n,e):e()}const JR=new Set;let C_,EB=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function CB(n){if(!JR.has(n))try{C_||(C_=document.createElement("style"),C_.setAttribute("type","text/css"),document.head.appendChild(C_)),C_.sheet&&(C_.sheet.insertRule(`@media ${n} {body{ }}`,0),JR.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let IB=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new an.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return eO(yC(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let l=function bB(...n){const e=(0,Wi.yG)(n),t=(0,Wi.jO)(n),{args:i,keys:r}=Jx(n);if(0===i.length)return(0,qi.D)([],e);const l=new sn.y(function wB(n,e,t=Il.y){return i=>{XR(e,()=>{const{length:r}=n,l=new Array(r);let d=r,p=r;for(let _=0;_<r;_++)XR(e,()=>{const E=(0,qi.D)(n[_],e);let S=!1;E.subscribe((0,Qn.x)(i,M=>{l[_]=M,S||(S=!0,p--),p||i.next(t(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,e,r?d=>ek(r,d):Il.y));return t?l.pipe(ET(t)):l}(eO(yC(t)).map(d=>this._registerQuery(d).observable));return l=on(l.pipe((0,Da.q)(1)),l.pipe(OM(1),VS(0))),l.pipe((0,Jt.U)(d=>{const p={matches:!1,breakpoints:{}};return d.forEach(({matches:_,query:E})=>{p.matches=p.matches||_,p.breakpoints[E]=_}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),l={observable:new sn.y(d=>{const p=_=>this._zone.run(()=>d.next(_));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(ii(i),(0,Jt.U)(({matches:d})=>({query:t,matches:d})),Fn(this._destroySubject)),mql:i};return this._queries.set(t,l),l}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(EB),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const TB=["tooltip"],tO="tooltip-panel",nO=Nb({passive:!0}),iO=new c.OlP("mat-tooltip-scroll-strategy"),kB={provide:iO,deps:[w_],useFactory:function xB(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},RB=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function OB(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let PB=(()=>{class n{constructor(t,i,r,l,d,p,_,E,S,M,F,U){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=l,this._ngZone=d,this._platform=p,this._ariaDescriber=_,this._focusMonitor=E,this._dir=M,this._defaultOptions=F,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new an.x,this._scrollStrategy=S,this._document=U,F&&(F.position&&(this.position=F.position),F.touchGestures&&(this.touchGestures=F.touchGestures)),M.change.pipe(Fn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){var i;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=An(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Sa(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Sa(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Fn(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,nO)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new xR(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Fn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var t;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Fn(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${tO}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Fn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Fn(this._destroyed)).subscribe(()=>{var l;return null===(l=this._tooltipInstance)||void 0===l?void 0:l._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(Fn(this._destroyed)).subscribe(l=>{this._isTooltipVisible()&&27===l.keyCode&&!m_(l)&&(l.preventDefault(),l.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(t=this._defaultOptions)||void 0===t?void 0:t.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),l=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),l.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),l.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:l,y:d}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:l,originY:d}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:l,y:d}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:l,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Da.q)(1),Fn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:l}=t;let d;if(d="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===l?"above":"below",d!==this._currentPosition){const p=this._overlayRef;if(p){const _=`${this._cssClassPrefix}-${tO}-`;p.removePanelClass(_+this._currentPosition),p.addPanelClass(_+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{var r;const l=i.relatedTarget;(!l||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(l)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,nO)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),NB=(()=>{class n extends PB{constructor(t,i,r,l,d,p,_,E,S,M,F,U){super(t,i,r,l,d,p,_,E,S,M,F,U),this._tooltipComponent=LB}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(w_),c.Y36(c.SBq),c.Y36(MR),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(qr),c.Y36(LM),c.Y36($S),c.Y36(iO),c.Y36(f_,8),c.Y36(RB,8),c.Y36(J))},n.\u0275dir=c.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[c.qOj]}),n})(),FB=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new an.x,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,l=this._hideAnimation;if(i.classList.remove(t?l:r),i.classList.add(t?r:l),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const d=getComputedStyle(i);("0s"===d.getPropertyValue("animation-duration")||"none"===d.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(id,8))},n.\u0275dir=c.lG2({type:n}),n})(),LB=(()=>{class n extends FB{constructor(t,i,r){super(t,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(IB),c.Y36(id,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&c.Gf(TB,7),2&t){let r;c.iGM(r=c.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("mouseleave",function(l){return i._handleMouseLeave(l)}),2&t&&c.Udp("zoom",i.isVisible()?1:null)},features:[c.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,i){if(1&t&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(l){return i._handleAnimationEnd(l)}),c.ALo(2,"async"),c._uU(3),c.qZA()),2&t){let r;c.ekj("mat-tooltip-handset",null==(r=c.lcZ(2,4,i._isHandset))?null:r.matches),c.Q6J("ngClass",i.tooltipClass),c.xp6(3),c.Oqu(i.message)}},directives:[ds],pipes:[Dc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),VB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kB],imports:[[_1,zi,$R,ei],ei,b_]}),n})();function BB(n,e){if(1&n&&(c.TgZ(0,"mat-option",19),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t," ")}}function HB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-form-field",16)(1,"mat-select",17),c.NdJ("selectionChange",function(r){return c.CHM(t),c.oxw(2)._changePageSize(r.value)}),c.YNc(2,BB,2,2,"mat-option",18),c.qZA()()}if(2&n){const t=c.oxw(2);c.Q6J("appearance",t._formFieldAppearance)("color",t.color),c.xp6(1),c.Q6J("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),c.xp6(1),c.Q6J("ngForOf",t._displayedPageSizeOptions)}}function UB(n,e){if(1&n&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.pageSize)}}function jB(n,e){if(1&n&&(c.TgZ(0,"div",12)(1,"div",13),c._uU(2),c.qZA(),c.YNc(3,HB,3,6,"mat-form-field",14),c.YNc(4,UB,2,1,"div",15),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.hij(" ",t._intl.itemsPerPageLabel," "),c.xp6(1),c.Q6J("ngIf",t._displayedPageSizeOptions.length>1),c.xp6(1),c.Q6J("ngIf",t._displayedPageSizeOptions.length<=1)}}function GB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){return c.CHM(t),c.oxw().firstPage()}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",22),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),c.uIk("aria-label",t._intl.firstPageLabel)}}function zB(n,e){if(1&n){const t=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"button",23),c.NdJ("click",function(){return c.CHM(t),c.oxw().lastPage()}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",24),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),c.uIk("aria-label",t._intl.lastPageLabel)}}let uD=(()=>{class n{constructor(){this.changes=new an.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const l=t*i;return`${l+1} \u2013 ${l<(r=Math.max(r,0))?Math.min(l+i,r):l+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qB={provide:uD,deps:[[new c.FiY,new c.tp0,uD]],useFactory:function $B(n){return n||new uD}},ZB=new c.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),KB=Hb(Vx(class{}));let YB=(()=>{class n extends KB{constructor(t,i,r){if(super(),this._intl=t,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new c.vpe,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:l,pageSizeOptions:d,hidePageSize:p,showFirstLastButtons:_}=r;null!=l&&(this._pageSize=l),null!=d&&(this._pageSizeOptions=d),null!=p&&(this._hidePageSize=p),null!=_&&(this._showFirstLastButtons=_)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(Sa(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=Sa(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(Sa(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>Sa(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=An(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=An(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[c.qOj]}),n})(),rO=(()=>{class n extends YB{constructor(t,i,r){super(t,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(uD),c.Y36(c.sBO),c.Y36(ZB,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[c.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,jB,5,3,"div",2),c.TgZ(3,"div",3)(4,"div",4),c._uU(5),c.qZA(),c.YNc(6,GB,3,5,"button",5),c.TgZ(7,"button",6),c.NdJ("click",function(){return i.previousPage()}),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()(),c.kcU(),c.TgZ(10,"button",9),c.NdJ("click",function(){return i.nextPage()}),c.O4$(),c.TgZ(11,"svg",7),c._UZ(12,"path",10),c.qZA()(),c.YNc(13,zB,3,5,"button",11),c.qZA()()()),2&t&&(c.xp6(2),c.Q6J("ngIf",!i.hidePageSize),c.xp6(3),c.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),c.xp6(1),c.Q6J("ngIf",i.showFirstLastButtons),c.xp6(1),c.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),c.uIk("aria-label",i._intl.previousPageLabel),c.xp6(3),c.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),c.uIk("aria-label",i._intl.nextPageLabel),c.xp6(3),c.Q6J("ngIf",i.showFirstLastButtons))},directives:[Xx,_B,$x,qT,_i,ci,NB],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qB],imports:[[zi,uR,yB,VB,ei]]}),n})();const XB=["mat-sort-header",""];function JB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){return c.CHM(t),c.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return c.CHM(t),c.oxw()._disableViewStateAnimation=!1}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",t._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",t._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",t._getArrowDirectionState())}}const e2=["*"],uf=bN.ENTERING+" "+vN.STANDARD_CURVE,D_={indicator:sl("indicator",[or("active-asc, asc",Qt({transform:"translateY(0px)"})),or("active-desc, desc",Qt({transform:"translateY(10px)"})),Rr("active-asc <=> active-desc",ss(uf))]),leftPointer:sl("leftPointer",[or("active-asc, asc",Qt({transform:"rotate(-45deg)"})),or("active-desc, desc",Qt({transform:"rotate(45deg)"})),Rr("active-asc <=> active-desc",ss(uf))]),rightPointer:sl("rightPointer",[or("active-asc, asc",Qt({transform:"rotate(45deg)"})),or("active-desc, desc",Qt({transform:"rotate(-45deg)"})),Rr("active-asc <=> active-desc",ss(uf))]),arrowOpacity:sl("arrowOpacity",[or("desc-to-active, asc-to-active, active",Qt({opacity:1})),or("desc-to-hint, asc-to-hint, hint",Qt({opacity:.54})),or("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Qt({opacity:0})),Rr("* => asc, * => desc, * => active, * => hint, * => void",ss("0ms")),Rr("* <=> *",ss(uf))]),arrowPosition:sl("arrowPosition",[Rr("* => desc-to-hint, * => desc-to-active",ss(uf,Fb([Qt({transform:"translateY(-25%)"}),Qt({transform:"translateY(0)"})]))),Rr("* => hint-to-desc, * => active-to-desc",ss(uf,Fb([Qt({transform:"translateY(0)"}),Qt({transform:"translateY(25%)"})]))),Rr("* => asc-to-hint, * => asc-to-active",ss(uf,Fb([Qt({transform:"translateY(25%)"}),Qt({transform:"translateY(0)"})]))),Rr("* => hint-to-asc, * => active-to-asc",ss(uf,Fb([Qt({transform:"translateY(0)"}),Qt({transform:"translateY(-25%)"})]))),or("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Qt({transform:"translateY(0)"})),or("hint-to-desc, active-to-desc, desc",Qt({transform:"translateY(-25%)"})),or("hint-to-asc, active-to-asc, asc",Qt({transform:"translateY(25%)"}))]),allowChildren:sl("allowChildren",[Rr("* <=> *",[KM("@*",ZM(),{optional:!0})])])};let dD=(()=>{class n{constructor(){this.changes=new an.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n2={provide:dD,deps:[[new c.FiY,new c.tp0,dD]],useFactory:function t2(n){return n||new dD}},r2=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),s2=Vx(Hb(class{}));let tA=(()=>{class n extends s2{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new an.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=An(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var i,r,l;if(!t)return"";const d=null!==(r=null!==(i=null==t?void 0:t.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==r?r:!!(null===(l=this._defaultOptions)||void 0===l?void 0:l.disableClear);let p=function o2(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,d),_=p.indexOf(this.direction)+1;return _>=p.length&&(_=0),p[_]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(r2,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]}),n})();const a2=Hb(class{});let l2=(()=>{class n extends a2{constructor(t,i,r,l,d,p,_){super(),this._intl=t,this._changeDetectorRef=i,this._sort=r,this._columnDef=l,this._focusMonitor=d,this._elementRef=p,this._ariaDescriber=_,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=An(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=!!t;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){var i,r;this._sortButton&&(null===(i=this._ariaDescriber)||void 0===i||i.removeDescription(this._sortButton,this._sortActionDescription),null===(r=this._ariaDescriber)||void 0===r||r.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=(0,Ea.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dD),c.Y36(c.sBO),c.Y36(tA,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36($S),c.Y36(c.SBq),c.Y36(LM,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._handleClick()})("keydown",function(l){return i._handleKeydown(l)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&t&&(c.uIk("aria-sort",i._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:XB,ngContentSelectors:e2,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,JB,6,6,"div",2),c.qZA()),2&t&&(c.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"==i.arrowPosition),c.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",i._renderArrow()))},directives:[_i],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[D_.indicator,D_.leftPointer,D_.rightPointer,D_.arrowOpacity,D_.arrowPosition,D_.allowChildren]},changeDetection:0}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[n2],imports:[[zi,ei]]}),n})();const d2=[[["caption"]],[["colgroup"],["col"]]],h2=["caption","colgroup, col"];function nA(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=An(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const I_=new c.OlP("CDK_TABLE");let S_=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),T_=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),hD=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class g2{}const _2=nA(g2);let sd=(()=>{class n extends _2{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=An(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(I_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,S_,5),c.Suo(r,T_,5),c.Suo(r,hD,5)),2&t){let l;c.iGM(l=c.CRH())&&(i.cell=l.first),c.iGM(l=c.CRH())&&(i.headerCell=l.first),c.iGM(l=c.CRH())&&(i.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})();class iA{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let rA=(()=>{class n extends iA{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sd),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),n})(),sA=(()=>{class n extends iA{constructor(t,i){var r;if(super(t,i),1===(null===(r=t._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const l=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sd),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]}),n})();class oO{constructor(){this.tasks=[],this.endTasks=[]}}const oA=new c.OlP("_COALESCED_STYLE_SCHEDULER");let aO=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new an.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new oO,this._getScheduleObservable().pipe(Fn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new oO;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,qi.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Da.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),aA=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ew?t.headerCell.template:this instanceof tw?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();class y2 extends aA{}const v2=nA(y2);let ew=(()=>{class n extends v2{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(I_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})();class b2 extends aA{}const w2=nA(b2);let tw=(()=>{class n extends w2{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(I_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})(),fD=(()=>{class n extends aA{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(I_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),n})(),od=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},directives:[od],encapsulation:2}),n})(),uA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},directives:[od],encapsulation:2}),n})(),pD=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const lO=["top","bottom","left","right"];class E2{constructor(e,t,i,r,l=!0,d=!0,p){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=l,this._needsPositionStickyOnElement=d,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let l=0;l<r.children.length;l++)i.push(r.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(F=>F)&&!i.some(F=>F))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=e[0],d=l.children.length,p=this._getCellWidths(l,r),_=this._getStickyStartColumnPositions(p,t),E=this._getStickyEndColumnPositions(p,i),S=t.lastIndexOf(!0),M=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const F="rtl"===this.direction,U=F?"right":"left",z=F?"left":"right";for(const ie of e)for(let Te=0;Te<d;Te++){const ot=ie.children[Te];t[Te]&&this._addStickyStyle(ot,U,_[Te],Te===S),i[Te]&&this._addStickyStyle(ot,z,E[Te],Te===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===S?[]:p.slice(0,S+1).map((ie,Te)=>t[Te]?ie:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:p.slice(M).map((ie,Te)=>i[Te+M]?ie:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,l="bottom"===i?t.slice().reverse():t,d=[],p=[],_=[];for(let S=0,M=0;S<r.length;S++){if(!l[S])continue;d[S]=M;const F=r[S];_[S]=this._isNativeHtmlTable?Array.from(F.children):[F];const U=F.getBoundingClientRect().height;M+=U,p[S]=U}const E=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var S,M;for(let F=0;F<r.length;F++){if(!l[F])continue;const U=d[F],z=F===E;for(const ie of _[F])this._addStickyStyle(ie,i,U,z)}"top"===i?null===(S=this._positionListener)||void 0===S||S.stickyHeaderRowsUpdated({sizes:p,offsets:d,elements:_}):null===(M=this._positionListener)||void 0===M||M.stickyFooterRowsUpdated({sizes:p,offsets:d,elements:_})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);lO.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of lO)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let l=0;l<r.length;l++)i.push(r[l].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let l=0;l<e.length;l++)t[l]&&(i[l]=r,r+=e[l]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let l=e.length;l>0;l--)t[l]&&(i[l]=r,r+=e[l]);return i}}const dA=new c.OlP("CDK_SPL");let mD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),gD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),_D=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),yD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),vD=(()=>{class n{constructor(t,i,r,l,d,p,_,E,S,M,F,U){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=d,this._platform=_,this._viewRepeater=E,this._coalescedStyleScheduler=S,this._viewportRuler=M,this._stickyPositioningListener=F,this._ngZone=U,this._onDestroy=new an.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new AM({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=An(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=An(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Fn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),eA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,l,d)=>this._getEmbeddedViewArgs(r.item,d),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Da.q)(1),Fn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const l=this._headerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,l,"top"),this._headerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const l=this._footerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((l,d)=>{this._addStickyColumnStyles([l],this._headerRowDefs[d])}),this._rowDefs.forEach(l=>{const d=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===l&&d.push(i[p]);this._addStickyColumnStyles(d,l)}),r.forEach((l,d)=>{this._addStickyColumnStyles([l],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let l=this._data[r];const d=this._getRenderRowsForData(l,r,i.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let p=0;p<d.length;p++){let _=d[p];const E=this._cachedRenderRowsMap.get(_.data);E.has(_.rowDef)?E.get(_.rowDef).push(_):E.set(_.rowDef,[_]),t.push(_)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(d=>{const p=r&&r.has(d)?r.get(d):[];if(p.length){const _=p.shift();return _.dataIndex=i,_}return{data:t,rowDef:d,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),bD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=bD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=bD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=bD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(d,p)=>d||!!p.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(t,!1);return l&&this._forceRenderFooterRows(),i||r||l}_switchDataSource(t){this._data=[],eA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;eA(this.dataSource)?t=this.dataSource.connect(this):function u2(n){return!!n&&(n instanceof sn.y||(0,Ho.m)(n.lift)&&(0,Ho.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Yn(this.dataSource)),this._renderChangeSubscription=t.pipe(Fn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(p=>this._columnDefsByName.get(p)),l=r.map(p=>p.sticky),d=r.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(t,l,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const l=t.viewContainer.get(r);i.push(l.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(l=>!l.when||l.when(i,t));else{let l=this._rowDefs.find(d=>d.when&&d.when(i,t))||this._defaultRowDef;l&&r.push(l)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,l={}){const d=t.viewContainer.createEmbeddedView(i.template,l,r);return this._renderCellTemplateForItem(i,l),d}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))od.mostRecentCellOutlet&&od.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const d=t.get(i).context;d.count=r,d.first=0===i,d.last=i===r-1,d.even=i%2==0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[i].dataIndex,d.renderIndex=i):d.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const l=this._document.createElement(r.tag);l.setAttribute("role","rowgroup");for(const d of r.outlets)l.appendChild(d.elementRef.nativeElement);t.appendChild(l)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new E2(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Yn()).pipe(Fn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const l=r.createEmbeddedView(t.templateRef),d=l.rootNodes[0];1===l.rootNodes.length&&(null==d?void 0:d.nodeType)===this._document.ELEMENT_NODE&&(d.setAttribute("role","row"),d.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(f_,8),c.Y36(J),c.Y36(qr),c.Y36(Xb),c.Y36(oA),c.Y36(Qb),c.Y36(dA,12),c.Y36(c.R0b,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,pD,5),c.Suo(r,sd,5),c.Suo(r,fD,5),c.Suo(r,ew,5),c.Suo(r,tw,5)),2&t){let l;c.iGM(l=c.CRH())&&(i._noDataRow=l.first),c.iGM(l=c.CRH())&&(i._contentColumnDefs=l),c.iGM(l=c.CRH())&&(i._contentRowDefs=l),c.iGM(l=c.CRH())&&(i._contentHeaderRowDefs=l),c.iGM(l=c.CRH())&&(i._contentFooterRowDefs=l)}},viewQuery:function(t,i){if(1&t&&(c.Gf(mD,7),c.Gf(gD,7),c.Gf(_D,7),c.Gf(yD,7)),2&t){let r;c.iGM(r=c.CRH())&&(i._rowOutlet=r.first),c.iGM(r=c.CRH())&&(i._headerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._footerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:I_,useExisting:n},{provide:Xb,useClass:qR},{provide:oA,useClass:aO},{provide:dA,useValue:null}])],ngContentSelectors:h2,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(c.F$t(d2),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},directives:[gD,mD,yD,_D],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function bD(n,e){return n.concat(Array.from(e))}let D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[YT]]}),n})();const I2=[[["caption"]],[["colgroup"],["col"]]],S2=["caption","colgroup, col"];let hA=(()=>{class n extends vD{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:Xb,useClass:qR},{provide:vD,useExisting:n},{provide:I_,useExisting:n},{provide:oA,useClass:aO},{provide:dA,useValue:null}]),c.qOj],ngContentSelectors:S2,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(c.F$t(I2),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},directives:[gD,mD,yD,_D],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),fA=(()=>{class n extends S_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:S_,useExisting:n}]),c.qOj]}),n})(),pA=(()=>{class n extends T_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:T_,useExisting:n}]),c.qOj]}),n})(),mA=(()=>{class n extends sd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:sd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})(),gA=(()=>{class n extends rA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[c.qOj]}),n})(),_A=(()=>{class n extends sA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[c.qOj]}),n})(),uO=(()=>{class n extends ew{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:ew,useExisting:n}]),c.qOj]}),n})(),dO=(()=>{class n extends fD{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:fD,useExisting:n}]),c.qOj]}),n})(),hO=(()=>{class n extends lA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:lA,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},directives:[od],encapsulation:2}),n})(),fO=(()=>{class n extends uA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[c._Bn([{provide:uA,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},directives:[od],encapsulation:2}),n})(),F2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[D2,ei],ei]}),n})();const V2=[{id:1,exercice:"Developp\xe9 couch\xe9",weight:60,nbSeries:4},{id:2,exercice:"Squat",weight:60,nbSeries:4},{id:3,exercice:"Soulev\xe9 de Terre",weight:60,nbSeries:4},{id:4,exercice:"Tractions",weight:60,nbSeries:4},{id:5,exercice:"Rowing buste pench\xe9 halt\xe8re",weight:60,nbSeries:4}];class B2 extends class YV{}{constructor(){super(),this.data=V2}connect(){if(this.paginator&&this.sort)return(0,Ea.T)(Yn(this.data),this.paginator.page,this.sort.sortChange).pipe((0,Jt.U)(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(e){return this.paginator?e.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize):e}getSortedData(e){return this.sort&&this.sort.active&&""!==this.sort.direction?e.sort((t,i)=>{var r,l;const d="asc"===(null===(r=this.sort)||void 0===r?void 0:r.direction);switch(null===(l=this.sort)||void 0===l?void 0:l.active){case"exercice":return pO(t.exercice,i.exercice,d);case"id":return pO(+t.id,+i.id,d);default:return 0}}):e}}function pO(n,e,t){return(n<e?-1:1)*(t?1:-1)}function H2(n,e){1&n&&(c.TgZ(0,"th",13),c._uU(1,"Id"),c.qZA())}function U2(n,e){if(1&n&&(c.TgZ(0,"td",14),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.id)}}function j2(n,e){1&n&&(c.TgZ(0,"th",13),c._uU(1,"Exercice"),c.qZA())}function G2(n,e){if(1&n&&(c.TgZ(0,"td",14),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.exercice)}}function z2(n,e){1&n&&(c.TgZ(0,"th",13),c._uU(1,"Weight"),c.qZA())}function $2(n,e){if(1&n&&(c.TgZ(0,"td",14),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.weight)}}function q2(n,e){1&n&&(c.TgZ(0,"th",13),c._uU(1,"Nombre de s\xe9ries"),c.qZA())}function W2(n,e){if(1&n&&(c.TgZ(0,"td",14),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.nbSeries)}}function Z2(n,e){1&n&&(c.TgZ(0,"th",13),c._uU(1,"Actions"),c.qZA())}function K2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",14)(1,"button",15),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw().onClickEdit(l.id)}),c.TgZ(2,"mat-icon"),c._uU(3,"edit"),c.qZA()(),c.TgZ(4,"button",16),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw().onClickDelete(l.id)}),c.TgZ(5,"mat-icon"),c._uU(6,"delete"),c.qZA()(),c._uU(7),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(7),c.hij(" ",t.id," ")}}function Y2(n,e){1&n&&c._UZ(0,"tr",17)}function Q2(n,e){1&n&&c._UZ(0,"tr",18)}const X2=function(){return[5,10,20]};let J2=(()=>{class n{constructor(){this.displayedColumns=["exercice","weight","nbSeries","actions"],this.dataSource=new B2}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.table.dataSource=this.dataSource}onClickEdit(t){console.log("Edit "+t)}onClickDelete(t){console.log("Delete "+t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-trainings-table"]],viewQuery:function(t,i){if(1&t&&(c.Gf(rO,5),c.Gf(tA,5),c.Gf(hA,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.paginator=r.first),c.iGM(r=c.CRH())&&(i.sort=r.first),c.iGM(r=c.CRH())&&(i.table=r.first)}},decls:21,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","exercice"],["matColumnDef","weight"],["matColumnDef","nbSeries"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-mini-fab","",3,"click"],["mat-mini-fab","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"table",1),c.ynx(2,2),c.YNc(3,H2,2,0,"th",3),c.YNc(4,U2,2,1,"td",4),c.BQk(),c.ynx(5,5),c.YNc(6,j2,2,0,"th",3),c.YNc(7,G2,2,1,"td",4),c.BQk(),c.ynx(8,6),c.YNc(9,z2,2,0,"th",3),c.YNc(10,$2,2,1,"td",4),c.BQk(),c.ynx(11,7),c.YNc(12,q2,2,0,"th",3),c.YNc(13,W2,2,1,"td",4),c.BQk(),c.ynx(14,8),c.YNc(15,Z2,2,0,"th",3),c.YNc(16,K2,8,1,"td",4),c.BQk(),c.YNc(17,Y2,1,0,"tr",9),c.YNc(18,Q2,1,0,"tr",10),c.qZA(),c._UZ(19,"mat-paginator",11,12),c.qZA()),2&t&&(c.xp6(17),c.Q6J("matHeaderRowDef",i.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",i.displayedColumns),c.xp6(1),c.Q6J("length",null==i.dataSource||null==i.dataSource.data?null:i.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",c.DdM(6,X2)))},directives:[hA,tA,mA,pA,gA,l2,fA,_A,qT,DR,uO,hO,dO,fO,rO],styles:[".full-width-table[_ngcontent-%COMP%]{margin-top:10px;width:100%}.mat-mini-fab[_ngcontent-%COMP%]{margin-right:10px}"]}),n})();function eH(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.name)}}function tH(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,eH,2,1,"p",7),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.fakeExercices)}}function nH(n,e){1&n&&c._UZ(0,"mat-progress-spinner",8)}let iH=(()=>{class n{constructor(t){this.exerciceService=t,this.fakeExercices=[],this.isLoading=!0}ngOnInit(){this.exerciceService.getExercices().subscribe(t=>{var i;console.log(t),this.fakeExercices=t,(null===(i=this.fakeExercices)||void 0===i?void 0:i.length)>0&&(this.isLoading=!1)})}onClick(){console.log("Add")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-trainings"]],decls:23,vars:2,consts:[[1,"container"],["matInput","","type","text","placeholder","Ex. Squat"],["matInput","","type","number","placeholder","Ex. 60"],["matInput","","type","number","placeholder","Ex. 4"],["mat-fab","","color","primary","aria-label","Ajouter l'exercice",3,"click"],[4,"ngIf","ngIfElse"],["loading",""],[4,"ngFor","ngForOf"],["mode","indeterminate"]],template:function(t,i){if(1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"trainings works!"),c.qZA(),c.TgZ(3,"mat-form-field")(4,"mat-label"),c._uU(5,"Exercice"),c.qZA(),c._UZ(6,"input",1),c.qZA(),c.TgZ(7,"mat-form-field")(8,"mat-label"),c._uU(9,"Poids"),c.qZA(),c._UZ(10,"input",2),c.qZA(),c.TgZ(11,"mat-form-field")(12,"mat-label"),c._uU(13,"Nombre de s\xe9ries"),c.qZA(),c._UZ(14,"input",3),c.qZA(),c.TgZ(15,"button",4),c.NdJ("click",function(){return i.onClick()}),c.TgZ(16,"mat-icon"),c._uU(17,"add"),c.qZA()(),c._UZ(18,"mat-divider"),c.YNc(19,tH,2,1,"div",5),c.YNc(20,nH,1,0,"ng-template",null,6,c.W1O),c._UZ(22,"app-trainings-table"),c.qZA()),2&t){const r=c.MAs(21);c.xp6(19),c.Q6J("ngIf",!i.isLoading)("ngIfElse",r)}},directives:[Xx,CT,SL,qT,DR,iV,_i,ci,rd,J2],styles:[".mat-form-field[_ngcontent-%COMP%]{margin:5px}.mat-fab[_ngcontent-%COMP%]{margin:10px}"]}),n})(),rH=(()=>{class n{constructor(){this.title="training-log"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:1,template:function(t,i){1&t&&(c.TgZ(0,"h1"),c._uU(1),c.qZA(),c._UZ(2,"app-trainings")),2&t&&(c.xp6(1),c.hij("Mon application ",i.title,""))},directives:[iH],styles:[""]}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[zi,ei,b_],b_,ei]}),n})();const mO_firebase={apiKey:"AIzaSyBAhijN1ANP26o5UONoitgYg1iFAru1eVE",authDomain:"training-log-e8c2d.firebaseapp.com",projectId:"training-log-e8c2d",storageBucket:"training-log-e8c2d.appspot.com",messagingSenderId:"784940770700",appId:"1:784940770700:web:8200a9868b9af0f71222a9",measurementId:"G-09ZMXV22F0"};let aH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[rH]}),n.\u0275inj=c.cJS({providers:[{provide:Qx,useValue:{appearance:"outline"}}],imports:[[Yo,mN,uR,F2,QB,c2,ZC,TL,oH,rV,nV,AV,bi.hO.initializeApp(mO_firebase),MO]]}),n})();(0,c.G48)(),Lc().bootstrapModule(aH).catch(n=>console.error(n))},5867:(rt,Ce,O)=>{O.d(Ce,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=O(9681);(0,c.registerVersion)("firebase","9.6.11","app")},127:(rt,Ce,O)=>{O.d(Ce,{Z:()=>c.Z});var c=O(3942);c.Z.registerVersion("firebase","9.6.11","app-compat")},820:(rt,Ce,O)=>{O.r(Ce);var c=O(5861),Y=O(3942),P=O(2090),ae=O(9681),ee=O(655),pe=O(1877),J=O(4859);const Re=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new pe.Yd("@firebase/auth");function We(y,...f){et.logLevel<=pe.in.ERROR&&et.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Se(y,...f){throw He(y,...f)}function ve(y,...f){return He(y,...f)}function be(y,f,g){const b=Object.assign(Object.assign({},Le()),{[f]:g});return new P.LL("auth","Firebase",b).create(f,{appName:y.name})}function Ue(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Se(y,"argument-error"),be(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...f){if("string"!=typeof y){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return me.create(y,...f)}function ne(y,f,...g){if(!y)throw He(f,...g)}function W(y){const f="INTERNAL ASSERTION FAILED: "+y;throw We(f),new Error(f)}function re(y,f){y||W(f)}const ge=new Map;function oe(y){re(y instanceof Function,"Expected a class definition");let f=ge.get(y);return f?(re(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ge.set(y,f),f)}function Dt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Kt(){return"http:"===Ln()||"https:"===Ln()}function Ln(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ln{constructor(f,g){this.shortDelay=f,this.longDelay=g,re(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function ct(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(y,f){re(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Pr{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},as=new ln(3e4,6e4);function Yt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function jt(y,f,g,b){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(y,f,g,b,T={}){return yr(y,T,(0,c.Z)(function*(){let R={},q={};b&&("GET"===f?q=b:R={body:JSON.stringify(b)});const se=(0,P.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),Pr.fetch()(ji(y,y.config.apiHost,g,se),Object.assign({method:f,headers:Fe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function yr(y,f,g){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},en),f);try{const T=new ls(y),R=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw cs(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const se=R.ok?q.errorMessage:q.error.message,[Fe,Qe]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw cs(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Fe)throw cs(y,"email-already-in-use",q);const mt=b[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw be(y,mt,Qe);Se(y,mt)}}catch(T){if(T instanceof P.ZR)throw T;Se(y,"network-request-failed")}})).apply(this,arguments)}function Ui(y,f,g,b){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(y,f,g,b,T={}){const R=yield jt(y,f,g,b,T);return"mfaPendingCredential"in R&&Se(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function ji(y,f,g,b){const T=`${f}${g}?${b}`;return y.config.emulator?cn(y.config,T):`${y.config.apiScheme}://${T}`}class ls{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),as.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cs(y,f,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=ve(y,f,b);return T.customData._tokenResponse=g,T}function ar(){return(ar=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function oi(y,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vr(y,f){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function wn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ma(){return(Ma=(0,c.Z)(function*(y,f=!1){const g=(0,P.m9)(y),b=yield g.getIdToken(f),T=it(b);ne(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,q=null==R?void 0:R.sign_in_provider;return{claims:T,token:b,authTime:wn(Gt(T.auth_time)),issuedAtTime:wn(Gt(T.iat)),expirationTime:wn(Gt(T.exp)),signInProvider:q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Gt(y){return 1e3*Number(y)}function it(y){const[f,g,b]=y.split(".");if(void 0===f||void 0===g||void 0===b)return We("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(g);return T?JSON.parse(T):(We("Failed to decode base64 JWT payload"),null)}catch(T){return We("Caught error parsing JWT payload as JSON",T),null}}function pi(y,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&Ut(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Ut({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class uo{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Ai{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(y){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(y){var f;const g=y.auth,b=yield y.getIdToken(),T=yield pi(y,vr(g,{idToken:b}));ne(null==T?void 0:T.users.length,g,"internal-error");const R=T.users[0];y._notifyReloadListener(R);const q=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?De(R.providerUserInfo):[],se=Ze(y.providerData,q),mt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==se?void 0:se.length)),st={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:se,metadata:new Ai(R.createdAt,R.lastLoginAt),isAnonymous:mt};Object.assign(y,st)})).apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(y){const f=(0,P.m9)(y);yield mi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ze(y,f){return[...y.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function De(y){return y.map(f=>{var{providerId:g}=f,b=(0,ee._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ft(){return(ft=(0,c.Z)(function*(y,f){const g=yield yr(y,{},(0,c.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:R}=y.config,q=ji(y,T,"/v1/token",`key=${R}`),se=yield y._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Pr.fetch()(q,{method:"POST",headers:se,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ne(f.idToken,"internal-error"),ne(void 0!==f.idToken,"internal-error"),ne(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function wt(y){const f=it(y);return ne(f,"internal-error"),ne(void 0!==f.exp,"internal-error"),ne(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return ne(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:q}=yield function Ye(y,f){return ft.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(T,R,Number(q))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:T,expirationTime:R}=g,q=new Vt;return b&&(ne("string"==typeof b,"internal-error",{appName:f}),q.refreshToken=b),T&&(ne("string"==typeof T,"internal-error",{appName:f}),q.accessToken=T),R&&(ne("number"==typeof R,"internal-error",{appName:f}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return W("not implemented")}}function Nt(y,f){ne("string"==typeof y||void 0===y,"internal-error",{appName:f})}class H{constructor(f){var{uid:g,auth:b,stsTokenManager:T}=f,R=(0,ee._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ai(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield pi(g,g.stsTokenManager.getToken(g.auth,f));return ne(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Ms(y){return Ma.apply(this,arguments)}(this,f)}reload(){return function Mi(y){return Lt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new H(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield mi(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield pi(f,function dt(y,f){return ar.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,T,R,q,se,Fe,Qe,mt;const st=null!==(b=g.displayName)&&void 0!==b?b:void 0,Pn=null!==(T=g.email)&&void 0!==T?T:void 0,Ur=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,xo=null!==(q=g.photoURL)&&void 0!==q?q:void 0,uu=null!==(se=g.tenantId)&&void 0!==se?se:void 0,Kl=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,du=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,Of=null!==(mt=g.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:ko,emailVerified:Wa,isAnonymous:ih,providerData:rh,stsTokenManager:io}=g;ne(ko&&io,f,"internal-error");const ym=Vt.fromJSON(this.name,io);ne("string"==typeof ko,f,"internal-error"),Nt(st,f.name),Nt(Pn,f.name),ne("boolean"==typeof Wa,f,"internal-error"),ne("boolean"==typeof ih,f,"internal-error"),Nt(Ur,f.name),Nt(xo,f.name),Nt(uu,f.name),Nt(Kl,f.name),Nt(du,f.name),Nt(Of,f.name);const sh=new H({uid:ko,auth:f,email:Pn,emailVerified:Wa,displayName:st,isAnonymous:ih,photoURL:xo,phoneNumber:Ur,tenantId:uu,stsTokenManager:ym,createdAt:du,lastLoginAt:Of});return rh&&Array.isArray(rh)&&(sh.providerData=rh.map(vm=>Object.assign({},vm))),Kl&&(sh._redirectEventId=Kl),sh}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const T=new Vt;T.updateFromServerResponse(g);const R=new H({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield mi(R),R})()}}const $=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,c.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function he(y,f,g){return`firebase:${y}:${f}:${g}`}class Q{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:T,name:R}=this.auth;this.fullUserKey=he(this.userKey,T.apiKey,R),this.fullPersistenceKey=he("persistence",T.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?H._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Q(oe($),f,b);const T=(yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let R=T[0]||oe($);const q=he(b,f.config.apiKey,f.name);let se=null;for(const Qe of g)try{const mt=yield Qe._get(q);if(mt){const st=H._fromJSON(f,mt);Qe!==R&&(se=st),R=Qe;break}}catch(mt){}const Fe=T.filter(Qe=>Qe._shouldAllowMigration);return R._shouldAllowMigration&&Fe.length?(R=Fe[0],se&&(yield R._set(q,se.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(mt){if(mt!==R)try{yield mt._remove(q)}catch(st){}});return function(mt){return Qe.apply(this,arguments)}}())),new Q(R,f,b)):new Q(R,f,b)})()}}function Ve(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(zt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(vt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(kt(f))return"Blackberry";if(hn(f))return"Webos";if($t(f))return"Safari";if((f.includes("chrome/")||xi(f))&&!f.includes("edge/"))return"Chrome";if(Mn(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function vt(y=(0,P.z$)()){return/firefox\//i.test(y)}function $t(y=(0,P.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function xi(y=(0,P.z$)()){return/crios\//i.test(y)}function zt(y=(0,P.z$)()){return/iemobile/i.test(y)}function Mn(y=(0,P.z$)()){return/android/i.test(y)}function kt(y=(0,P.z$)()){return/blackberry/i.test(y)}function hn(y=(0,P.z$)()){return/webos/i.test(y)}function li(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function us(y=(0,P.z$)()){return li(y)||Mn(y)||hn(y)||kt(y)||/windows phone/i.test(y)||zt(y)}function ka(y,f=[]){let g;switch(y){case"Browser":g=Ve((0,P.z$)());break;case"Worker":g=`${Ve((0,P.z$)())}-${y}`;break;default:g=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${b}`}class br{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rt(this),this.idTokenSubscription=new Rt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,R;if(!b._deleted&&(b.persistenceManager=yield Q.create(b,f),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(q){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let T=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,q=null==T?void 0:T._redirectEventId,se=yield g.tryRedirectSignIn(f);(!R||R===q)&&(null==se?void 0:se.user)&&(T=se.user)}return T?T._redirectEventId?(ne(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(T){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield mi(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function yt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&ne(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&ne(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&oe(f)||g._popupRedirectResolver;ne(b,g,"argument-error"),g.redirectPersistenceManager=yield Q.create(g,[oe(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,T){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,b,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ka(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function Oe(y){return(0,P.m9)(y)}class Rt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gi(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Wn(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class tn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return W("not implemented")}_getIdTokenResponse(f){return W("not implemented")}_linkToIdToken(f,g){return W("not implemented")}_getReauthenticationResolver(f){return W("not implemented")}}function Vn(y,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:resetPassword",Yt(y,f))})).apply(this,arguments)}function xt(y,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ds(y,f){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",Yt(y,f))})).apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signInWithPassword",Yt(y,f))})).apply(this,arguments)}function hs(y,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:sendOobCode",Yt(y,f))})).apply(this,arguments)}function _i(y,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(y,f){return hs(y,f)})).apply(this,arguments)}function al(y,f){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(y,f){return hs(y,f)})).apply(this,arguments)}function Gi(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(y,f){return hs(y,f)})).apply(this,arguments)}function Cc(y,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(y,f){return hs(y,f)})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,f))})).apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,f))})).apply(this,arguments)}class ul extends tn{constructor(f,g,b,T=null){super("password",b),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new ul(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new ul(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Rs(y,f){return ci.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function cl(y,f){return lr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Se(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return xt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ff(y,f){return cd.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Se(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Zn(y,f){return ud.apply(this,arguments)}function ud(){return(ud=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signInWithIdp",Yt(y,f))})).apply(this,arguments)}class ps extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ps(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=g,R=(0,ee._T)(g,["providerId","signInMethod"]);if(!b||!T)return null;const q=new ps(b,T);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(f){return Zn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Zn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Zn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function Kp(y,f){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:sendVerificationCode",Yt(y,f))})).apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,f))})).apply(this,arguments)}function dd(){return(dd=(0,c.Z)(function*(y,f){const g=yield Ui(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,f));if(g.temporaryProof)throw cs(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Qp={USER_NOT_FOUND:"user-not-found"};function hd(){return(hd=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Qp)})).apply(this,arguments)}class $o extends tn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new $o({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new $o({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Ic(y,f){return Ps.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Yp(y,f){return dd.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xp(y,f){return hd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:R}=f;return b||g||T||R?new $o({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:R}):null}}class fo{constructor(f){var g,b,T,R,q,se;const Fe=(0,P.zd)((0,P.pd)(f)),Qe=null!==(g=Fe.apiKey)&&void 0!==g?g:null,mt=null!==(b=Fe.oobCode)&&void 0!==b?b:null,st=function A_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Fe.mode)&&void 0!==T?T:null);ne(Qe&&mt&&st,"argument-error"),this.apiKey=Qe,this.operation=st,this.code=mt,this.continueUrl=null!==(R=Fe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Fe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(se=Fe.tenantId)&&void 0!==se?se:null}static parseLink(f){const g=function dl(y){const f=(0,P.zd)((0,P.pd)(y)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||f||y}(f);try{return new fo(g)}catch(b){return null}}}let Sc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return ul._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=fo.parseLink(b);return ne(T,"argument-error"),ul._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ns{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class cr extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class qo extends cr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ne("providerId"in g&&"signInMethod"in g,"argument-error"),ps._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ne(f.idToken||f.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return qo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return qo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:R,nonce:q,providerId:se}=f;if(!b&&!T&&!g&&!R||!se)return null;try{return new qo(se)._credential({idToken:g,accessToken:b,nonce:q,pendingToken:R})}catch(Fe){return null}}}let po=(()=>{class y extends cr{constructor(){super("facebook.com")}static credential(g){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Oa=(()=>{class y extends cr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return y.credential(b,T)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),fd=(()=>{class y extends cr{constructor(){super("github.com")}static credential(g){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class zi extends tn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Zn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Zn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Zn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:R}=g;return b&&T&&R&&b===T?new zi(b,R):null}static _create(f,g){return new zi(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wr extends Ns{constructor(f){ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return wr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return wr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=zi.fromJSON(f);return ne(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return zi._create(b,g)}catch(T){return null}}}let hl=(()=>{class y extends cr{constructor(){super("twitter.com")}static credential(g,b){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return y.credential(b,T)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function fl(y,f){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signUp",Yt(y,f))})).apply(this,arguments)}class yi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,T=!1){return(0,c.Z)(function*(){const R=yield H._fromIdTokenResponse(f,b,T),q=mf(b);return new yi({user:R,providerId:q,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=mf(b);return new yi({user:f,providerId:T,_tokenResponse:b,operationType:g})})()}}function mf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function pd(){return(pd=(0,c.Z)(function*(y){var f;const g=Oe(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new yi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield fl(g,{returnSecureToken:!0}),T=yield yi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Tc extends P.ZR{constructor(f,g,b,T){var R;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,T){return new Tc(f,g,b,T)}}function Ac(y,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Tc._fromErrorAndOperation(y,R,f,b):R})}function ms(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Mc(){return(Mc=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y);yield Ls(!0,g,f);const{providerUserInfo:b}=yield oi(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=ms(b||[]);return g.providerData=g.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function yn(y,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(y,f,g=!1){const b=yield pi(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return yi._forOperation(y,"link",b)})).apply(this,arguments)}function Ls(y,f,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(y,f,g){yield mi(f);const T=!1===y?"provider-already-linked":"no-such-provider";ne(ms(f.providerData).has(g)===y,f.auth,T)})).apply(this,arguments)}function md(y,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(y,f,g=!1){const{auth:b}=y,T="reauthenticate";try{const R=yield pi(y,Ac(b,T,f,y),g);ne(R.idToken,b,"internal-error");const q=it(R.idToken);ne(q,b,"internal-error");const{sub:se}=q;return ne(y.uid===se,b,"user-mismatch"),yi._forOperation(y,T,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Se(b,"user-mismatch"),R}})).apply(this,arguments)}function go(y,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(y,f,g=!1){const b="signIn",T=yield Ac(y,b,f),R=yield yi._fromIdTokenResponse(y,b,T);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Bn(y,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(y,f){return go(Oe(y),f)})).apply(this,arguments)}function Nr(y,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y);return yield Ls(!1,g,f.providerId),yn(g,f)})).apply(this,arguments)}function Vs(y,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(y,f){return md((0,P.m9)(y),f)})).apply(this,arguments)}function ml(y,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(y,f){return Ui(y,"POST","/v1/accounts:signInWithCustomToken",Yt(y,f))})).apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(y,f){const g=Oe(y),b=yield ml(g,{token:f,returnSecureToken:!0}),T=yield yi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class pt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?gl._fromServerResponse(f,g):Se(f,"internal-error")}}class gl extends pt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new gl(g)}}function Fa(y,f,g){var b;ne((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ne(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ne(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ne(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function yl(){return(yl=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y),T={requestType:"PASSWORD_RESET",email:f};g&&Fa(b,T,g),yield al(b,T)})).apply(this,arguments)}function xc(){return(xc=(0,c.Z)(function*(y,f,g){yield Vn((0,P.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(y,f){yield ds((0,P.m9)(y),{oobCode:f})})).apply(this,arguments)}function Ft(y,f){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y),b=yield Vn(g,{oobCode:f}),T=b.requestType;switch(ne(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(b.mfaInfo,g,"internal-error");default:ne(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=pt._fromServerResponse(Oe(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,f){const{data:g}=yield Ft((0,P.m9)(y),f);return g.email})).apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(y,f,g){const b=Oe(y),T=yield fl(b,{returnSecureToken:!0,email:f,password:g}),R=yield yi._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function gd(){return(gd=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y),T={requestType:"EMAIL_SIGNIN",email:f};ne(g.handleCodeInApp,b,"argument-error"),g&&Fa(b,T,g),yield Gi(b,T)})).apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y),T=Sc.credentialWithLink(f,g||Dt());return ne(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Bn(b,T)})).apply(this,arguments)}function vi(y,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:createAuthUri",Yt(y,f))})).apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(y,f){const b={identifier:f,continueUri:Kt()?Dt():"http://localhost"},{signinMethods:T}=yield vi((0,P.m9)(y),b);return T||[]})).apply(this,arguments)}function Fc(){return(Fc=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Fa(g.auth,T,f);const{email:R}=yield _i(g.auth,T);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Cl(){return(Cl=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Fa(b.auth,R,g);const{email:q}=yield Cc(b.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Lc(y,f){return La.apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,P.m9)(y),R={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},q=yield pi(b,Lc(b.auth,R));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const se=b.providerData.find(({providerId:Fe})=>"password"===Fe);se&&(se.displayName=b.displayName,se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)})).apply(this,arguments)}function Hc(y,f,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(y,f,g){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const q=yield pi(y,xt(b,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class yo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class vd extends yo{constructor(f,g,b,T){super(f,g,b),this.username=T}}class bd extends yo{constructor(f,g){super(f,"facebook.com",g)}}class vo extends vd{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Gs extends yo{constructor(f,g){super(f,"google.com",g)}}class Uc extends vd{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Pi(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function yd(y){var f,g;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const q=null===(g=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new yo(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new bd(R,T);case"github.com":return new vo(R,T);case"google.com":return new Gs(R,T);case"twitter.com":return new Uc(R,T,y.screenName||null);case"custom":case"anonymous":return new yo(R,null);default:return new yo(R,b,T)}}(g)}class _s{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new _s("enroll",f)}static _fromMfaPendingCredential(f){return new _s("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return _s._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return _s._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Va{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Oe(f),T=g.customData._serverResponse,R=(T.mfaInfo||[]).map(se=>pt._fromServerResponse(b,se));ne(T.mfaPendingCredential,b,"internal-error");const q=_s._fromMfaPendingCredential(T.mfaPendingCredential);return new Va(q,R,function(){var se=(0,c.Z)(function*(Fe){const Qe=yield Fe._process(b,q);delete T.mfaInfo,delete T.mfaPendingCredential;const mt=Object.assign(Object.assign({},T),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const st=yield yi._fromIdTokenResponse(b,g.operationType,mt);return yield b._updateCurrentUser(st.user),st;case"reauthenticate":return ne(g.user,b,"internal-error"),yi._forOperation(g.user,g.operationType,mt);default:Se(b,"internal-error")}});return function(Fe){return se.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Kn(y,f){return jt(y,"POST","/v2/accounts/mfaEnrollment:start",Yt(y,f))}class ys{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>pt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new ys(f)}getSession(){var f=this;return(0,c.Z)(function*(){return _s._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const T=f,R=yield b.getSession(),q=yield pi(b.user,T._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield g.user.getIdToken(),R=yield pi(g.user,function em(y,f){return jt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(y,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==b),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Qo=new WeakMap,zc="__sak";class Xr{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const sn=(()=>{class y extends Xr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $c(){const y=(0,P.z$)();return $t(y)||li(y)}()&&function ni(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=us(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),R=this.localCache[b];T!==R&&g(b,R,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((se,Fe,Qe)=>{this.notifyListeners(se,Qe)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(T);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const R=()=>{const se=this.storage.getItem(T);!b&&this.localCache[T]===se||this.notifyListeners(T,se)},q=this.storage.getItem(T);!function xa(){return(0,P.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,R=this;return(0,c.Z)(function*(){yield T().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,c.Z)(function*(){const R=yield b().call(T,g);return T.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,T=this;return(0,c.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Wi=(()=>{class y extends Xr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let kn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const T=g,{eventId:R,eventType:q,data:se}=T.data,Fe=b.handlersMap[q];if(!(null==Fe?void 0:Fe.size))return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const Qe=Array.from(Fe).map(function(){var st=(0,c.Z)(function*(Pn){return Pn(T.origin,se)});return function(Pn){return st.apply(this,arguments)}}()),mt=yield function Yn(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(Qe);T.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:mt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Xo(y="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return y+g}class Sd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var T=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,se;return new Promise((Fe,Qe)=>{const mt=Xo("",20);R.port1.start();const st=setTimeout(()=>{Qe(new Error("unsupported_event"))},b);se={messageChannel:R,onMessage(Pn){const Ur=Pn;if(Ur.data.eventId===mt)switch(Ur.data.status){case"ack":clearTimeout(st),q=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Fe(Ur.data.response);break;default:clearTimeout(st),clearTimeout(q),Qe(new Error("invalid_response"))}}},T.handlers.add(se),R.port1.addEventListener("message",se.onMessage),T.target.postMessage({eventType:f,eventId:mt,data:g},[R.port2])}).finally(()=>{se&&T.removeMessageHandler(se)})})()}}function on(){return window}function ii(){return void 0!==on().WorkerGlobalScope&&"function"==typeof on().importScripts}function Jr(){return(Jr=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ba="firebaseLocalStorageDb",$s="firebaseLocalStorage",Jo="fbase_key";class ri{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function bi(y,f){return y.transaction([$s],f?"readwrite":"readonly").objectStore($s)}function bo(){const y=indexedDB.open(Ba,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore($s,{keyPath:Jo})}catch(T){g(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains($s)?f(b):(b.close(),yield function Lr(){const y=indexedDB.deleteDatabase(Ba);return new ri(y).toPromise()}(),f(yield bo()))}))})}function _e(y,f,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(y,f,g){const b=bi(y,!0).put({[Jo]:f,value:g});return new ri(b).toPromise()})).apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(y,f){const g=bi(y,!1).get(f),b=yield new ri(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function St(y,f){const g=bi(y,!0).delete(f);return new ri(g).toPromise()}const Dr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield bo()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(T++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return ii()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=kn._getInstance(function Td(){return ii()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(T,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(T,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function Qn(){return Jr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Sd(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Jt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield bo();return yield _e(g,zc,"1"),yield St(g,zc),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(R=>_e(R,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=yield b._withRetries(R=>function ea(y,f){return Cr.apply(this,arguments)}(R,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(T=>St(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(q=>{const se=bi(q,!1).getAll();return new ri(se).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:q,value:se}of b)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(se)&&(g.notifyListeners(q,se),T.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),T.push(q));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function It(y,f){return jt(y,"POST","/v2/accounts/mfaSignIn:start",Yt(y,f))}function Ki(){return(Ki=(0,c.Z)(function*(y){return(yield jt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ws(y){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=T=>{const R=ve("internal-error");R.customData=T,g(R)},b.type="text/javascript",b.charset="UTF-8",function Ad(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Tl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const un=1e12;class Al{constructor(f){this.auth=f,this.counter=un,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Xn(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||un;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||un))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||un))||void 0===b||b.execute(),""})()}}class Xn{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;ne(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fr(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ml=Tl("rcb"),nm=new ln(3e4,6e4);class im{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!on().grecaptcha}load(f,g=""){return ne(function k_(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(on().grecaptcha):new Promise((b,T)=>{const R=on().setTimeout(()=>{T(ve(f,"network-request-failed"))},nm.get());on()[Ml]=()=>{on().clearTimeout(R),delete on()[Ml];const se=on().grecaptcha;if(!se)return void T(ve(f,"internal-error"));const Fe=se.render;se.render=(Qe,mt)=>{const st=Fe(Qe,mt);return this.counter++,st},this.hostLanguage=g,b(se)},Ws(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ml,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),T(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!on().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gf{load(f){return(0,c.Z)(function*(){return new Al(f)})()}clearedOneInstance(){}}const xl="recaptcha",kl={theme:"light",type:"image"};class _f{constructor(f,g=Object.assign({},kl),b){this.parameters=g,this.type=xl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(b),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;ne(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gf:new im,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const q=se=>{!se||(f.tokenChangeListeners.delete(q),R(se))};f.tokenChangeListeners.add(q),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=on()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){ne(Kt()&&!ii(),f.auth,"internal-error"),yield function Yi(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Sl(y){return Ki.apply(this,arguments)}(f.auth);ne(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vs{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=$o._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Dn(){return(Dn=(0,c.Z)(function*(y,f,g){const b=Oe(y),T=yield wi(b,f,(0,P.m9)(g));return new vs(T,R=>Bn(b,R))})).apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y);yield Ls(!1,b,"phone");const T=yield wi(b.auth,f,(0,P.m9)(g));return new vs(T,R=>Nr(b,R))})).apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y),T=yield wi(b.auth,f,(0,P.m9)(g));return new vs(T,R=>Vs(b,R))})).apply(this,arguments)}function wi(y,f,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(y,f,g){var b;const T=yield g.verify();try{let R;if(ne("string"==typeof T,y,"argument-error"),ne(g.type===xl,y,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const q=R.session;if("phoneNumber"in R)return ne("enroll"===q.type,y,"internal-error"),(yield Kn(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ne("signin"===q.type,y,"internal-error");const se=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return ne(se,y,"missing-multi-factor-info"),(yield It(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Kp(y,{phoneNumber:R.phoneNumber,recaptchaToken:T});return q}}finally{g._reset()}})).apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(y,f){yield yn((0,P.m9)(y),f)})).apply(this,arguments)}let Ei=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Oe(g)}verifyPhoneNumber(g,b){return wi(this.auth,g,(0,P.m9)(b))}static credential(g,b){return $o._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?$o._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Vr(y,f){return f?oe(f):(ne(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Eo extends tn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Zn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Zn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Zn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Pl(y){return go(y.auth,new Eo(y),y.bypassAuthState)}function xd(y){const{auth:f,user:g}=y;return ne(g,f,"internal-error"),md(g,new Eo(y),y.bypassAuthState)}function Wc(y){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return ne(g,f,"internal-error"),yn(g,new Eo(y),y.bypassAuthState)})).apply(this,arguments)}class Ni{constructor(f,g,b,T,R=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:R,tenantId:q,error:se,type:Fe}=f;if(se)return void g.reject(se);const Qe={auth:g.auth,requestUri:b,sessionId:T,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(Qe))}catch(mt){g.reject(mt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pl;case"linkViaPopup":case"linkViaRedirect":return Wc;case"reauthViaPopup":case"reauthViaRedirect":return xd;default:Se(this.auth,"internal-error")}}resolve(f){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nl=new ln(2e3,1e4);function kd(){return(kd=(0,c.Z)(function*(y,f,g){const b=Oe(y);Ue(y,f,Ns);const T=Vr(b,g);return new bs(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y);Ue(b.auth,f,Ns);const T=Vr(b.auth,g);return new bs(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y);Ue(b.auth,f,Ns);const T=Vr(b.auth,g);return new bs(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let bs=(()=>{class y extends Ni{constructor(g,b,T,R,q){super(g,b,R,q),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return ne(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){re(1===g.filter.length,"Popup operations only handle one event");const b=Xo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Nl.get())};g()}}return y.currentPopupAction=null,y})();const Fi=new Map;class Od extends Ni{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Fi.get(g.auth._key());if(!b){try{const R=(yield function Do(y,f){return Kc.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(R)}catch(T){b=()=>Promise.reject(T)}Fi.set(g.auth._key(),b)}return g.bypassAuthState||Fi.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Kc(){return(Kc=(0,c.Z)(function*(y,f){const g=I(f),b=D(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function Io(y,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(y,f){return D(y)._set(I(f),"true")})).apply(this,arguments)}function D(y){return oe(y._redirectPersistence)}function I(y){return he("pendingRedirect",y.config.apiKey,y.name)}function Z(){return(Z=(0,c.Z)(function*(y,f,g){const b=Oe(y);Ue(y,f,Ns);const T=Vr(b,g);return yield Io(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y);Ue(b.auth,f,Ns);const T=Vr(b.auth,g);yield Io(T,b.auth);const R=yield On(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(y,f,g){const b=(0,P.m9)(y);Ue(b.auth,f,Ns);const T=Vr(b.auth,g);yield Ls(!1,b,f.providerId),yield Io(T,b.auth);const R=yield On(b);return T._openRedirect(b.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(y,f){return yield Oe(y)._initializationPromise,In(y,f,!1)})).apply(this,arguments)}function In(y,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(y,f,g=!1){const b=Oe(y),T=Vr(b,f),q=yield new Od(b,T,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,f)),q})).apply(this,arguments)}function On(y){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(y){const f=Xo(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class es{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function vf(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rm(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!rm(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(So(f))}saveEventToCache(f){this.cachedEventUids.add(So(f)),this.lastProcessedEventTime=Date.now()}}function So(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function rm({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Pd(y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(y,f={}){return jt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Nd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bf=/^https?/;function eo(){return(eo=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Pd(y);for(const g of f)try{if(Ll(g))return}catch(b){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Ll(y){const f=Dt(),{protocol:g,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===b}if(!bf.test(g))return!1;if(Nd.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const O_=new ln(3e4,6e4);function Fd(){const y=on().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Vl=null;function P_(y){return Vl=Vl||function Ld(y){return new Promise((f,g)=>{var b,T,R;function q(){Fd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Fd(),g(ve(y,"network-request-failed"))},timeout:O_.get()})}if(null===(T=null===(b=on().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=on().gapi)||void 0===R?void 0:R.load)){const se=Tl("iframefcb");return on()[se]=()=>{gapi.load?q():g(ve(y,"network-request-failed"))},Ws(`https://apis.google.com/js/api.js?onload=${se}`).catch(Fe=>g(Fe))}q()}}).catch(f=>{throw Vl=null,f})}(y),Vl}const N_=new ln(5e3,15e3),Qc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function To(y){const f=y.config;ne(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?cn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},T=Vd.get(y.config.apiHost);T&&(b.eid=T);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function wf(){return wf=(0,c.Z)(function*(y){const f=yield P_(y),g=on().gapi;return ne(g,y,"internal-error"),f.open({where:document.body,url:To(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qc,dontclear:!0},b=>new Promise(function(){var T=(0,c.Z)(function*(R,q){yield b.restyle({setHideOnLeave:!1});const se=ve(y,"network-request-failed"),Fe=on().setTimeout(()=>{q(se)},N_.get());function Qe(){on().clearTimeout(Fe),R(b)}b.ping(Qe).then(Qe,()=>{q(se)})});return function(R,q){return T.apply(this,arguments)}}()))}),wf.apply(this,arguments)}const Xc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Hd(y,f,g,b,T,R){ne(y.config.authDomain,y,"auth-domain-config-required"),ne(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ae.SDK_VERSION,eventId:T};if(f instanceof Ns){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fe,Qe]of Object.entries(R||{}))q[Fe]=Qe}if(f instanceof cr){const Fe=f.getScopes().filter(Qe=>""!==Qe);Fe.length>0&&(q.scopes=Fe.join(","))}y.tenantId&&(q.tid=y.tenantId);const se=q;for(const Fe of Object.keys(se))void 0===se[Fe]&&delete se[Fe];return`${function eu({config:y}){return y.emulator?cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(se).slice(1)}`}const Ir="webStorageSupport";class Ud extends class am{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ud(f)}_finalizeEnroll(f,g,b){return function Ed(y,f){return jt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(y,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function wo(y,f){return jt(y,"POST","/v2/accounts/mfaSignIn:finalize",Yt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nu=(()=>{class y{constructor(){}static assertion(g){return Ud._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var jd="@firebase/auth",Gd="0.19.12";class zd{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ua(){return window}function Ao(){return(Ao=(0,c.Z)(function*(y,f,g){var b;const{BuildInfo:T}=Ua();re(f.sessionId,"AuthEvent did not contain a session ID");const R=yield Sf(f.sessionId),q={};return li()?q.ibi=T.packageName:Mn()?q.apn=T.packageName:Se(y,"operation-not-supported-in-this-environment"),T.displayName&&(q.appDisplayName=T.displayName),q.sessionId=R,Hd(y,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,q)})).apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(y){const{BuildInfo:f}=Ua(),g={};li()?g.iosBundleId=f.packageName:Mn()?g.androidPackageName=f.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Pd(y,g)})).apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(y,f,g){const{cordova:b}=Ua();let T=()=>{};try{yield new Promise((R,q)=>{let se=null;function Fe(){var st;R();const Pn=null===(st=b.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Pn&&Pn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Qe(){se||(se=window.setTimeout(()=>{q(ve(y,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}f.addPassiveListener(Fe),document.addEventListener("resume",Qe,!1),Mn()&&document.addEventListener("visibilitychange",mt,!1),T=()=>{f.removePassiveListener(Fe),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",mt,!1),se&&window.clearTimeout(se)}})}finally{T()}})).apply(this,arguments)}function Sf(y){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(y){const f=jl(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function jl(y){if(re(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function iu(y){(0,ae._registerComponent)(new J.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:R,authDomain:q}=b.options;return((se,Fe)=>{ne(R&&!R.includes(":"),"invalid-api-key",{appName:se.name}),ne(!(null==q?void 0:q.includes(":")),"argument-error",{appName:se.name});const Qe={apiKey:R,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ka(y)},mt=new br(se,Fe,Qe);return function le(y,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(oe);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(mt,g),mt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new J.wA("auth-internal",f=>{const g=Oe(f.getProvider("auth").getImmediate());return new zd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(jd,Gd,function $d(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(jd,Gd,"esm2017")}("Browser");class Tf extends es{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Af(y){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(y){const f=yield Mo()._get(ws(y));return f&&(yield Mo()._remove(ws(y))),f})).apply(this,arguments)}function V_(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function Mo(){return oe(sn)}function ws(y){return he("authEvent",y.config.apiKey,y.name)}function la(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,P.zd)(g.join("?"))}function dm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function lu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function hm(y=(0,P.z$)()){return!("file:"!==lu()&&"ionic:"!==lu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Li(){try{const y=self.localStorage,f=Xo();if(y)return y.setItem(f,"1"),y.removeItem(f),!function ts(y=(0,P.z$)()){return function rw(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Zd(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return $l()&&(0,P.hl)()}return!1}function $l(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function cu(){return(function U_(){return"http:"===lu()||"https:"===lu()}()||(0,P.ru)()||hm())&&!function j_(){return(0,P.b$)()||(0,P.UG)()}()&&Li()&&!$l()}function ca(){return hm()&&"undefined"!=typeof document}function Ga(){return(Ga=(0,c.Z)(function*(){return!!ca()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Hr={LOCAL:"local",NONE:"none",SESSION:"session"},ql=ne,Yd="persistence";function Wl(y){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Xd(),g=he(Yd,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function Xd(){var y;try{return(null===(y=function Kd(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const G_=ne;class no{constructor(){this.browserResolver=oe(class Ha{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wi,this._completeRedirectFn=In}_openPopup(f,g,b,T){var R=this;return(0,c.Z)(function*(){var q;re(null===(q=R.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const se=Hd(f,g,b,Dt(),T);return function oa(y,f,g,b=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let se="";const Fe=Object.assign(Object.assign({},Xc),{width:b.toString(),height:T.toString(),top:R,left:q}),Qe=(0,P.z$)().toLowerCase();g&&(se=xi(Qe)?"_blank":g),vt(Qe)&&(f=f||"http://localhost",Fe.scrollbars="yes");const mt=Object.entries(Fe).reduce((Pn,[Ur,xo])=>`${Pn}${Ur}=${xo},`,"");if(function ol(y=(0,P.z$)()){var f;return li(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Qe)&&"_self"!==se)return function Jc(y,f){const g=document.createElement("a");g.href=y,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",se),new Bl(null);const st=window.open(f||"",se,mt);ne(st,y,"popup-blocked");try{st.focus()}catch(Pn){}return new Bl(st)}(f,se,Xo())})()}_openRedirect(f,g,b,T){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(f),function Zi(y){on().location.href=y}(Hd(f,g,b,Dt(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:R}=this.eventManagers[g];return T?Promise.resolve(T):(re(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function F_(y){return wf.apply(this,arguments)}(f),T=new es(f);return b.register("authEvent",R=>(ne(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ir,{type:Ir},T=>{var R;const q=null===(R=null==T?void 0:T[0])||void 0===R?void 0:R[Ir];void 0!==q&&g(!!q),Se(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function R_(y){return eo.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return us()||$t()||li()}}),this.cordovaResolver=oe(class Sn{constructor(){this._redirectPersistence=Wi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=In}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let T=g.eventManagers.get(b);return T||(T=new Tf(f),g.eventManagers.set(b,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){Se(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,T){var R=this;return(0,c.Z)(function*(){!function If(y){var f,g,b,T,R,q,se,Fe,Qe,mt;const st=Ua();ne("function"==typeof(null===(f=null==st?void 0:st.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(g=null==st?void 0:st.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(R=null===(T=null===(b=null==st?void 0:st.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Fe=null===(se=null===(q=null==st?void 0:st.cordova)||void 0===q?void 0:q.plugins)||void 0===se?void 0:se.browsertab)||void 0===Fe?void 0:Fe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(mt=null===(Qe=null==st?void 0:st.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===mt?void 0:mt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield R._initialize(f);yield q.initialized(),q.resetRedirect(),function ra(){Fi.clear()}(),yield R._originValidation(f);const se=function su(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:V_(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(f,b,T);yield function ou(y,f){return Mo()._set(ws(y),f)}(f,se);const Fe=yield function qd(y,f,g){return Ao.apply(this,arguments)}(f,se,g),Qe=yield function Hl(y){const{cordova:f}=Ua();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function ho(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Fe);return function cm(y,f,g){return aa.apply(this,arguments)}(f,q,Qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Df(y){return Br.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:R}=Ua(),q=setTimeout((0,c.Z)(function*(){yield Af(f),g.onEvent(dm())}),500),se=function(){var mt=(0,c.Z)(function*(st){clearTimeout(q);const Pn=yield Af(f);let Ur=null;Pn&&(null==st?void 0:st.url)&&(Ur=function um(y,f){var g,b;const T=function ja(y){const f=la(y),g=f.link?decodeURIComponent(f.link):void 0,b=la(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return la(T).link||T||b||g||y}(f);if(T.includes("/__/auth/callback")){const R=la(T),q=R.firebaseError?function au(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(R.firebaseError)):null,se=null===(b=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Fe=se?ve(se):null;return Fe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Pn,st.url)),g.onEvent(Ur||dm())});return function(Pn){return mt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,se);const Fe=T,Qe=`${R.packageName.toLowerCase()}://`;Ua().handleOpenURL=function(){var mt=(0,c.Z)(function*(st){if(st.toLowerCase().startsWith(Qe)&&se({url:st}),"function"==typeof Fe)try{Fe(st)}catch(Pn){console.error(Pn)}});return function(st){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Wi,this._completeRedirectFn=In}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,T){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,b,T)})()}_openRedirect(f,g,b,T){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,b,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ca()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return G_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function er(){return Ga.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function fm(y){return y.unwrap()}function za(y){return th(y)}function th(y){const{_tokenResponse:f}=y instanceof P.ZR?y.customData:y;if(!f)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ei.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Oa;break;case"facebook.com":b=po;break;case"github.com":b=fd;break;case"twitter.com":b=hl;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:se,nonce:Fe}=f;return R||q||T||se?se?g.startsWith("saml.")?zi._create(g,se):ps._fromParams({providerId:g,signInMethod:g,pendingToken:se,idToken:T,accessToken:R}):new qo(g).credential({idToken:T,accessToken:R,rawNonce:Fe}):null}return y instanceof P.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Di(y,f){return f.catch(g=>{throw g instanceof P.ZR&&function eh(y,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new z_(y,function Dl(y,f){var g;const b=(0,P.m9)(y),T=f;return ne(f.customData.operationType,b,"argument-error"),ne(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Va._fromError(b,T)}(y,f));else if(b){const T=th(f),R=f;T&&(R.credential=T,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:za(g),additionalUserInfo:Pi(g),user:pn.getOrCreate(T)}})}function $a(y,f){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Di(y,g.confirm(b))}})).apply(this,arguments)}class z_{constructor(f,g){this.resolver=g,this.auth=function Jd(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Di(fm(this.auth),this.resolver.resolveSignIn(f))}}class pn{constructor(f){this._delegate=f,this.multiFactor=function Cd(y){const f=(0,P.m9)(y);return Qo.has(f)||Qo.set(f,ys._fromUser(f)),Qo.get(f)}(f)}static getOrCreate(f){return pn.USER_MAP.has(f)||pn.USER_MAP.set(f,new pn(f)),pn.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Di(g.auth,Nr(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return $a(b.auth,function Rl(y,f,g){return Ks.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Di(g.auth,function Rd(y,f,g){return Zc.apply(this,arguments)}(g._delegate,f,no))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Wl(Oe(g.auth)),function tt(y,f,g){return function bt(y,f,g){return Bt.apply(this,arguments)}(y,f,g)}(g._delegate,f,no)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Di(g.auth,Vs(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return $a(this.auth,function yf(y,f,g){return Ol.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Di(this.auth,function Co(y,f,g){return ia.apply(this,arguments)}(this._delegate,f,no))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Wl(Oe(g.auth)),function te(y,f,g){return function xe(y,f,g){return Ke.apply(this,arguments)}(y,f,g)}(g._delegate,f,no)})()}sendEmailVerification(f){return function Fr(y,f){return Fc.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Pa(y,f){return Mc.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Bc(y,f){return Hc((0,P.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function _d(y,f){return Hc((0,P.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Md(y,f){return Ys.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Yo(y,f){return Vc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function El(y,f,g){return Cl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pn.USER_MAP=new WeakMap;const Zl=ne;let kf=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Zl(T,"invalid-api-key",{appName:g.name}),Zl(T,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?no:void 0;this._delegate=b.initialize({options:{persistence:$_(T,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function fn(y,f,g){const b=Oe(y);ne(b._canInitEmulator,b,"emulator-config-failed"),ne(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),R=gi(f),{host:q,port:se}=function xs(y){const f=gi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const R=T[1];return{host:R,port:Wn(b.substr(R.length+1))}}{const[R,q]=b.split(":");return{host:R,port:Wn(q)}}}(f);b.config.emulator={url:`${R}//${q}${null===se?"":`:${se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:se,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Qr(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function kc(y,f){return Ee.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ft(this._delegate,g)}confirmPasswordReset(g,b){return function vl(y,f,g){return xc.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,c.Z)(function*(){return Di(T._delegate,function Ko(y,f,g){return dr.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function wl(y,f){return js.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Nc(y,f){const g=fo.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Zl(cu(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Tt(y,f){return Hn.apply(this,arguments)}(g._delegate,no);return b?Di(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function B_(y,f){Oe(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:R,error:q,complete:se}=pm(g,b,T);return this._delegate.onAuthStateChanged(R,q,se)}onIdTokenChanged(g,b,T){const{next:R,error:q,complete:se}=pm(g,b,T);return this._delegate.onIdTokenChanged(R,q,se)}sendSignInLinkToEmail(g,b){return function Pc(y,f,g){return gd.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function _l(y,f,g){return yl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let T;switch(function Mf(y,f){ql(Object.values(Hr).includes(f),y,"invalid-persistence-type"),(0,P.b$)()?ql(f!==Hr.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?ql(f===Hr.NONE,y,"unsupported-persistence-type"):$l()?ql(f===Hr.NONE||f===Hr.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):ql(f===Hr.NONE||Li(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Hr.SESSION:T=Wi;break;case Hr.LOCAL:T=(yield oe(Dr)._isAvailable())?Dr:sn;break;case Hr.NONE:T=$;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Di(this._delegate,function pl(y){return pd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Di(this._delegate,Bn(this._delegate,g))}signInWithCustomToken(g){return Di(this._delegate,function Bs(y,f){return Hs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Di(this._delegate,function Oc(y,f,g){return Bn((0,P.m9)(y),Sc.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Di(this._delegate,function bl(y,f,g){return Us.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return $a(this._delegate,function Qi(y,f,g){return Dn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return Zl(cu(),b._delegate,"operation-not-supported-in-this-environment"),Di(b._delegate,function Qs(y,f,g){return kd.apply(this,arguments)}(b._delegate,g,no))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return Zl(cu(),b._delegate,"operation-not-supported-in-this-environment"),yield Wl(b._delegate),function k(y,f,g){return function L(y,f,g){return Z.apply(this,arguments)}(y,f,g)}(b._delegate,g,no)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function En(y,f){return Zo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Hr,y})();function pm(y,f,g){let b=y;"function"!=typeof y&&({next:b,error:f,complete:g}=y);const T=b;return{next:q=>T(q&&pn.getOrCreate(q)),error:f,complete:g}}function $_(y,f){const g=function xf(y,f){const g=Xd();if(!g)return[];const b=he(Yd,y,f);switch(g.getItem(b)){case Hr.NONE:return[$];case Hr.LOCAL:return[Dr,Wi];case Hr.SESSION:return[Wi];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(Dr)&&g.push(Dr),"undefined"!=typeof window)for(const b of[sn,Wi])g.includes(b)||g.push(b);return g.includes($)||g.push($),g}class Rf{constructor(){this.providerId="phone",this._delegate=new Ei(fm(Y.Z.auth()))}static credential(f,g){return Ei.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Rf.PHONE_SIGN_IN_METHOD=Ei.PHONE_SIGN_IN_METHOD,Rf.PROVIDER_ID=Ei.PROVIDER_ID;const mm=ne;class gm{constructor(f,g,b=Y.Z.app()){var T;mm(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new _f(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function nh(y){y.INTERNAL.registerComponent(new J.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new kf(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Sc,FacebookAuthProvider:po,GithubAuthProvider:fd,GoogleAuthProvider:Oa,OAuthProvider:qo,SAMLAuthProvider:wr,PhoneAuthProvider:Rf,PhoneMultiFactorGenerator:nu,RecaptchaVerifier:gm,TwitterAuthProvider:hl,Auth:kf,AuthCredential:tn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(Y.Z)},8306:(rt,Ce,O)=>{O.d(Ce,{y:()=>G});var c=O(930),Y=O(727),P=O(8822),ae=O(4671);var J=O(2416),fe=O(576),de=O(2806);let G=(()=>{class Ae{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const me=new Ae;return me.source=this,me.operator=Le,me}subscribe(Le,me,we){const et=function $e(Ae){return Ae&&Ae instanceof c.Lv||function X(Ae){return Ae&&(0,fe.m)(Ae.next)&&(0,fe.m)(Ae.error)&&(0,fe.m)(Ae.complete)}(Ae)&&(0,Y.Nn)(Ae)}(Le)?Le:new c.Hp(Le,me,we);return(0,de.x)(()=>{const{operator:We,source:Se}=this;et.add(We?We.call(et,Se):Se?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(Le){try{return this._subscribe(Le)}catch(me){Le.error(me)}}forEach(Le,me){return new(me=j(me))((we,et)=>{const We=new c.Hp({next:Se=>{try{Le(Se)}catch(ve){et(ve),We.unsubscribe()}},error:et,complete:we});this.subscribe(We)})}_subscribe(Le){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Le)}[P.L](){return this}pipe(...Le){return function pe(Ae){return 0===Ae.length?ae.y:1===Ae.length?Ae[0]:function(Le){return Ae.reduce((me,we)=>we(me),Le)}}(Le)(this)}toPromise(Le){return new(Le=j(Le))((me,we)=>{let et;this.subscribe(We=>et=We,We=>we(We),()=>me(et))})}}return Ae.create=Re=>new Ae(Re),Ae})();function j(Ae){var Re;return null!==(Re=null!=Ae?Ae:J.v.Promise)&&void 0!==Re?Re:Promise}},7579:(rt,Ce,O)=>{O.d(Ce,{x:()=>J});var c=O(8306),Y=O(727);const ae=(0,O(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=O(8737),pe=O(2806);let J=(()=>{class de extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const X=new fe(this,this);return X.operator=j,X}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(j)}})}error(j){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:X}=this;for(;X.length;)X.shift().error(j)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:X,isStopped:$e,observers:Ae}=this;return X||$e?Y.Lc:(this.currentObservers=null,Ae.push(j),new Y.w0(()=>{this.currentObservers=null,(0,ee.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:X,thrownError:$e,isStopped:Ae}=this;X?j.error($e):Ae&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return de.create=(G,j)=>new fe(G,j),de})();class fe extends J{constructor(G,j){super(),this.destination=G,this.source=j}next(G){var j,X;null===(X=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===X||X.call(j,G)}error(G){var j,X;null===(X=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===X||X.call(j,G)}complete(){var G,j;null===(j=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===j||j.call(G)}_subscribe(G){var j,X;return null!==(X=null===(j=this.source)||void 0===j?void 0:j.subscribe(G))&&void 0!==X?X:Y.Lc}}},930:(rt,Ce,O)=>{O.d(Ce,{Hp:()=>Le,Lv:()=>X});var c=O(576),Y=O(727),P=O(2416),ae=O(7849),ee=O(5032);const pe=de("C",void 0,void 0);function de(Se,ve,be){return{kind:Se,value:ve,error:be}}var G=O(3410),j=O(2806);class X extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=We}static create(ve,be,Ue){return new Le(ve,be,Ue)}next(ve){this.isStopped?et(function fe(Se){return de("N",Se,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?et(function J(Se){return de("E",void 0,Se)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?et(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ae(Se,ve){return $e.call(Se,ve)}class Re{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:be}=this;if(be.next)try{be.next(ve)}catch(Ue){me(Ue)}}error(ve){const{partialObserver:be}=this;if(be.error)try{be.error(ve)}catch(Ue){me(Ue)}else me(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(be){me(be)}}}class Le extends X{constructor(ve,be,Ue){let He;if(super(),(0,c.m)(ve)||!ve)He={next:null!=ve?ve:void 0,error:null!=be?be:void 0,complete:null!=Ue?Ue:void 0};else{let ne;this&&P.v.useDeprecatedNextContext?(ne=Object.create(ve),ne.unsubscribe=()=>this.unsubscribe(),He={next:ve.next&&Ae(ve.next,ne),error:ve.error&&Ae(ve.error,ne),complete:ve.complete&&Ae(ve.complete,ne)}):He=ve}this.destination=new Re(He)}}function me(Se){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Se):(0,ae.h)(Se)}function et(Se,ve){const{onStoppedNotification:be}=P.v;be&&G.z.setTimeout(()=>be(Se,ve))}const We={closed:!0,next:ee.Z,error:function we(Se){throw Se},complete:ee.Z}},727:(rt,Ce,O)=>{O.d(Ce,{Lc:()=>pe,w0:()=>ee,Nn:()=>J});var c=O(576);const P=(0,O(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((X,$e)=>`${$e+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=O(8737);class ee{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Ae){G=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ae of $e)try{fe(Ae)}catch(Re){G=null!=G?G:[],Re instanceof P?G=[...G,...Re.errors]:G.push(Re)}}if(G)throw new P(G)}}add(G){var j;if(G&&G!==this)if(this.closed)fe(G);else{if(G instanceof ee){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(G)}}_hasParent(G){const{_parentage:j}=this;return j===G||Array.isArray(j)&&j.includes(G)}_addParent(G){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(G),j):j?[j,G]:G}_removeParent(G){const{_parentage:j}=this;j===G?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,G)}remove(G){const{_finalizers:j}=this;j&&(0,ae.P)(j,G),G instanceof ee&&G._removeParent(this)}}ee.EMPTY=(()=>{const de=new ee;return de.closed=!0,de})();const pe=ee.EMPTY;function J(de){return de instanceof ee||de&&"closed"in de&&(0,c.m)(de.remove)&&(0,c.m)(de.add)&&(0,c.m)(de.unsubscribe)}function fe(de){(0,c.m)(de)?de():de.unsubscribe()}},2416:(rt,Ce,O)=>{O.d(Ce,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,Ce,O)=>{O.d(Ce,{E:()=>Y});const Y=new(O(8306).y)(ee=>ee.complete())},8996:(rt,Ce,O)=>{O.d(Ce,{D:()=>ve});var c=O(8421),Y=O(5363),P=O(9468),pe=O(8306),fe=O(2202),de=O(576),G=O(9672);function X(be,Ue){if(!be)throw new Error("Iterable cannot be null");return new pe.y(He=>{(0,G.f)(He,Ue,()=>{const ne=be[Symbol.asyncIterator]();(0,G.f)(He,Ue,()=>{ne.next().then(W=>{W.done?He.complete():He.next(W.value)})},0,!0)})})}var $e=O(3670),Ae=O(8239),Re=O(1144),Le=O(6495),me=O(2206),we=O(4532),et=O(3260);function ve(be,Ue){return Ue?function Se(be,Ue){if(null!=be){if((0,$e.c)(be))return function ae(be,Ue){return(0,c.Xf)(be).pipe((0,P.R)(Ue),(0,Y.Q)(Ue))}(be,Ue);if((0,Re.z)(be))return function J(be,Ue){return new pe.y(He=>{let ne=0;return Ue.schedule(function(){ne===be.length?He.complete():(He.next(be[ne++]),He.closed||this.schedule())})})}(be,Ue);if((0,Ae.t)(be))return function ee(be,Ue){return(0,c.Xf)(be).pipe((0,P.R)(Ue),(0,Y.Q)(Ue))}(be,Ue);if((0,me.D)(be))return X(be,Ue);if((0,Le.T)(be))return function j(be,Ue){return new pe.y(He=>{let ne;return(0,G.f)(He,Ue,()=>{ne=be[fe.h](),(0,G.f)(He,Ue,()=>{let W,re;try{({value:W,done:re}=ne.next())}catch(ge){return void He.error(ge)}re?He.complete():He.next(W)},0,!0)}),()=>(0,de.m)(null==ne?void 0:ne.return)&&ne.return()})}(be,Ue);if((0,et.L)(be))return function We(be,Ue){return X((0,et.Q)(be),Ue)}(be,Ue)}throw(0,we.z)(be)}(be,Ue):(0,c.Xf)(be)}},8421:(rt,Ce,O)=>{O.d(Ce,{Xf:()=>$e});var c=O(655),Y=O(1144),P=O(8239),ae=O(8306),ee=O(3670),pe=O(2206),J=O(4532),fe=O(6495),de=O(3260),G=O(576),j=O(7849),X=O(8822);function $e(Se){if(Se instanceof ae.y)return Se;if(null!=Se){if((0,ee.c)(Se))return function Ae(Se){return new ae.y(ve=>{const be=Se[X.L]();if((0,G.m)(be.subscribe))return be.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,Y.z)(Se))return function Re(Se){return new ae.y(ve=>{for(let be=0;be<Se.length&&!ve.closed;be++)ve.next(Se[be]);ve.complete()})}(Se);if((0,P.t)(Se))return function Le(Se){return new ae.y(ve=>{Se.then(be=>{ve.closed||(ve.next(be),ve.complete())},be=>ve.error(be)).then(null,j.h)})}(Se);if((0,pe.D)(Se))return we(Se);if((0,fe.T)(Se))return function me(Se){return new ae.y(ve=>{for(const be of Se)if(ve.next(be),ve.closed)return;ve.complete()})}(Se);if((0,de.L)(Se))return function et(Se){return we((0,de.Q)(Se))}(Se)}throw(0,J.z)(Se)}function we(Se){return new ae.y(ve=>{(function We(Se,ve){var be,Ue,He,ne;return(0,c.mG)(this,void 0,void 0,function*(){try{for(be=(0,c.KL)(Se);!(Ue=yield be.next()).done;)if(ve.next(Ue.value),ve.closed)return}catch(W){He={error:W}}finally{try{Ue&&!Ue.done&&(ne=be.return)&&(yield ne.call(be))}finally{if(He)throw He.error}}ve.complete()})})(Se,ve).catch(be=>ve.error(be))})}},6451:(rt,Ce,O)=>{O.d(Ce,{T:()=>pe});var c=O(8189),Y=O(8421),P=O(515),ae=O(3269),ee=O(8996);function pe(...J){const fe=(0,ae.yG)(J),de=(0,ae._6)(J,1/0),G=J;return G.length?1===G.length?(0,Y.Xf)(G[0]):(0,c.J)(de)((0,ee.D)(G,fe)):P.E}},5403:(rt,Ce,O)=>{O.d(Ce,{x:()=>Y});var c=O(930);function Y(ae,ee,pe,J,fe){return new P(ae,ee,pe,J,fe)}class P extends c.Lv{constructor(ee,pe,J,fe,de,G){super(ee),this.onFinalize=de,this.shouldUnsubscribe=G,this._next=pe?function(j){try{pe(j)}catch(X){ee.error(X)}}:super._next,this._error=fe?function(j){try{fe(j)}catch(X){ee.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(j){ee.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(rt,Ce,O)=>{O.d(Ce,{U:()=>P});var c=O(4482),Y=O(5403);function P(ae,ee){return(0,c.e)((pe,J)=>{let fe=0;pe.subscribe((0,Y.x)(J,de=>{J.next(ae.call(ee,de,fe++))}))})}},8189:(rt,Ce,O)=>{O.d(Ce,{J:()=>P});var c=O(5577),Y=O(4671);function P(ae=1/0){return(0,c.z)(Y.y,ae)}},5577:(rt,Ce,O)=>{O.d(Ce,{z:()=>fe});var c=O(4004),Y=O(8421),P=O(4482),ae=O(9672),ee=O(5403),J=O(576);function fe(de,G,j=1/0){return(0,J.m)(G)?fe((X,$e)=>(0,c.U)((Ae,Re)=>G(X,Ae,$e,Re))((0,Y.Xf)(de(X,$e))),j):("number"==typeof G&&(j=G),(0,P.e)((X,$e)=>function pe(de,G,j,X,$e,Ae,Re,Le){const me=[];let we=0,et=0,We=!1;const Se=()=>{We&&!me.length&&!we&&G.complete()},ve=Ue=>we<X?be(Ue):me.push(Ue),be=Ue=>{Ae&&G.next(Ue),we++;let He=!1;(0,Y.Xf)(j(Ue,et++)).subscribe((0,ee.x)(G,ne=>{null==$e||$e(ne),Ae?ve(ne):G.next(ne)},()=>{He=!0},void 0,()=>{if(He)try{for(we--;me.length&&we<X;){const ne=me.shift();Re?(0,ae.f)(G,Re,()=>be(ne)):be(ne)}Se()}catch(ne){G.error(ne)}}))};return de.subscribe((0,ee.x)(G,ve,()=>{We=!0,Se()})),()=>{null==Le||Le()}}(X,$e,de,j)))}},5363:(rt,Ce,O)=>{O.d(Ce,{Q:()=>ae});var c=O(9672),Y=O(4482),P=O(5403);function ae(ee,pe=0){return(0,Y.e)((J,fe)=>{J.subscribe((0,P.x)(fe,de=>(0,c.f)(fe,ee,()=>fe.next(de),pe),()=>(0,c.f)(fe,ee,()=>fe.complete(),pe),de=>(0,c.f)(fe,ee,()=>fe.error(de),pe)))})}},3099:(rt,Ce,O)=>{O.d(Ce,{B:()=>pe});var c=O(8996),Y=O(5698),P=O(7579),ae=O(930),ee=O(4482);function pe(fe={}){const{connector:de=(()=>new P.x),resetOnError:G=!0,resetOnComplete:j=!0,resetOnRefCountZero:X=!0}=fe;return $e=>{let Ae=null,Re=null,Le=null,me=0,we=!1,et=!1;const We=()=>{null==Re||Re.unsubscribe(),Re=null},Se=()=>{We(),Ae=Le=null,we=et=!1},ve=()=>{const be=Ae;Se(),null==be||be.unsubscribe()};return(0,ee.e)((be,Ue)=>{me++,!et&&!we&&We();const He=Le=null!=Le?Le:de();Ue.add(()=>{me--,0===me&&!et&&!we&&(Re=J(ve,X))}),He.subscribe(Ue),Ae||(Ae=new ae.Hp({next:ne=>He.next(ne),error:ne=>{et=!0,We(),Re=J(Se,G,ne),He.error(ne)},complete:()=>{we=!0,We(),Re=J(Se,j),He.complete()}}),(0,c.D)(be).subscribe(Ae))})($e)}}function J(fe,de,...G){return!0===de?(fe(),null):!1===de?null:de(...G).pipe((0,Y.q)(1)).subscribe(()=>fe())}},9468:(rt,Ce,O)=>{O.d(Ce,{R:()=>Y});var c=O(4482);function Y(P,ae=0){return(0,c.e)((ee,pe)=>{pe.add(P.schedule(()=>ee.subscribe(pe),ae))})}},5698:(rt,Ce,O)=>{O.d(Ce,{q:()=>ae});var c=O(515),Y=O(4482),P=O(5403);function ae(ee){return ee<=0?()=>c.E:(0,Y.e)((pe,J)=>{let fe=0;pe.subscribe((0,P.x)(J,de=>{++fe<=ee&&(J.next(de),ee<=fe&&J.complete())}))})}},8505:(rt,Ce,O)=>{O.d(Ce,{b:()=>ee});var c=O(576),Y=O(4482),P=O(5403),ae=O(4671);function ee(pe,J,fe){const de=(0,c.m)(pe)||J||fe?{next:pe,error:J,complete:fe}:pe;return de?(0,Y.e)((G,j)=>{var X;null===(X=de.subscribe)||void 0===X||X.call(de);let $e=!0;G.subscribe((0,P.x)(j,Ae=>{var Re;null===(Re=de.next)||void 0===Re||Re.call(de,Ae),j.next(Ae)},()=>{var Ae;$e=!1,null===(Ae=de.complete)||void 0===Ae||Ae.call(de),j.complete()},Ae=>{var Re;$e=!1,null===(Re=de.error)||void 0===Re||Re.call(de,Ae),j.error(Ae)},()=>{var Ae,Re;$e&&(null===(Ae=de.unsubscribe)||void 0===Ae||Ae.call(de)),null===(Re=de.finalize)||void 0===Re||Re.call(de)}))}):ae.y}},4408:(rt,Ce,O)=>{O.d(Ce,{o:()=>ee});var c=O(727);class Y extends c.w0{constructor(J,fe){super()}schedule(J,fe=0){return this}}const P={setInterval(pe,J,...fe){const{delegate:de}=P;return(null==de?void 0:de.setInterval)?de.setInterval(pe,J,...fe):setInterval(pe,J,...fe)},clearInterval(pe){const{delegate:J}=P;return((null==J?void 0:J.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=O(8737);class ee extends Y{constructor(J,fe){super(J,fe),this.scheduler=J,this.work=fe,this.pending=!1}schedule(J,fe=0){if(this.closed)return this;this.state=J;const de=this.id,G=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(G,de,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(G,this.id,fe),this}requestAsyncId(J,fe,de=0){return P.setInterval(J.flush.bind(J,this),de)}recycleAsyncId(J,fe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return fe;P.clearInterval(fe)}execute(J,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(J,fe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,fe){let G,de=!1;try{this.work(J)}catch(j){de=!0,G=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:J,scheduler:fe}=this,{actions:de}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=J&&(this.id=this.recycleAsyncId(fe,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,Ce,O)=>{O.d(Ce,{v:()=>P});var c=O(6063);class Y{constructor(ee,pe=Y.now){this.schedulerActionCtor=ee,this.now=pe}schedule(ee,pe=0,J){return new this.schedulerActionCtor(this,ee).schedule(J,pe)}}Y.now=c.l.now;class P extends Y{constructor(ee,pe=Y.now){super(ee,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:pe}=this;if(this._active)return void pe.push(ee);let J;this._active=!0;do{if(J=ee.execute(ee.state,ee.delay))break}while(ee=pe.shift());if(this._active=!1,J){for(;ee=pe.shift();)ee.unsubscribe();throw J}}}},4986:(rt,Ce,O)=>{O.d(Ce,{P:()=>ae,z:()=>P});var c=O(4408);const P=new(O(7565).v)(c.o),ae=P},6063:(rt,Ce,O)=>{O.d(Ce,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(rt,Ce,O)=>{O.d(Ce,{z:()=>c});const c={setTimeout(Y,P,...ae){const{delegate:ee}=c;return(null==ee?void 0:ee.setTimeout)?ee.setTimeout(Y,P,...ae):setTimeout(Y,P,...ae)},clearTimeout(Y){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(rt,Ce,O)=>{O.d(Ce,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,Ce,O)=>{O.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rt,Ce,O)=>{O.d(Ce,{_6:()=>pe,jO:()=>ae,yG:()=>ee});var c=O(576),Y=O(3532);function P(J){return J[J.length-1]}function ae(J){return(0,c.m)(P(J))?J.pop():void 0}function ee(J){return(0,Y.K)(P(J))?J.pop():void 0}function pe(J,fe){return"number"==typeof P(J)?J.pop():fe}},8737:(rt,Ce,O)=>{function c(Y,P){if(Y){const ae=Y.indexOf(P);0<=ae&&Y.splice(ae,1)}}O.d(Ce,{P:()=>c})},3888:(rt,Ce,O)=>{function c(Y){const ae=Y(ee=>{Error.call(ee),ee.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(Ce,{d:()=>c})},2806:(rt,Ce,O)=>{O.d(Ce,{O:()=>ae,x:()=>P});var c=O(2416);let Y=null;function P(ee){if(c.v.useDeprecatedSynchronousErrorHandling){const pe=!Y;if(pe&&(Y={errorThrown:!1,error:null}),ee(),pe){const{errorThrown:J,error:fe}=Y;if(Y=null,J)throw fe}}else ee()}function ae(ee){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ee)}},9672:(rt,Ce,O)=>{function c(Y,P,ae,ee=0,pe=!1){const J=P.schedule(function(){ae(),pe?Y.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(Y.add(J),!pe)return J}O.d(Ce,{f:()=>c})},4671:(rt,Ce,O)=>{function c(Y){return Y}O.d(Ce,{y:()=>c})},1144:(rt,Ce,O)=>{O.d(Ce,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(rt,Ce,O)=>{O.d(Ce,{D:()=>Y});var c=O(576);function Y(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(rt,Ce,O)=>{function c(Y){return"function"==typeof Y}O.d(Ce,{m:()=>c})},3670:(rt,Ce,O)=>{O.d(Ce,{c:()=>P});var c=O(8822),Y=O(576);function P(ae){return(0,Y.m)(ae[c.L])}},6495:(rt,Ce,O)=>{O.d(Ce,{T:()=>P});var c=O(2202),Y=O(576);function P(ae){return(0,Y.m)(null==ae?void 0:ae[c.h])}},8239:(rt,Ce,O)=>{O.d(Ce,{t:()=>Y});var c=O(576);function Y(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(rt,Ce,O)=>{O.d(Ce,{L:()=>ae,Q:()=>P});var c=O(655),Y=O(576);function P(ee){return(0,c.FC)(this,arguments,function*(){const J=ee.getReader();try{for(;;){const{value:fe,done:de}=yield(0,c.qq)(J.read());if(de)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{J.releaseLock()}})}function ae(ee){return(0,Y.m)(null==ee?void 0:ee.getReader)}},3532:(rt,Ce,O)=>{O.d(Ce,{K:()=>Y});var c=O(576);function Y(P){return P&&(0,c.m)(P.schedule)}},4482:(rt,Ce,O)=>{O.d(Ce,{e:()=>P});var c=O(576);function P(ae){return ee=>{if(function Y(ae){return(0,c.m)(null==ae?void 0:ae.lift)}(ee))return ee.lift(function(pe){try{return ae(pe,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,Ce,O)=>{function c(){}O.d(Ce,{Z:()=>c})},7849:(rt,Ce,O)=>{O.d(Ce,{h:()=>P});var c=O(2416),Y=O(3410);function P(ae){Y.z.setTimeout(()=>{const{onUnhandledError:ee}=c.v;if(!ee)throw ae;ee(ae)})}},4532:(rt,Ce,O)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>c})},655:(rt,Ce,O)=>{function ae(W,re){var ge={};for(var oe in W)Object.prototype.hasOwnProperty.call(W,oe)&&re.indexOf(oe)<0&&(ge[oe]=W[oe]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(oe=Object.getOwnPropertySymbols(W);ke<oe.length;ke++)re.indexOf(oe[ke])<0&&Object.prototype.propertyIsEnumerable.call(W,oe[ke])&&(ge[oe[ke]]=W[oe[ke]])}return ge}function fe(W,re,ge,oe){return new(ge||(ge=Promise))(function(le,Dt){function Kt(yt){try{ct(oe.next(yt))}catch(ln){Dt(ln)}}function Ln(yt){try{ct(oe.throw(yt))}catch(ln){Dt(ln)}}function ct(yt){yt.done?le(yt.value):function ke(le){return le instanceof ge?le:new ge(function(Dt){Dt(le)})}(yt.value).then(Kt,Ln)}ct((oe=oe.apply(W,re||[])).next())})}function me(W){return this instanceof me?(this.v=W,this):new me(W)}function we(W,re,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,oe=ge.apply(W,re||[]),le=[];return ke={},Dt("next"),Dt("throw"),Dt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Dt(cn){oe[cn]&&(ke[cn]=function(Pr){return new Promise(function(en,as){le.push([cn,Pr,en,as])>1||Kt(cn,Pr)})})}function Kt(cn,Pr){try{!function Ln(cn){cn.value instanceof me?Promise.resolve(cn.value.v).then(ct,yt):ln(le[0][2],cn)}(oe[cn](Pr))}catch(en){ln(le[0][3],en)}}function ct(cn){Kt("next",cn)}function yt(cn){Kt("throw",cn)}function ln(cn,Pr){cn(Pr),le.shift(),le.length&&Kt(le[0][0],le[0][1])}}function We(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,re=W[Symbol.asyncIterator];return re?re.call(W):(W=function X(W){var re="function"==typeof Symbol&&Symbol.iterator,ge=re&&W[re],oe=0;if(ge)return ge.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&oe>=W.length&&(W=void 0),{value:W&&W[oe++],done:!W}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ge={},oe("next"),oe("throw"),oe("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function oe(le){ge[le]=W[le]&&function(Dt){return new Promise(function(Kt,Ln){!function ke(le,Dt,Kt,Ln){Promise.resolve(Ln).then(function(ct){le({value:ct,done:Kt})},Dt)}(Kt,Ln,(Dt=W[le](Dt)).done,Dt.value)})}}}O.d(Ce,{FC:()=>we,KL:()=>We,_T:()=>ae,mG:()=>fe,qq:()=>me})},5e3:(rt,Ce,O)=>{O.d(Ce,{$8M:()=>Tl,$Z:()=>Ja,AFp:()=>UE,ALo:()=>vp,AaK:()=>fe,BQk:()=>ep,CHM:()=>Rc,CRH:()=>DE,CZH:()=>pb,CqO:()=>tp,DdM:()=>LI,EJc:()=>oS,EiD:()=>la,EpF:()=>h0,F$t:()=>g0,F4k:()=>f0,FYo:()=>jv,FiY:()=>Ji,G48:()=>vb,Gf:()=>CE,GfV:()=>Qh,GkF:()=>Vy,Gpc:()=>j,Gre:()=>_g,Hsn:()=>jy,Ikx:()=>ap,JOm:()=>se,JVY:()=>am,L6k:()=>Ud,LAX:()=>jd,LFG:()=>tt,Lbi:()=>Ju,MAs:()=>Qm,NdJ:()=>og,O4$:()=>wd,OlP:()=>Rn,Oqu:()=>Bh,Q6J:()=>lc,QGY:()=>By,Qsj:()=>$g,R0b:()=>rs,RDi:()=>ms,Rgc:()=>Ku,SBq:()=>qu,Suo:()=>eb,TTD:()=>po,TgZ:()=>rg,Udp:()=>rp,VLi:()=>qA,W1O:()=>Qg,X6Q:()=>_S,Xpm:()=>Nt,Y36:()=>Oh,YNc:()=>Ym,Yjl:()=>xi,Yz7:()=>en,ZZ4:()=>h_,_Bn:()=>sE,_UZ:()=>sg,_Vd:()=>zg,_c5:()=>kS,_uU:()=>tv,aQg:()=>Tb,cJS:()=>Yt,cg1:()=>Eg,dDg:()=>pS,dqk:()=>Ut,eBb:()=>nu,eFA:()=>lo,ekj:()=>Ti,f3M:()=>Bt,g9A:()=>xp,h0i:()=>gp,hGG:()=>RS,hij:()=>uc,iGM:()=>EE,ifc:()=>Gt,ip1:()=>gc,kL8:()=>Cg,kcU:()=>M_,lG2:()=>$t,lcZ:()=>Zv,mCW:()=>Ao,n5z:()=>Ad,n_E:()=>wp,oAB:()=>Q,oxw:()=>Uy,pB0:()=>Gd,q3G:()=>Tn,q4F:()=>cE,qLn:()=>Di,qOj:()=>Ty,qZA:()=>el,qzn:()=>Ha,sBO:()=>yS,sIi:()=>Wf,s_b:()=>Ep,soG:()=>i_,tp0:()=>So,uIk:()=>My,vHH:()=>Re,vpe:()=>xr,wAp:()=>ut,xp6:()=>yw,yhl:()=>tu,ynx:()=>Ph,z2F:()=>gb,z3N:()=>Ir,zSh:()=>yy,zs3:()=>pa});var c=O(7579),Y=O(727),P=O(8306),ae=O(6451),ee=O(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function J(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=pe({__forward_ref__:pe});function j(s){return s.__forward_ref__=j,s.toString=function(){return fe(this())},s}function X(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===j}class Re extends Error{constructor(o,a){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function ve(s,o){const a=o?` in ${o}`:"";throw new Re(-201,`No provider for ${we(s)} found${a}`)}function ct(s,o){null==s&&function yt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function en(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Yt(s){return{providers:s.providers||[],imports:s.imports||[]}}function jt(s){return fi(s,Kr)||fi(s,ls)}function fi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ui(s){return s&&(s.hasOwnProperty(ji)||s.hasOwnProperty(cs))?s[ji]:null}const Kr=pe({\u0275prov:pe}),ji=pe({\u0275inj:pe}),ls=pe({ngInjectableDef:pe}),cs=pe({ngInjectorDef:pe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let ar;function ti(s){const o=ar;return ar=s,o}function vr(s,o,a){const u=jt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&dt.Optional?null:void 0!==o?o:void ve(fe(s),"Injector")}function wn(s){return{toString:s}.toString()}var ai=(()=>((ai=ai||{})[ai.OnPush=0]="OnPush",ai[ai.Default=1]="Default",ai))(),Gt=(()=>{return(s=Gt||(Gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Gt;var s})();const it="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,pi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ut=it||"undefined"!=typeof global&&global||wt||pi,mi={},ht=[],Mi=pe({\u0275cmp:pe}),Lt=pe({\u0275dir:pe}),Ze=pe({\u0275pipe:pe}),De=pe({\u0275mod:pe}),Ye=pe({\u0275fac:pe}),ft=pe({__NG_ELEMENT_ID__:pe});let Vt=0;function Nt(s){return wn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Gt.Emulated,id:"c",styles:s.styles||ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return u.id+=Vt++,u.inputs=vt(s.inputs,a),u.outputs=vt(s.outputs),m&&m.forEach(w=>w(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map($):null,u})}function V(s){return zt(s)||function Mn(s){return s[Lt]||null}(s)}function $(s){return function kt(s){return s[Ze]||null}(s)}const he={};function Q(s){return wn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),o})}function vt(s,o){if(null==s)return mi;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),a[h]=u,o&&(o[h]=m)}return a}const $t=Nt;function xi(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function zt(s){return s[Mi]||null}function hn(s,o){const a=s[De]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function Gi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ki(s){return Array.isArray(s)&&!0===s[1]}function Cc(s){return 0!=(8&s.flags)}function Os(s){return 2==(2&s.flags)}function cl(s){return 1==(1&s.flags)}function lr(s){return null!==s.template}function ff(s){return 0!=(512&s[2])}function cr(s,o){return s.hasOwnProperty(Ye)?s[Ye]:null}class qo{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function po(){return Oa}function Oa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Jp),fd}function fd(){const s=Fs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===mi)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Jp(s,o,a,u){const h=Fs(s)||function wr(s,o){return s[zi]=o}(s,{previous:mi,current:null}),m=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[a],C=v[w];m[w]=new qo(C&&C.currentValue,o,v===mi),s[u]=o}po.ngInherit=!0;const zi="__ngSimpleChanges__";function Fs(s){return s[zi]||null}let Ac;function ms(s){Ac=s}function yn(s){return!!s.listen}const Wo={createRenderer:(s,o)=>function Pa(){return void 0!==Ac?Ac:"undefined"!=typeof document?document:void 0}()};function rn(s){for(;Array.isArray(s);)s=s[0];return s}function go(s,o){return rn(o[s])}function Ri(s,o){return rn(o[s.index])}function Na(s,o){return s.data[o]}function Nr(s,o){return s[o]}function Oi(s,o){const a=o[s];return Gi(a)?a:a[0]}function Vs(s){return 4==(4&s[2])}function gs(s){return 128==(128&s[2])}function ur(s,o){return null==o?null:s[o]}function Bs(s){s[18]=0}function Hs(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const pt={lFrame:yo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vl(){return pt.bindingsEnabled}function Ee(){return pt.lFrame.lView}function Ft(){return pt.lFrame.tView}function Rc(s){return pt.lFrame.contextLView=s,s[8]}function En(){let s=Zo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Zo(){return pt.lFrame.currentTNode}function dr(s,o){const a=pt.lFrame;a.currentTNode=s,a.isParent=o}function Oc(){return pt.lFrame.isParent}function Pc(){pt.lFrame.isParent=!1}function bl(){return pt.isInCheckNoChangesMode}function Us(s){pt.isInCheckNoChangesMode=s}function vi(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function js(){return pt.lFrame.bindingIndex++}function Fr(s){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Cl(s,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=s,La(o)}function La(s){pt.lFrame.currentDirectiveIndex=s}function Vc(){return pt.lFrame.currentQueryIndex}function Bc(s){pt.lFrame.currentQueryIndex=s}function _d(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Hc(s,o,a){if(a&dt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||a&dt.Host||(h=_d(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=pt.lFrame=yd();return u.currentTNode=o,u.lView=s,!0}function _o(s){const o=yd(),a=s[1];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function yd(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?yo(s):o}function yo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function vd(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const bd=vd;function vo(){const s=vd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Pi(){return pt.lFrame.selectedIndex}function zs(s){pt.lFrame.selectedIndex=s}function xn(){const s=pt.lFrame;return Na(s.tView,s.selectedIndex)}function wd(){pt.lFrame.currentNamespace="svg"}function M_(){!function jc(){pt.lFrame.currentNamespace=null}()}function _s(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const m=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:x}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Va(s,o,a){Ed(s,o,3,a)}function Dl(s,o,a,u){(3&s[2])===a&&Ed(s,o,a,u)}function Kn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ed(s,o,a,u){const m=null!=u?u:-1,v=o.length-1;let w=0;for(let C=void 0!==u?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=u&&w>=u)break}else o[C]<0&&(s[18]+=65536),(w<m||-1==m)&&(em(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function em(s,o,a,u){const h=a[u]<0,m=a[u+1],w=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Qo{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function qi(s,o,a){const u=yn(s);let h=0;for(;h<a.length;){const m=a[h];if("number"==typeof m){if(0!==m)break;h++;const v=a[h++],w=a[h++],C=a[h++];u?s.setAttribute(o,w,C,v):o.setAttributeNS(v,w,C)}else{const v=m,w=a[++h];Yn(v)?u&&s.setProperty(o,v,w):u?s.setAttribute(o,v,w):o.setAttribute(v,w),h++}}return h}function Wi(s){return 3===s||4===s||6===s}function Yn(s){return 64===s.charCodeAt(0)}function kn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Xo(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Xo(s,o,a,u,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,a),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function Sd(s){return-1!==s}function on(s){return 32767&s}function ii(s,o){let a=function Zi(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Qn=!0;function Jr(s){const o=Qn;return Qn=s,o}let Il=0;function Jo(s,o){const a=bi(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,ri(u.data,s),ri(o,null),ri(u.blueprint,null));const h=Lr(s,o),m=s.injectorIndex;if(Sd(h)){const v=on(h),w=ii(h,o),C=w[1].data;for(let A=0;A<8;A++)o[m+A]=w[v+A]|C[v+A]}return o[m+8]=h,m}function ri(s,o){s.push(0,0,0,0,0,0,0,0,o)}function bi(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Lr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(u=2===v?m.declTNode:1===v?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function bo(s,o,a){!function $s(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ft)&&(u=a[ft]),null==u&&(u=a[ft]=Il++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function hr(s,o,a){if(a&dt.Optional)return s;ve(o,"NodeInjector")}function ea(s,o,a,u){if(a&dt.Optional&&void 0===u&&(u=null),0==(a&(dt.Self|dt.Host))){const h=s[9],m=ti(void 0);try{return h?h.get(o,u,a&dt.Optional):vr(o,u,a&dt.Optional)}finally{ti(m)}}return hr(u,o,a)}function Cr(s,o,a,u=dt.Default,h){if(null!==s){const m=function It(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:qc:o}(a);if("function"==typeof m){if(!Hc(o,s,u))return u&dt.Host?hr(h,a,u):ea(o,a,u,h);try{const v=m(u);if(null!=v||u&dt.Optional)return v;ve(a)}finally{bd()}}else if("number"==typeof m){let v=null,w=bi(s,o),C=-1,A=u&dt.Host?o[16][6]:null;for((-1===w||u&dt.SkipSelf)&&(C=-1===w?Lr(s,o):o[w+8],-1!==C&&Sl(u,!1)?(v=o[1],w=on(C),o=ii(C,o)):w=-1);-1!==w;){const x=o[1];if(wo(m,w,x.data)){const N=qs(w,o,a,v,u,A);if(N!==St)return N}C=o[w+8],-1!==C&&Sl(u,o[1].data[w+8]===A)&&wo(m,w,o)?(v=x,w=on(C),o=ii(C,o)):w=-1}}}return ea(o,a,u,h)}const St={};function qc(){return new Ki(En(),Ee())}function qs(s,o,a,u,h,m){const v=o[1],w=v.data[s+8],x=qe(w,v,a,null==u?Os(w)&&Qn:u!=v&&0!=(3&w.type),h&dt.Host&&m===w);return null!==x?Dr(o,v,x,w):St}function qe(s,o,a,u,h){const m=s.providerIndexes,v=o.data,w=1048575&m,C=s.directiveStart,x=m>>20,B=h?w+x:s.directiveEnd;for(let K=u?w:w+x;K<B;K++){const ye=v[K];if(K<C&&a===ye||K>=C&&ye.type===a)return K}if(h){const K=v[C];if(K&&lr(K)&&K.type===a)return C}return null}function Dr(s,o,a,u){let h=s[a];const m=o.data;if(function Cd(s){return s instanceof Qo}(h)){const v=h;v.resolving&&function et(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${a}`)}(we(m[a]));const w=Jr(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?ti(v.injectImpl):null;Hc(s,u,dt.Default);try{h=s[a]=v.factory(void 0,m,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Gc(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const v=Oa(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,m))}(a,m[a],o)}finally{null!==C&&ti(C),Jr(w),v.resolving=!1,bd()}}return h}function wo(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Sl(s,o){return!(s&dt.Self||s&dt.Host&&o)}class Ki{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Cr(this._tNode,this._lView,o,u,a)}}function Ad(s){return wn(()=>{const o=s.prototype.constructor,a=o[Ye]||Ws(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[Ye]||Ws(h);if(m&&m!==a)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ws(s){return $e(s)?()=>{const o=Ws(X(s));return o&&o()}:cr(s)}function Tl(s){return function _e(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const m=a[h];if(Wi(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(m===o)return a[h+1];h+=2}}}return null}(En(),s)}const ta="__parameters__";function fr(s,o,a){return wn(()=>{const u=function Xn(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(C,A,x){const N=C.hasOwnProperty(ta)?C[ta]:Object.defineProperty(C,ta,{value:[]})[ta];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(v),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Rn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}function wi(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),wi(u,o)):o!==s&&o.push(u)}return o}function Xi(s,o){s.forEach(a=>Array.isArray(a)?Xi(a,o):o(a))}function Md(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ys(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ei(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Ni(s,o,a){let u=Qs(s,o);return u>=0?s[1|u]=a:(u=~u,function Pl(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Nl(s,o){const a=Qs(s,o);if(a>=0)return s[1|a]}function Qs(s,o){return function Co(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const m=u+(h-u>>1),v=s[m<<a];if(o===v)return m<<a;v>o?h=m:u=m+1}return~(h<<a)}(s,o,1)}const Io={},Xs="__NG_DI_FLAG__",ra="ngTempTokenPath",I=/\n/gm,L="__source",Z=pe({provide:String,useValue:pe});let te;function xe(s){const o=te;return te=s,o}function Ke(s,o=dt.Default){if(void 0===te)throw new Re(203,"");return null===te?vr(s,void 0,o):te.get(s,o&dt.Optional?null:void 0,o)}function tt(s,o=dt.Default){return(function oi(){return ar}()||Ke)(X(s),o)}const Bt=tt;function Tt(s){const o=[];for(let a=0;a<s.length;a++){const u=X(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Re(900,"");let h,m=dt.Default;for(let v=0;v<u.length;v++){const w=u[v],C=In(w);"number"==typeof C?-1===C?h=w.token:m|=C:h=w}o.push(tt(h,m))}else o.push(tt(u))}return o}function Hn(s,o){return s[Xs]=o,s.prototype[Xs]=o,s}function In(s){return s[Xs]}const Ji=Hn(fr("Optional"),8),So=Hn(fr("SkipSelf"),4);let Qc;function To(s){var o;return(null===(o=function Vd(){if(void 0===Qc&&(Qc=null,Ut.trustedTypes))try{Qc=Ut.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Qc}())||void 0===o?void 0:o.createHTML(s))||s}class oa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jc extends oa{getTypeName(){return"HTML"}}class om extends oa{getTypeName(){return"Style"}}class pr extends oa{getTypeName(){return"Script"}}class Hd extends oa{getTypeName(){return"URL"}}class eu extends oa{getTypeName(){return"ResourceURL"}}function Ir(s){return s instanceof oa?s.changingThisBreaksApplicationSecurity:s}function Ha(s,o){const a=tu(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function tu(s){return s instanceof oa&&s.getTypeName()||null}function am(s){return new Jc(s)}function Ud(s){return new om(s)}function nu(s){return new pr(s)}function jd(s){return new Hd(s)}function Gd(s){return new eu(s)}class $d{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(To(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class iu{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=To(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=To(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ua=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ao(s){return(s=String(s)).match(Ua)||s.match(qd)?s:"unsafe:"+s}function Br(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Hl(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const cm=Br("area,br,col,hr,img,wbr"),aa=Br("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),If=Br("rp,rt"),ru=Hl(cm,Hl(aa,Br("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hl(If,Br("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hl(If,aa)),Tf=Br("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),su=Br("srcset"),to=Hl(Tf,su,Br("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Br("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),um=Br("script,style,template");class V_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!ru.hasOwnProperty(a))return this.sanitizedSomething=!0,!um.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),v=m.name,w=v.toLowerCase();if(!to.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=m.value;Tf[w]&&(C=Ao(C)),su[w]&&(s=C,C=(s=String(s)).split(",").map(o=>Ao(o.trim())).join(", ")),this.buf.push(" ",v,'="',au(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();ru.hasOwnProperty(a)&&!cm.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(au(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Mo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ws=/([^\#-~ |!])/g;function au(s){return s.replace(/&/g,"&amp;").replace(Mo,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ws,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ja;function la(s,o){let a=null;try{ja=ja||function zd(s){const o=new iu(s);return function L_(){try{return!!(new window.DOMParser).parseFromString(To(""),"text/html")}catch(s){return!1}}()?new $d(o):o}(s);let u=o?String(o):"";a=ja.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=a.innerHTML,a=ja.getInertBodyElement(u)}while(u!==m);return To((new V_).sanitizeChildren(Wd(a)||a))}finally{if(a){const u=Wd(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Wd(s){return"content"in s&&function Sn(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();const ca="__ngContext__";function er(s,o){s[ca]=o}function Kd(s){const o=function Ga(s){return s[ca]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function za(s){return s.ngOriginalError}function th(s,...o){s.error(...o)}class Di{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function eh(s){return s&&s.ngErrorLogger||th}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&za(o);for(;a&&za(a);)a=za(a);return a||null}}const gm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ut))();function g(s){return s instanceof Function?s():s}var se=(()=>((se=se||{})[se.Important=1]="Important",se[se.DashCase=2]="DashCase",se))();function Qe(s,o){return undefined(s,o)}function Pn(s){const o=s[3];return ki(o)?o[3]:o}function uu(s){return du(s[13])}function Kl(s){return du(s[4])}function du(s){for(;null!==s&&!ki(s);)s=s[4];return s}function ko(s,o,a,u,h){if(null!=u){let m,v=!1;ki(u)?m=u:Gi(u)&&(v=!0,u=u[0]);const w=rn(u);0===s&&null!==a?null==h?lw(o,a,w):Yl(o,a,w,h||null,!0):1===s&&null!==a?Yl(o,a,w,h||null,!0):2===s?function At(s,o,a){const u=Nf(s,o);u&&function ED(s,o,a,u){yn(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,w,v):3===s&&o.destroyNode(w),null!=m&&function tr(s,o,a,u,h){const m=a[7];m!==rn(a)&&ko(o,s,u,m,h);for(let w=10;w<a.length;w++){const C=a[w];je(C[1],C,s,o,u,m)}}(o,s,m,a,h)}}function io(s,o,a){if(yn(s))return s.createElement(o,a);{const u=null!==a?function Tc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function q_(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Hs(h,-1)),a.splice(u,1)}function wm(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&q_(h,u),o>0&&(s[a-1][4]=u[4]);const m=Ys(s,10+o);!function ym(s,o){je(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=m[19];null!==v&&v.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function hu(s,o){if(!(256&o[2])){const a=o[11];yn(a)&&a.destroyNode&&je(s,o,a,3,null,null),function sw(s){let o=s[13];if(!o)return W_(s[1],s);for(;o;){let a=null;if(Gi(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Gi(o)&&W_(o[1],o),o=o[3];null===o&&(o=s),Gi(o)&&W_(o[1],o),a=o&&o[4]}o=a}}(o)}}function W_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Z_(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Qo)){const m=a[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],C=m[v+1];try{C.call(w)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function wD(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const v=a[m+1],w="function"==typeof v?v(o):rn(o[v]),C=u[h=a[m+2]],A=a[m+3];"boolean"==typeof A?w.removeEventListener(a[m],C,A):A>=0?u[h=A]():u[h=-A].unsubscribe(),m+=2}else{const v=u[h=a[m+1]];a[m].call(v)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ki(o[3])){a!==o[3]&&q_(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function ow(s,o,a){return function aw(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Gt.None||h===Gt.Emulated)return null}return Ri(u,a)}(s,o.parent,a)}function Yl(s,o,a,u,h){yn(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function lw(s,o,a){yn(s)?s.appendChild(o,a):o.appendChild(a)}function Pf(s,o,a,u,h){null!==u?Yl(s,o,a,u,h):lw(s,o,a)}function Nf(s,o){return yn(s)?s.parentNode(o):o.parentNode}function fu(s,o,a){return Em(s,o,a)}let Em=function Za(s,o,a){return 40&s.type?Ri(s,a):null};function Jn(s,o,a,u){const h=ow(s,u,o),m=o[11],w=fu(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)Pf(m,h,a[C],w,!1);else Pf(m,h,a,w,!1)}function Ql(s,o){if(null!==o){const a=o.type;if(3&a)return Ri(o,s);if(4&a)return Je(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Ql(s,u);{const h=s[o.index];return ki(h)?Je(-1,h):rn(h)}}if(32&a)return Qe(o,s)()||rn(s[o.index]);{const u=Cm(s,o);return null!==u?Array.isArray(u)?u[0]:Ql(Pn(s[16]),u):Ql(s,o.next)}}return null}function Cm(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Je(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return Ql(u,h)}return o[7]}function Y_(s,o,a,u,h,m,v){for(;null!=a;){const w=u[a.index],C=a.type;if(v&&0===o&&(w&&er(rn(w),u),a.flags|=4),64!=(64&a.flags))if(8&C)Y_(s,o,a.child,u,h,m,!1),ko(o,s,h,w,m);else if(32&C){const A=Qe(a,u);let x;for(;x=A();)ko(o,s,h,x,m);ko(o,s,h,w,m)}else 16&C?Me(s,o,u,a,h,m):ko(o,s,h,w,m);a=v?a.projectionNext:a.next}}function je(s,o,a,u,h,m){Y_(a,u,s.firstChild,o,h,m,!1)}function Me(s,o,a,u,h,m){const v=a[16],C=v[6].projection[u.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)ko(o,s,h,C[A],m);else Y_(s,o,C,v[3],h,m,!0)}function uw(s,o,a){yn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Q_(s,o,a){yn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function dw(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}a=h+1}}const hw="ng-template";function fw(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==dw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function pw(s){return 4===s.type&&s.value!==hw}function bA(s,o,a){return o===(4!==s.type||a?s.value:hw)}function Cs(s,o,a){let u=4;const h=s.attrs||[],m=function gw(s){for(let o=0;o<s.length;o++)if(Wi(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!bA(s,C,a)||""===C&&1===o.length){if(Ro(u))return!1;v=!0}}else{const A=8&u?C:o[++w];if(8&u&&null!==s.attrs){if(!fw(s.attrs,A,a)){if(Ro(u))return!1;v=!0}continue}const N=mw(8&u?"class":C,h,pw(s),a);if(-1===N){if(Ro(u))return!1;v=!0;continue}if(""!==A){let B;B=N>m?"":h[N+1].toLowerCase();const K=8&u?B:null;if(K&&-1!==dw(K,A,0)||2&u&&A!==B){if(Ro(u))return!1;v=!0}}}}else{if(!v&&!Ro(u)&&!Ro(C))return!1;if(v&&Ro(C))continue;v=!1,u=C|1&u}}return Ro(u)||v}function Ro(s){return 0==(1&s)}function mw(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function ui(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Ot(s,o,a=!1){for(let u=0;u<o.length;u++)if(Cs(s,o[u],a))return!0;return!1}function Ct(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function X_(s,o){return s?":not("+o.trim()+")":o}function pu(s){let o=s[0],a=1,u=2,h="",m=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&u){const w=s[++a];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Ro(v)&&(o+=X_(m,h),h=""),u=v,m=m||!Ro(u);a++}return""!==h&&(o+=X_(m,h)),o}const ze={};function yw(s){Vi(Ft(),Ee(),Pi()+s,bl())}function Vi(s,o,a,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Va(o,m,a)}else{const m=s.preOrderHooks;null!==m&&Dl(o,m,0,a)}zs(a)}function Dm(s,o){return s<<17|o<<2}function bn(s){return s>>17&32767}function Un(s){return 2|s}function jr(s){return(131068&s)>>2}function Lf(s,o){return-131069&s|o<<2}function gu(s){return 1|s}function Uf(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],m=a[u+1];if(-1!==m){const v=s.data[m];Bc(h),v.contentQueries(2,o[m],m)}}}function hh(s,o,a,u,h,m,v,w,C,A){const x=o.blueprint.slice();return x[0]=h,x[2]=140|u,Bs(x),x[3]=x[15]=s,x[8]=a,x[10]=v||s&&s[10],x[11]=w||s&&s[11],x[12]=C||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=m,x[16]=2==o.type?s[16]:x,x}function si(s,o,a,u,h){let m=s.data[o];if(null===m)m=function ry(s,o,a,u,h){const m=Zo(),v=Oc(),C=s.data[o]=function Rm(s,o,a,u,h,m){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,a,u,h),function Fc(){return pt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=u,m.attrs=h;const v=function Ko(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return dr(m,!0),m}function fh(s,o,a,u){if(0===a)return-1;const h=o.length;for(let m=0;m<a;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function jf(s,o,a){_o(o);try{const u=s.viewQuery;null!==u&&Bm(1,u,a);const h=s.template;null!==h&&Sw(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Uf(s,o),s.staticViewQueries&&Bm(2,s.viewQuery,a);const m=s.components;null!==m&&function Iw(s,o){for(let a=0;a<o.length;a++)Lm(s,o[a])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,vo()}}function bu(s,o,a,u){const h=o[2];if(256==(256&h))return;_o(o);const m=bl();try{Bs(o),function wl(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Sw(s,o,a,2,u);const v=3==(3&h);if(!m)if(v){const A=s.preOrderCheckHooks;null!==A&&Va(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Dl(o,A,0,null),Kn(o,0)}if(function PD(s){for(let o=uu(s);null!==o;o=Kl(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],m=h[3];0==(1024&h[2])&&Hs(m,1),h[2]|=1024}}}(o),function OD(s){for(let o=uu(s);null!==o;o=Kl(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];gs(u)&&bu(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&Uf(s,o),!m)if(v){const A=s.contentCheckHooks;null!==A&&Va(o,A)}else{const A=s.contentHooks;null!==A&&Dl(o,A,1),Kn(o,1)}!function Hf(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)zs(~h);else{const m=h,v=a[++u],w=a[++u];Cl(v,m),w(2,o[m])}}}finally{zs(-1)}}(s,o);const w=s.components;null!==w&&function xm(s,o){for(let a=0;a<o.length;a++)Ii(s,o[a])}(o,w);const C=s.viewQuery;if(null!==C&&Bm(2,C,u),!m)if(v){const A=s.viewCheckHooks;null!==A&&Va(o,A)}else{const A=s.viewHooks;null!==A&&Dl(o,A,2),Kn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Hs(o[3],-1))}finally{vo()}}function AD(s,o,a,u){const h=o[10],m=!bl(),v=Vs(o);try{m&&!v&&h.begin&&h.begin(),v&&jf(s,o,u),bu(s,o,a,u)}finally{m&&!v&&h.end&&h.end()}}function Sw(s,o,a,u,h){const m=Pi(),v=2&u;try{zs(-1),v&&o.length>20&&Vi(s,o,20,bl()),a(u,h)}finally{zs(m)}}function Tw(s,o,a){if(Cc(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,a[m],m)}}}function sy(s,o,a){!vl()||(function xw(s,o,a,u){const h=a.directiveStart,m=a.directiveEnd;s.firstCreatePass||Jo(a,o),er(u,o);const v=a.initialInputs;for(let w=h;w<m;w++){const C=s.data[w],A=lr(C);A&&Pw(o,a,C);const x=Dr(o,s,w,a);er(x,o),null!==v&&mh(0,w-h,x,C,0,v),A&&(Oi(a.index,o)[8]=x)}}(s,o,a,Ri(a,o)),128==(128&a.flags)&&function kw(s,o,a){const u=a.directiveStart,h=a.directiveEnd,v=a.index,w=function Lc(){return pt.lFrame.currentDirectiveIndex}();try{zs(v);for(let C=u;C<h;C++){const A=s.data[C],x=o[C];La(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&fy(A,x)}}finally{zs(-1),La(w)}}(s,o,a))}function fa(s,o,a=Ri){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],w=-1===v?a(o,s):s[v];s[h++]=w}}}function wu(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=km(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function km(s,o,a,u,h,m,v,w,C,A){const x=20+u,N=x+h,B=function Aw(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:ze);return a}(x,N),K="function"==typeof A?A():A;return B[1]={type:s,blueprint:B,template:a,queries:null,viewQuery:w,declTNode:o,data:B.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:K,incompleteFirstPass:!1}}function Eu(s,o,a,u){const h=Bw(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&di(s).push(u,h.length-1))}function Gf(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function zr(s,o,a,u,h,m,v,w){const C=Ri(o,a);let x,A=o.inputs;!w&&null!=A&&(x=A[u])?(_y(s,a,x,u,h),Os(o)&&function ph(s,o){const a=Oi(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function cy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,yn(m)?m.setProperty(C,u,h):Yn(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function Pm(s,o,a,u){let h=!1;if(vl()){const m=function Nm(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];Ot(a,v.selectors,!1)&&(h||(h=[]),bo(Jo(a,o),s,v.type),lr(v)?(Rw(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===u?null:{"":-1};if(null!==m){h=!0,Cu(a,s.data.length,m.length);for(let x=0;x<m.length;x++){const N=m[x];N.providersResolver&&N.providersResolver(N)}let w=!1,C=!1,A=fh(s,o,m.length,null);for(let x=0;x<m.length;x++){const N=m[x];a.mergedAttrs=kn(a.mergedAttrs,N.hostAttrs),ic(s,a,o,A,N),Ow(A,N,v),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const B=N.type.prototype;!w&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!C&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),A++}!function ly(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,v=[];let w=null,C=null;for(let A=o.directiveStart;A<u;A++){const x=h[A],N=x.inputs,B=null===m||pw(o)?null:Nw(N,m);v.push(B),w=Gf(N,A,w),C=Gf(x.outputs,A,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=C}(s,a)}v&&function kD(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=a[o[h+1]];if(null==m)throw new Re(-301,!1);u.push(o[h],m)}}}(a,u,v)}return a.mergedAttrs=kn(a.mergedAttrs,a.attrs),h}function hy(s,o,a,u,h,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function xD(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(u,h,v)}}function fy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Rw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Ow(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;lr(o)&&(a[""]=s)}}function Cu(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function ic(s,o,a,u,h){s.data[u]=h;const m=h.factory||(h.factory=cr(h.type)),v=new Qo(m,lr(h),null);s.blueprint[u]=v,a[u]=v,hy(s,o,0,u,fh(s,a,h.hostVars,ze),h)}function Pw(s,o,a){const u=Ri(o,s),h=wu(a),m=s[10],v=yh(s,hh(s,h,null,a.onPush?64:16,u,o,m,m.createRenderer(u,a),null,null));s[o.index]=v}function Sr(s,o,a,u,h,m){const v=Ri(s,o);!function Fm(s,o,a,u,h,m,v){if(null==m)yn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const w=null==v?me(m):v(m,u||"",h);yn(s)?s.setAttribute(o,h,w,a):a?o.setAttributeNS(a,h,w):o.setAttribute(h,w)}}(o[11],v,m,s.value,a,u,h)}function mh(s,o,a,u,h,m){const v=m[o];if(null!==v){const w=u.setInput;for(let C=0;C<v.length;){const A=v[C++],x=v[C++],N=v[C++];null!==w?u.setInput(a,N,A,x):a[x]=N}}}function Nw(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function gh(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function Ii(s,o){const a=Oi(o,s);if(gs(a)){const u=a[1];80&a[2]?bu(u,a,u.template,a[8]):a[5]>0&&_h(a)}}function _h(s){for(let u=uu(s);null!==u;u=Kl(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const v=m[1];bu(v,m,v.template,m[8])}else m[5]>0&&_h(m)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Oi(a[u],s);gs(h)&&h[5]>0&&_h(h)}}function Lm(s,o){const a=Oi(o,s),u=a[1];(function ND(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),jf(u,a,a[8])}function yh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function py(s){for(;s;){s[2]|=64;const o=Pn(s);if(ff(s)&&!o)return s;s=o}return null}function Du(s,o,a){const u=o[10];u.begin&&u.begin();try{bu(s,o,s.template,a)}catch(h){throw gy(o,h),h}finally{u.end&&u.end()}}function rc(s){!function Vm(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=Kd(a),h=u[1];AD(h,u,h.template,a)}}(s[8])}function Bm(s,o,a){Bc(0),o(s,a)}const my=(()=>Promise.resolve(null))();function Bw(s){return s[7]||(s[7]=[])}function di(s){return s.cleanup||(s.cleanup=[])}function gy(s,o){const a=s[9],u=a?a.get(Di,null):null;u&&u.handleError(o)}function _y(s,o,a,u,h){for(let m=0;m<a.length;){const v=a[m++],w=a[m++],C=o[v],A=s.data[v];null!==A.setInput?A.setInput(C,h,u,w):C[w]=h}}function Tr(s,o,a){const u=go(o,s);!function ih(s,o,a){yn(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function Gn(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?m=w:1==m?h=de(h,w):2==m&&(u=de(u,w+": "+o[++v]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const jm=new Rn("INJECTOR",-1);class Iu{get(o,a=Io){if(a===Io){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return a}}const yy=new Rn("Set Injector scope."),Ar={},FD={};let zf;function vh(){return void 0===zf&&(zf=new Iu),zf}function Hw(s,o=null,a=null,u){const h=Uw(s,o,a,u);return h._resolveInjectorDefTypes(),h}function Uw(s,o=null,a=null,u){return new mn(s,a,o||vh(),u)}class mn{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];a&&Xi(a,w=>this.processProvider(w,o,a)),Xi([o],w=>this.processInjectorType(w,[],m)),this.records.set(jm,Ya(void 0,this));const v=this.records.get(yy);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Io,u=dt.Default){this.assertNotDestroyed();const h=xe(this),m=ti(void 0);try{if(!(u&dt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function VD(s){return"function"==typeof s||"object"==typeof s&&s instanceof Rn}(o)&&jt(o);w=C&&this.injectableDefInScope(C)?Ya(vy(o),Ar):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&dt.Self?vh():this.parent).get(o,a=u&dt.Optional&&a===Io?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[ra]=v[ra]||[]).unshift(fe(o)),h)throw v;return function Js(s,o,a,u){const h=s[ra];throw o[L]&&h.unshift(o[L]),s.message=function On(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}h=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[ra]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{ti(m),xe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(fe(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,a,u){if(!(o=X(o)))return!1;let h=Ui(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,w=-1!==u.indexOf(v);if(void 0!==m&&(h=Ui(m)),null==h)return!1;if(null!=h.imports&&!w){let x;u.push(v);try{Xi(h.imports,N=>{this.processInjectorType(N,a,u)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:B,providers:K}=x[N];Xi(K,ye=>this.processProvider(ye,B,K||ht))}}this.injectorDefTypes.add(v);const C=cr(v)||(()=>new v);this.records.set(v,Ya(C,Ar));const A=h.providers;if(null!=A&&!w){const x=o;Xi(A,N=>this.processProvider(N,x,A))}return void 0!==m&&void 0!==o.providers}processProvider(o,a,u){let h=wh(o=X(o))?o:X(o&&o.provide);const m=function $f(s,o,a){return by(s)?Ya(void 0,s.useValue):Ya(bh(s),Ar)}(o);if(wh(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Ya(void 0,Ar,!0),v.factory=()=>Tt(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,a){return a.value===Ar&&(a.value=FD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function LD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=X(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function vy(s){const o=jt(s),a=null!==o?o.factory:cr(s);if(null!==a)return a;if(s instanceof Rn)throw new Re(204,!1);if(s instanceof Function)return function Gm(s){const o=s.length;if(o>0)throw Ei(o,"?"),new Re(204,!1);const a=function yr(s){const o=s&&(s[Kr]||s[ls]);if(o){const a=function As(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Re(204,!1)}function bh(s,o,a){let u;if(wh(s)){const h=X(s);return cr(h)||vy(h)}if(by(s))u=()=>X(s.useValue);else if(function Gw(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Tt(s.deps||[]));else if(function jw(s){return!(!s||!s.useExisting)}(s))u=()=>tt(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function $w(s){return!!s.deps}(s))return cr(h)||vy(h);u=()=>new h(...Tt(s.deps))}return u}function Ya(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function by(s){return null!==s&&"object"==typeof s&&Z in s}function wh(s){return"function"==typeof s}let pa=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return Hw({name:""},u,a,"");{const m=null!==(h=a.name)&&void 0!==h?h:"";return Hw({name:m},a.parent,a.providers,m)}}}return s.THROW_IF_NOT_FOUND=Io,s.NULL=new Iu,s.\u0275prov=en({token:s,providedIn:"any",factory:()=>tt(jm)}),s.__NG_ELEMENT_ID__=-1,s})();function Eh(s,o){_s(Kd(s)[1],En())}function Ty(s){let o=function Jw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(lr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const v=s;v.inputs=_r(s.inputs),v.declaredInputs=_r(s.declaredInputs),v.outputs=_r(s.outputs);const w=h.hostBindings;w&&ga(s,w);const C=h.viewQuery,A=h.contentQueries;if(C&&UD(s,C),A&&t0(s,A),J(s.inputs,h.inputs),J(s.declaredInputs,h.declaredInputs),J(s.outputs,h.outputs),lr(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===Ty&&(a=!1)}}o=Object.getPrototypeOf(o)}!function e0(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=kn(h.hostAttrs,a=kn(a,h.hostAttrs))}}(u)}function _r(s){return s===mi?{}:s===ht?[]:s}function UD(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function t0(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,m)=>{o(u,h,m),a(u,h,m)}:o}function ga(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let Wm=null;function Ch(){if(!Wm){const s=Ut.Symbol;if(s&&s.iterator)Wm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Wm=u)}}}return Wm}function Wf(s){return!!Ay(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ch()in s)}function Ay(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _a(s,o,a){return s[o]=a}function Mr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function My(s,o,a,u){const h=Ee();return Mr(h,js(),o)&&(Ft(),Sr(xn(),h,s,o,a,u)),My}function xu(s,o,a,u){return Mr(s,js(),a)?o+me(a)+u:ze}function Ym(s,o,a,u,h,m,v,w){const C=Ee(),A=Ft(),x=s+20,N=A.firstCreatePass?function nr(s,o,a,u,h,m,v,w,C){const A=o.consts,x=si(o,s,4,v||null,ur(A,w));Pm(o,a,x,ur(A,C)),_s(o,x);const N=x.tViews=km(2,x,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),N.queries=o.queries.embeddedTView(x)),x}(x,A,C,o,a,u,h,m,v):A.data[x];dr(N,!1);const B=C[11].createComment("");Jn(A,C,B,N),er(B,C),yh(C,C[x]=gh(B,C,B,N)),cl(N)&&sy(A,C,N),null!=v&&fa(C,N,w)}function Qm(s){return Nr(function Nc(){return pt.lFrame.contextLView}(),20+s)}function Oh(s,o=dt.Default){const a=Ee();return null===a?tt(s,o):Cr(En(),a,X(s),o)}function Ja(){throw new Error("invalid")}function lc(s,o,a){const u=Ee();return Mr(u,js(),o)&&zr(Ft(),xn(),u,s,o,u[11],a,!1),lc}function ig(s,o,a,u,h){const v=h?"class":"style";_y(s,a,o.inputs[v],v,u)}function rg(s,o,a,u){const h=Ee(),m=Ft(),v=20+s,w=h[11],C=h[v]=io(w,o,function x_(){return pt.lFrame.currentNamespace}()),A=m.firstCreatePass?function Lu(s,o,a,u,h,m,v){const w=o.consts,A=si(o,s,2,h,ur(w,m));return Pm(o,a,A,ur(w,v)),null!==A.attrs&&Gn(A,A.attrs,!1),null!==A.mergedAttrs&&Gn(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,m,h,0,o,a,u):m.data[v];dr(A,!0);const x=A.mergedAttrs;null!==x&&qi(w,C,x);const N=A.classes;null!==N&&Q_(w,C,N);const B=A.styles;return null!==B&&uw(w,C,B),64!=(64&A.flags)&&Jn(m,h,C,A),0===function Fa(){return pt.lFrame.elementDepthCount}()&&er(C,h),function _l(){pt.lFrame.elementDepthCount++}(),cl(A)&&(sy(m,h,A),Tw(m,A,h)),null!==u&&fa(h,A),rg}function el(){let s=En();Oc()?Pc():(s=s.parent,dr(s,!1));const o=s;!function yl(){pt.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(_s(a,s),Cc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Dd(s){return 0!=(16&s.flags)}(o)&&ig(a,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function tm(s){return 0!=(32&s.flags)}(o)&&ig(a,o,Ee(),o.stylesWithoutHost,!1),el}function sg(s,o,a,u){return rg(s,o,a,u),el(),sg}function Ph(s,o,a){const u=Ee(),h=Ft(),m=s+20,v=h.firstCreatePass?function Bu(s,o,a,u,h){const m=o.consts,v=ur(m,u),w=si(o,s,8,"ng-container",v);return null!==v&&Gn(w,v,!0),Pm(o,a,w,ur(m,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(m,h,u,o,a):h.data[m];dr(v,!0);const w=u[m]=u[11].createComment("");return Jn(h,u,w,v),er(w,u),cl(v)&&(sy(h,u,v),Tw(h,v,u)),null!=a&&fa(u,v),Ph}function ep(){let s=En();const o=Ft();return Oc()?Pc():(s=s.parent,dr(s,!1)),o.firstCreatePass&&(_s(o,s),Cc(s)&&o.queries.elementEnd(s)),ep}function Vy(s,o,a){return Ph(s,o,a),ep(),Vy}function h0(){return Ee()}function By(s){return!!s&&"function"==typeof s.then}function f0(s){return!!s&&"function"==typeof s.subscribe}const tp=f0;function og(s,o,a,u){const h=Ee(),m=Ft(),v=En();return function Hy(s,o,a,u,h,m,v,w){const C=cl(u),x=s.firstCreatePass&&di(s),N=o[8],B=Bw(o);let K=!0;if(3&u.type||w){const Ge=Ri(u,o),Xe=w?w(Ge):Ge,Ie=B.length,gt=w?qt=>w(rn(qt[u.index])):u.index;if(yn(a)){let qt=null;if(!w&&C&&(qt=function eI(s,o,a,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===a&&h[m+1]===u){const w=o[7],C=h[m+2];return w.length>C?w[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,u.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=m,qt.__ngLastListenerFn__=m,K=!1;else{m=Hu(u,o,N,m,!1);const gn=a.listen(Xe,h,m);B.push(m,gn),x&&x.push(h,gt,Ie,Ie+1)}}else m=Hu(u,o,N,m,!0),Xe.addEventListener(h,m,v),B.push(m),x&&x.push(h,gt,Ie,v)}else m=Hu(u,o,N,m,!1);const ye=u.outputs;let Ne;if(K&&null!==ye&&(Ne=ye[h])){const Ge=Ne.length;if(Ge)for(let Xe=0;Xe<Ge;Xe+=2){const Is=o[Ne[Xe]][Ne[Xe+1]].subscribe(m),tf=B.length;B.push(m,Is),x&&x.push(h,u.index,tf,-(tf+1))}}}(m,h,h[11],v,s,o,!!a,u),og}function cc(s,o,a,u){try{return!1!==a(u)}catch(h){return gy(s,h),!1}}function Hu(s,o,a,u,h){return function m(v){if(v===Function)return u;const w=2&s.flags?Oi(s.index,o):o;0==(32&o[2])&&py(w);let C=cc(o,0,u,v),A=m.__ngNextListenerFn__;for(;A;)C=cc(o,0,A,v)&&C,A=A.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Uy(s=1){return function Gs(s){return(pt.lFrame.contextLView=function Uc(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function m0(s,o){let a=null;const u=function oh(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?Ot(s,m,!0):Ct(u,m))return h}else a=h}return a}function g0(s){const o=Ee()[16][6];if(!o.projection){const u=o.projection=Ei(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const v=s?m0(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function jy(s,o=0,a){const u=Ee(),h=Ft(),m=si(h,20+s,16,null,a||null);null===m.projection&&(m.projection=o),Pc(),64!=(64&m.flags)&&function ce(s,o,a){Me(o[11],0,o,a,ow(s,a,o),fu(a.parent||o[6],a,o))}(h,u,m)}function qy(s,o,a,u,h){const m=s[a+1],v=null===o;let w=u?bn(m):jr(m),C=!1;for(;0!==w&&(!1===C||v);){const x=s[w+1];iI(s[w],o)&&(C=!0,s[w+1]=u?gu(x):Un(x)),w=u?bn(x):jr(x)}C&&(s[a+1]=u?Un(m):gu(m))}function iI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Qs(s,o)>=0}const Si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function v0(s){return s.substring(Si.key,Si.keyEnd)}function ug(s,o){const a=Si.textEnd;return a===o?-1:(o=Si.keyEnd=function rI(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Si.key=o,a),Uu(s,o,a))}function Uu(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function rp(s,o,a){return No(s,o,a,!1),rp}function Ti(s,o){return No(s,o,null,!0),Ti}function va(s,o){for(let a=function Lh(s){return function Zy(s){Si.key=0,Si.keyEnd=0,Si.value=0,Si.valueEnd=0,Si.textEnd=s.length}(s),ug(s,Uu(s,0,Si.textEnd))}(o);a>=0;a=ug(o,a))Ni(s,v0(o),!0)}function No(s,o,a,u){const h=Ee(),m=Ft(),v=Fr(2);m.firstUpdatePass&&Qy(m,s,v,u),o!==ze&&Mr(h,v,o)&&D0(m,m.data[Pi()],h,h[11],s,h[v+1]=function aI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Ir(s)))),s}(o,a),u,v)}function hg(s,o){return o>=s.expandoStartIndex}function Qy(s,o,a,u){const h=s.data;if(null===h[a+1]){const m=h[Pi()],v=hg(s,a);I0(m,u)&&null===o&&!v&&(o=!1),o=function E0(s,o,a,u){const h=function Yo(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=ju(a=Vh(null,s,o,a,u),o.attrs,u),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=Vh(h,s,o,a,u),null===m){let C=function Xy(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==jr(u))return s[bn(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=Vh(null,s,o,C[1],u),C=ju(C,o.attrs,u),function fg(s,o,a,u){s[bn(a?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else m=function sp(s,o,a){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=ju(u,s[m].hostAttrs,a);return ju(u,o.attrs,a)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),a}(h,m,o,u),function $y(s,o,a,u,h,m){let v=m?o.classBindings:o.styleBindings,w=bn(v),C=jr(v);s[u]=a;let x,A=!1;if(Array.isArray(a)){const N=a;x=N[1],(null===x||Qs(N,x)>0)&&(A=!0)}else x=a;if(h)if(0!==C){const B=bn(s[w+1]);s[u+1]=Dm(B,w),0!==B&&(s[B+1]=Lf(s[B+1],u)),s[w+1]=function Xl(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=Dm(w,0),0!==w&&(s[w+1]=Lf(s[w+1],u)),w=u;else s[u+1]=Dm(C,0),0===w?w=u:s[C+1]=Lf(s[C+1],u),C=u;A&&(s[u+1]=Un(s[u+1])),qy(s,x,u,!0),qy(s,x,u,!1),function nI(s,o,a,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Qs(m,o)>=0&&(a[u+1]=gu(a[u+1]))}(o,x,s,u,m),v=Dm(w,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,a,v,u)}}function Vh(s,o,a,u,h){let m=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(m=o[w],u=ju(u,m.hostAttrs,h),m!==s);)w++;return null!==s&&(a.directiveStylingLast=w),u}function ju(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ni(s,v,!!a||o[++m]))}return void 0===s?null:s}function D0(s,o,a,u,h,m,v,w){if(!(3&o.type))return;const C=s.data,A=C[w+1];mg(function J_(s){return 1==(1&s)}(A)?ev(C,o,a,h,jr(A),v):void 0)||(mg(m)||function vw(s){return 2==(2&s)}(A)&&(m=ev(C,null,a,h,w,v)),function cw(s,o,a,u,h){const m=yn(s);if(o)h?m?s.addClass(a,u):a.classList.add(u):m?s.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:se.DashCase;if(null==h)m?s.removeStyle(a,u,v):a.style.removeProperty(u);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=se.Important),m?s.setStyle(a,u,h,v):a.style.setProperty(u,h,w?"important":"")}}}(u,v,go(Pi(),a),h,m))}function ev(s,o,a,u,h,m){const v=null===o;let w;for(;h>0;){const C=s[h],A=Array.isArray(C),x=A?C[1]:C,N=null===x;let B=a[h+1];B===ze&&(B=N?ht:void 0);let K=N?Nl(B,u):x===u?B:void 0;if(A&&!mg(K)&&(K=Nl(C,u)),mg(K)&&(w=K,v))return w;const ye=s[h+1];h=v?bn(ye):jr(ye)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(w=Nl(C,u))}return w}function mg(s){return void 0!==s}function I0(s,o){return 0!=(s.flags&(o?16:32))}function tv(s,o=""){const a=Ee(),u=Ft(),h=s+20,m=u.firstCreatePass?si(u,h,1,o,null):u.data[h],v=a[h]=function Wa(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Jn(u,a,v,m),dr(m,!1)}function Bh(s){return uc("",s,""),Bh}function uc(s,o,a){const u=Ee(),h=xu(u,s,o,a);return h!==ze&&Tr(u,Pi(),h),uc}function _g(s,o,a){!function Fo(s,o,a,u){const h=Ft(),m=Fr(2);h.firstUpdatePass&&Qy(h,null,m,u);const v=Ee();if(a!==ze&&Mr(v,m,a)){const w=h.data[Pi()];if(I0(w,u)&&!hg(h,m)){let C=u?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(a=de(C,a||"")),ig(h,w,v,a,u)}else!function C0(s,o,a,u,h,m,v,w){h===ze&&(h=ht);let C=0,A=0,x=0<h.length?h[0]:null,N=0<m.length?m[0]:null;for(;null!==x||null!==N;){const B=C<h.length?h[C+1]:void 0,K=A<m.length?m[A+1]:void 0;let Ne,ye=null;x===N?(C+=2,A+=2,B!==K&&(ye=N,Ne=K)):null===N||null!==x&&x<N?(C+=2,ye=x):(A+=2,ye=N,Ne=K),null!==ye&&D0(s,o,a,u,ye,Ne,v,w),x=C<h.length?h[C]:null,N=A<m.length?m[A]:null}}(h,w,v,v[11],v[m+1],v[m+1]=function Jy(s,o,a){if(null==a||""===a)return ht;const u=[],h=Ir(a);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(u,m,h[m]);else"string"==typeof h&&o(u,h);return u}(s,o,a),u,m)}}(Ni,va,xu(Ee(),s,o,a),!0)}function ap(s,o,a){const u=Ee();return Mr(u,js(),o)&&zr(Ft(),xn(),u,s,o,u[11],a,!0),ap}const tl=void 0;var fv=["en",[["a","p"],["AM","PM"],tl],[["AM","PM"],tl,tl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tl,"{1} 'at' {0}",tl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dI(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let jh={};function Eg(s){const o=function pv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Dg(o);if(a)return a;const u=o.split("-")[0];if(a=Dg(u),a)return a;if("en"===u)return fv;throw new Error(`Missing locale data for the locale "${s}".`)}function Cg(s){return Eg(s)[ut.PluralCase]}function Dg(s){return s in jh||(jh[s]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[s]),jh[s]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const cp="en-US";let Tg=cp;function fp(s,o,a,u,h){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)fp(s[m],o,a,u,h);else{const m=Ft(),v=Ee();let w=wh(s)?s:X(s.provide),C=bh(s);const A=En(),x=1048575&A.providerIndexes,N=A.directiveStart,B=A.providerIndexes>>20;if(wh(s)||!s.multi){const K=new Qo(C,h,Oh),ye=Gg(w,o,h?x:x+B,N);-1===ye?(bo(Jo(A,v),m,w),Ug(m,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(K),v.push(K)):(a[ye]=K,v[ye]=K)}else{const K=Gg(w,o,x+B,N),ye=Gg(w,o,x,x+B),Ne=K>=0&&a[K],Ge=ye>=0&&a[ye];if(h&&!Ge||!h&&!Ne){bo(Jo(A,v),m,w);const Xe=function TI(s,o,a,u,h){const m=new Qo(s,a,Oh);return m.multi=[],m.index=o,m.componentProviders=0,jg(m,h,u&&!a),m}(h?Yh:Bv,a.length,h,u,C);!h&&Ge&&(a[ye].providerFactory=Xe),Ug(m,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(Xe),v.push(Xe)}else Ug(m,s,K>-1?K:ye,jg(a[h?ye:K],C,!h&&u));!h&&u&&Ge&&a[ye].componentProviders++}}}function Ug(s,o,a,u){const h=wh(o),m=function zw(s){return!!s.useClass}(o);if(h||m){const C=(m?X(o.useClass):o).prototype.ngOnDestroy;if(C){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=A.indexOf(a);-1===x?A.push(a,[u,C]):A[x+1].push(u,C)}else A.push(a,C)}}}function jg(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Gg(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function Bv(s,o,a,u){return pp(this.multi,[])}function Yh(s,o,a,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Dr(a,a[1],this.providerFactory.index,u);m=w.slice(0,v),pp(h,m);for(let C=v;C<w.length;C++)m.push(w[C])}else m=[],pp(h,m);return m}function pp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function sE(s,o=[]){return a=>{a.providersResolver=(u,h)=>function Hg(s,o,a){const u=Ft();if(u.firstCreatePass){const h=lr(s);fp(a,u.data,u.blueprint,h,!0),fp(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Hv{}class xI{resolveComponentFactory(o){throw function MI(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let zg=(()=>{class s{}return s.NULL=new xI,s})();function kI(){return $u(En(),Ee())}function $u(s,o){return new qu(Ri(s,o))}let qu=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=kI,s})();function oE(s){return s instanceof qu?s.nativeElement:s}class jv{}let $g=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function aE(){const s=Ee(),a=Oi(En().index,s);return function Zt(s){return s[11]}(Gi(a)?a:s)}(),s})(),lE=(()=>{class s{}return s.\u0275prov=en({token:s,providedIn:"root",factory:()=>null}),s})();class Qh{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const cE=new Qh("13.3.3"),Cn={};function Hi(s,o,a,u,h=!1){for(;null!==a;){const m=o[a.index];if(null!==m&&u.push(rn(m)),ki(m))for(let w=10;w<m.length;w++){const C=m[w],A=C[1].firstChild;null!==A&&Hi(C[1],C,A,u)}const v=a.type;if(8&v)Hi(s,o,a.child,u);else if(32&v){const w=Qe(a,o);let C;for(;C=w();)u.push(C)}else if(16&v){const w=Cm(o,a);if(Array.isArray(w))u.push(...w);else{const C=Pn(o[16]);Hi(C[1],C,w,u,!0)}}a=h?a.projectionNext:a.next}return u}class ns{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Hi(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ki(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(wm(o,u),Ys(a,u))}this._attachedToViewContainer=!1}hu(this._lView[1],this._lView)}onDestroy(o){Eu(this._lView[1],this._lView,null,o)}markForCheck(){py(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Du(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Lw(s,o,a){Us(!0);try{Du(s,o,a)}finally{Us(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vm(s,o){je(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class uE extends ns{constructor(o){super(o),this._view=o}detectChanges(){rc(this._view)}checkNoChanges(){!function Vw(s){Us(!0);try{rc(s)}finally{Us(!1)}}(this._view)}get context(){return null}}class dE extends zg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=zt(o);return new Gv(a,this.ngModule)}}function mp(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Gv extends Hv{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function _w(s){return s.map(pu).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return mp(this.componentDef.inputs)}get outputs(){return mp(this.componentDef.outputs)}create(o,a,u,h){const m=(h=h||this.ngModule)?function fE(s,o){return{get:(a,u,h)=>{const m=s.get(a,Cn,h);return m!==Cn||u===Cn?m:o.get(a,u,h)}}}(o,h.injector):o,v=m.get(jv,Wo),w=m.get(lE,null),C=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=u?function ay(s,o,a){if(yn(s))return s.selectRootElement(o,a===Gt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):io(v.createRenderer(null,this.componentDef),A,function hE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),N=this.componentDef.onPush?576:528,B=function Au(s,o){return{components:[],scheduler:s||gm,clean:my,playerHandler:o||null,flags:0}}(),K=km(0,null,null,1,0,null,null,null,null,null),ye=hh(null,K,B,N,null,null,v,C,w,m);let Ne,Ge;_o(ye);try{const Xe=function Qw(s,o,a,u,h,m){const v=a[1];a[20]=s;const C=si(v,20,2,"#host",null),A=C.mergedAttrs=o.hostAttrs;null!==A&&(Gn(C,A,!0),null!==s&&(qi(h,s,A),null!==C.classes&&Q_(h,s,C.classes),null!==C.styles&&uw(h,s,C.styles)));const x=u.createRenderer(s,o),N=hh(a,wu(o),null,o.onPush?64:16,a[20],C,u,x,m||null,null);return v.firstCreatePass&&(bo(Jo(C,a),v,o.type),Rw(v,C),Cu(C,a.length,1)),yh(a,N),a[20]=N}(x,this.componentDef,ye,v,C);if(x)if(u)qi(C,x,["ng-version",cE.full]);else{const{attrs:Ie,classes:gt}=function Ff(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&a.push(m);else{if(!Ro(h))break;h=m}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ie&&qi(C,x,Ie),gt&&gt.length>0&&Q_(C,x,gt.join(" "))}if(Ge=Na(K,20),void 0!==a){const Ie=Ge.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const qt=a[gt];Ie.push(null!=qt?Array.from(qt):null)}}Ne=function Xw(s,o,a,u,h){const m=a[1],v=function dy(s,o,a){const u=En();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ic(s,u,o,fh(s,o,1,null),a));const h=Dr(o,s,u.directiveStart,u);er(h,o);const m=Ri(u,o);return m&&er(m,o),h}(m,a,o);if(u.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=En();o.contentQueries(1,v,C.directiveStart)}const w=En();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(zs(w.index),hy(a[1],w,0,w.directiveStart,w.directiveEnd,o),fy(o,v)),v}(Xe,this.componentDef,ye,B,[Eh]),jf(K,ye,null)}finally{vo()}return new OI(this.componentType,Ne,$u(Ge,ye),ye,Ge)}}class OI extends class AI{}{constructor(o,a,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new uE(h),this.componentType=o}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class gp{}const Nn=new Map;class gE extends gp{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dE(this);const u=hn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=Uw(o,a,[{provide:gp,useValue:this},{provide:zg,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=pa.THROW_IF_NOT_FOUND,u=dt.Default){return o===pa||o===gp||o===jm?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class $v extends class PA{}{constructor(o){super(),this.moduleType=o,null!==hn(o)&&function NI(s){const o=new Set;!function a(u){const h=hn(u,!0),m=h.id;null!==m&&(function pE(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(m,Nn.get(m),u),Nn.set(m,u));const v=g(h.imports);for(const w of v)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new gE(this.moduleType,o)}}function LI(s,o,a){const u=vi()+s,h=Ee();return h[u]===ze?_a(h,u,a?o.call(a):o()):function Zf(s,o){return s[o]}(h,u)}function qv(s,o,a,u,h,m){const v=o+a;return Mr(s,v,h)?_a(s,v+1,m?u.call(m,h):u(h)):function _p(s,o){const a=s[o];return a===ze?void 0:a}(s,v+1)}function vp(s,o){const a=Ft();let u;const h=s+20;a.firstCreatePass?(u=function bp(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const m=u.factory||(u.factory=cr(u.type)),v=ti(Oh);try{const w=Jr(!1),C=m();return Jr(w),function Ry(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,Ee(),h,C),C}finally{ti(v)}}function Zv(s,o,a){const u=s+20,h=Ee(),m=Nr(h,u);return function Zu(s,o){return s[1].data[o].pure}(h,u)?qv(h,vi(),o,m.transform,a,m):m.transform(a)}function Wg(s){return o=>{setTimeout(s,void 0,o)}}const xr=class Yv extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,m,v;let w=o,C=a||(()=>null),A=u;if(o&&"object"==typeof o){const N=o;w=null===(h=N.next)||void 0===h?void 0:h.bind(N),C=null===(m=N.error)||void 0===m?void 0:m.bind(N),A=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(C=Wg(C),w&&(w=Wg(w)),A&&(A=Wg(A)));const x=super.subscribe({next:w,error:C,complete:A});return o instanceof Y.w0&&o.add(x),x}};function vE(){return this._results[Ch()]()}class wp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ch(),u=wp.prototype;u[a]||(u[a]=vE)}get changes(){return this._changes||(this._changes=new xr)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=wi(o);(this._changesDetected=!function Ol(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(a&&(h=a(h),m=a(m)),m!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ku=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zg,s})();const Qv=Ku,zI=class extends Qv{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=hh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(a)),jf(a,u,o),new ns(u)}};function Zg(){return Yu(En(),Ee())}function Yu(s,o){return 4&s.type?new zI(o,s,$u(s,o)):null}let Ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cp,s})();function Cp(){return Xh(En(),Ee())}const $I=Ep,Dp=class extends $I{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){const o=Lr(this._hostTNode,this._hostLView);if(Sd(o)){const a=ii(o,this._hostLView),u=on(o);return new Ki(a[1].data[u+8],a)}return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=fc(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,m){const v=o&&!function Ks(s){return"function"==typeof s}(o);let w;if(v)w=a;else{const N=a||{};w=N.index,u=N.injector,h=N.projectableNodes,m=N.ngModuleRef}const C=v?o:new Gv(zt(o)),A=u||this.parentInjector;if(!m&&null==C.ngModule){const B=(v?A:this.parentInjector).get(gp,null);B&&(m=B)}const x=C.create(A,h,void 0,m);return this.insert(x.hostView,w),x}insert(o,a){const u=o._lView,h=u[1];if(function ml(s){return ki(s[3])}(u)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const N=u[3],B=new Dp(N,N[6],N[3]);B.detach(B.indexOf(o))}}const m=this._adjustIndex(a),v=this._lContainer;!function bm(s,o,a,u){const h=10+u,m=a.length;u>0&&(a[h-1][4]=o),u<m-10?(o[4]=a[h],Md(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function Es(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,u,v,m);const w=Je(m,v),C=u[11],A=Nf(C,v[7]);return null!==A&&function sh(s,o,a,u,h,m){u[0]=h,u[6]=o,je(s,u,a,1,h,m)}(h,v[6],C,u,A,w),o.attachToViewContainerRef(),Md(Lo(v),m,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=fc(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=wm(this._lContainer,a);u&&(Ys(Lo(this._lContainer),a),hu(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=wm(this._lContainer,a);return u&&null!=Ys(Lo(this._lContainer),a)?new ns(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function fc(s){return s[8]}function Lo(s){return s[8]||(s[8]=[])}function Xh(s,o){let a;const u=o[s.index];if(ki(u))a=u;else{let h;if(8&s.type)h=rn(u);else{const m=o[11];h=m.createComment("");const v=Ri(s,o);Yl(m,Nf(m,v),h,function mr(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=a=gh(u,o,h,s),yh(o,a)}return new Dp(a,s,o)}class Kg{constructor(o){this.queryList=o,this.matches=null}clone(){return new Kg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let m=0;m<u;m++){const v=a.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Qu(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ib(o,a).matches&&this.queries[a].setDirty()}}class rl{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class Xv{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new Xv(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Jv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,a,ZI(a,m)),this.matchTNodeWithReadOption(o,a,qe(a,o,m,!1,!1))}else u===Ku?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,qe(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===qu||h===Ep||h===Ku&&4&a.type)this.addMatch(a.index,-2);else{const m=qe(a,o,h,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function ZI(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function bE(s,o,a,u){return-1===a?function KI(s,o){return 11&s.type?$u(s,o):4&s.type?Yu(s,o):null}(o,s):-2===a?function YI(s,o,a){return a===qu?$u(o,s):a===Ku?Yu(o,s):a===Ep?Xh(o,s):void 0}(s,o,u):Dr(s,s[1],a,o)}function wE(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,v=a.matches,w=[];for(let C=0;C<v.length;C+=2){const A=v[C];w.push(A<0?null:bE(o,m[A],v[C+1],a.metadata.read))}h.matches=w}return h.matches}function Yg(s,o,a,u){const h=s.queries.getByIndex(a),m=h.matches;if(null!==m){const v=wE(s,o,h,a);for(let w=0;w<m.length;w+=2){const C=m[w];if(C>0)u.push(v[w/2]);else{const A=m[w+1],x=o[-C];for(let N=10;N<x.length;N++){const B=x[N];B[17]===B[3]&&Yg(B[1],B,A,u)}if(null!==x[9]){const N=x[9];for(let B=0;B<N.length;B++){const K=N[B];Yg(K[1],K,A,u)}}}}}return u}function EE(s){const o=Ee(),a=Ft(),u=Vc();Bc(u+1);const h=ib(a,u);if(s.dirty&&Vs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Yg(a,o,u,[]):wE(a,o,h,u);s.reset(m,oE),s.notifyOnChanges()}return!0}return!1}function CE(s,o,a){const u=Ft();u.firstCreatePass&&(nb(u,new rl(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),tb(u,Ee(),o)}function eb(s,o,a,u){const h=Ft();if(h.firstCreatePass){const m=En();nb(h,new rl(o,a,u),m.index),function IE(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}tb(h,Ee(),a)}function DE(){return function QI(s,o){return s[19].queries[o].queryList}(Ee(),Vc())}function tb(s,o,a){const u=new wp(4==(4&a));Eu(s,o,u,u.destroy),null===o[19]&&(o[19]=new Qu),o[19].queries.push(new Kg(u))}function nb(s,o,a){null===s.queries&&(s.queries=new Xv),s.queries.track(new Jv(o,a))}function ib(s,o){return s.queries.getByIndex(o)}function Qg(s,o){return Yu(s,o)}function wa(...s){}const gc=new Rn("Application Initializer");let pb=(()=>{class s{constructor(a){this.appInits=a,this.resolve=wa,this.reject=wa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(By(m))a.push(m);else if(tp(m)){const v=new Promise((w,C)=>{m.subscribe({complete:w,error:C})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(tt(gc,8))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const UE=new Rn("AppId",{providedIn:"root",factory:function jE(){return`${Ea()}${Ea()}${Ea()}`}});function Ea(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xp=new Rn("Platform Initializer"),Ju=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ca=new Rn("appBootstrapListener"),i_=new Rn("LocaleId",{providedIn:"root",factory:()=>Bt(i_,dt.Optional|dt.SkipSelf)||function GE(){return"undefined"!=typeof $localize&&$localize.locale||cp}()}),oS=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),zE=(()=>Promise.resolve(0))();function kp(s){"undefined"==typeof Zone?zE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class rs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xr(!1),this.onMicrotaskEmpty=new xr(!1),this.onStable=new xr(!1),this.onError=new xr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function $E(){let s=Ut.requestAnimationFrame,o=Ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function mb(s){const o=()=>{!function dS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ut,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,WE(s),s.isCheckStableRunning=!0,qE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),WE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,m,v,w)=>{try{return hS(s),a.invokeTask(h,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),ZE(s)}},onInvoke:(a,u,h,m,v,w,C)=>{try{return hS(s),a.invoke(h,m,v,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),ZE(s)}},onHasTask:(a,u,h,m)=>{a.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,WE(s),qE(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,h,m)=>(a.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,uS,wa,wa);try{return m.runTask(v,a,u)}finally{m.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const uS={};function qE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function WE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function hS(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ZE(s){s._nesting--,qE(s)}class fS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr,this.onMicrotaskEmpty=new xr,this.onStable=new xr,this.onError=new xr}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let pS=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),kp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(tt(rs))},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})(),zA=(()=>{class s{constructor(){this._applications=new Map,KE.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return KE.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class $A{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function qA(s){KE=s}let Ia,KE=new $A;const QE=new Rn("AllowMultipleToken");function lo(s,o,a=[]){const u=`Platform: ${o}`,h=new Rn(u);return(m=[])=>{let v=JE();if(!v||v.injector.get(QE,!1))if(s)s(a.concat(m).concat({provide:h,useValue:!0}));else{const w=a.concat(m).concat({provide:h,useValue:!0},{provide:yy,useValue:"platform"});!function rr(s){if(Ia&&!Ia.destroyed&&!Ia.injector.get(QE,!1))throw new Re(400,"");Ia=s.get(mS);const o=s.get(xp,null);o&&o.forEach(a=>a())}(pa.create({providers:w,name:u}))}return function r_(s){const o=JE();if(!o)throw new Re(401,"");return o}()}}function JE(){return Ia&&!Ia.destroyed?Ia:null}let mS=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const w=function gS(s,o){let a;return a="noop"===s?new fS:("zone.js"===s?void 0:s)||new rs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:rs,useValue:w}];return w.run(()=>{const A=pa.create({providers:C,parent:this.injector,name:a.moduleType.name}),x=a.create(A),N=x.injector.get(Di,null);if(!N)throw new Re(402,"");return w.runOutsideAngular(()=>{const B=w.onError.subscribe({next:K=>{N.handleError(K)}});x.onDestroy(()=>{_b(this._modules,x),B.unsubscribe()})}),function eC(s,o,a){try{const u=a();return By(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(N,w,()=>{const B=x.injector.get(pb);return B.runInitializers(),B.donePromise.then(()=>(function mv(s){ct(s,"Expected localeId to be defined"),"string"==typeof s&&(Tg=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(i_,cp)||cp),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,u=[]){const h=tC({},u);return function WA(s,o,a){const u=new $v(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const u=a.injector.get(gb);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Re(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(tt(pa))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function tC(s,o){return Array.isArray(o)?o.reduce(tC,s):Object.assign(Object.assign({},s),o)}let gb=(()=>{class s{constructor(a,u,h,m){this._zone=a,this._injector=u,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new P.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{rs.assertNotInAngularZone(),kp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ae.T)(v,w.pipe((0,ee.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Re(405,"");let h;h=a instanceof Hv?a:this._injector.get(zg).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const m=function YE(s){return s.isBoundToModule}(h)?void 0:this._injector.get(gp),w=h.create(pa.NULL,[],u||h.selector,m),C=w.location.nativeElement,A=w.injector.get(pS,null),x=A&&w.injector.get(zA);return A&&x&&x.registerApplication(C,A),w.onDestroy(()=>{this.detachView(w.hostView),_b(this.components,w),x&&x.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;_b(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Ca,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(tt(rs),tt(pa),tt(Di),tt(pb))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _b(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Rp=!0,yb=!1;function _S(){return yb=!0,Rp}function vb(){if(yb)throw new Error("Cannot enable prod mode after platform setup.");Rp=!1}let yS=(()=>{class s{}return s.__NG_ELEMENT_ID__=vS,s})();function vS(s){return function bS(s,o,a){if(Os(s)&&!a){const u=Oi(s.index,o);return new ns(u,u)}return 47&s.type?new ns(o[16],o):null}(En(),Ee(),16==(16&s))}class Cb{constructor(){}supports(o){return Wf(o)}create(o){return new SS(o)}}const Db=(s,o)=>o;class SS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Db}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,m=null;for(;a||u;){const v=!u||a&&a.currentIndex<u_(u,h,m)?a:u,w=u_(v,h,m),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{m||(m=[]);const A=w-h,x=C-h;if(A!=x){for(let B=0;B<A;B++){const K=B<m.length?m[B]:m[B]=0,ye=K+B;x<=ye&&ye<A&&(m[B]=K+1)}m[v.previousIndex]=x-A}}w!==C&&o(v,w,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Wf(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],v=this._trackByFn(w,m),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,m,v,w)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,v,w),u=!0),a=a._next}else h=0,function zD(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Ch()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,w=>{v=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,w,v,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,m,h)):o=this._addAfter(new TS(a,u),m,h),o}_verifyReinsertion(o,a,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Pp),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pp),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class TS{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Pp{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new AS,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u_(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class d_{constructor(){}supports(o){return o instanceof Map||Ay(o)}create(){return new Ib}}class Ib{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Ay(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new lC(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class lC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cC(){return new h_([new Cb])}let h_=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||cC()),deps:[[s,new So,new Ji]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Re(901,"")}}return s.\u0275prov=en({token:s,providedIn:"root",factory:cC}),s})();function uC(){return new Tb([new d_])}let Tb=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||uC()),deps:[[s,new So,new Ji]]}}find(a){const u=this.factories.find(m=>m.supports(a));if(u)return u;throw new Re(901,"")}}return s.\u0275prov=en({token:s,providedIn:"root",factory:uC}),s})();const kS=lo(null,"core",[]);let RS=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(tt(gb))},s.\u0275mod=Q({type:s}),s.\u0275inj=Yt({}),s})()},3942:(rt,Ce,O)=>{O.d(Ce,{Z:()=>Re});var c=O(2090),Y=O(4859),P=O(9681),ae=O(1877);class ee{constructor(me,we){this._delegate=me,this.firebase=we,(0,P._addComponent)(me,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(me,we=P._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(me);return!We.isInitialized()&&"EXPLICIT"===(null===(et=We.getComponent())||void 0===et?void 0:et.instantiationMode)&&We.initialize(),We.getImmediate({identifier:we})}_removeServiceInstance(me,we=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(we)}_addComponent(me){(0,P._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,P._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function de(){const Le=function fe(Le){const me={},we={__esModule:!0,initializeApp:function Se(He,ne={}){const W=P.initializeApp(He,ne);if((0,c.r3)(me,W.name))return me[W.name];const re=new Le(W,we);return me[W.name]=re,re},app:We,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(He){const ne=He.name,W=ne.replace("-compat","");if(P._registerComponent(He)&&"PUBLIC"===He.type){const re=(ge=We())=>{if("function"!=typeof ge[W])throw J.create("invalid-app-argument",{appName:ne});return ge[W]()};void 0!==He.serviceProps&&(0,c.ZB)(re,He.serviceProps),we[W]=re,Le.prototype[W]=function(...ge){return this._getService.bind(this,ne).apply(this,He.multipleInstances?ge:[])}}return"PUBLIC"===He.type?we[W]:null},removeApp:function et(He){delete me[He]},useAsService:function Ue(He,ne){return"serverAuth"===ne?null:ne},modularAPIs:P}};function We(He){if(!(0,c.r3)(me,He=He||P._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:He});return me[He]}return we.default=we,Object.defineProperty(we,"apps",{get:function ve(){return Object.keys(me).map(He=>me[He])}}),We.App=Le,we}(ee);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function me(we){(0,c.ZB)(Le,we)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Le}(),j=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=G;!function Ae(Le){(0,P.registerVersion)("@firebase/app-compat","0.1.22",Le)}()},9681:(rt,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ui,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>cn,_addOrOverwriteComponent:()=>Pr,_apps:()=>yt,_clearComponents:()=>jt,_components:()=>ln,_getProvider:()=>as,_registerComponent:()=>en,_removeServiceInstance:()=>Yt,deleteApp:()=>cs,getApp:()=>ji,getApps:()=>ls,initializeApp:()=>Kr,onLog:()=>oi,registerVersion:()=>ar,setLogLevel:()=>ti});var c=O(5861),Y=O(4859),P=O(1877),ae=O(2090);class ee{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function pe(Ze){const De=Ze.getComponent();return"VERSION"===(null==De?void 0:De.type)}(Ye)){const ft=Ye.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Ye=>Ye).join(" ")}}const J="@firebase/app",de=new P.Yd("@firebase/app"),Ln="[DEFAULT]",ct={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,ln=new Map;function cn(Ze,De){try{Ze.container.addComponent(De)}catch(Ye){de.debug(`Component ${De.name} failed to register with FirebaseApp ${Ze.name}`,Ye)}}function Pr(Ze,De){Ze.container.addOrOverwriteComponent(De)}function en(Ze){const De=Ze.name;if(ln.has(De))return de.debug(`There were multiple attempts to register component ${De}.`),!1;ln.set(De,Ze);for(const Ye of yt.values())cn(Ye,Ze);return!0}function as(Ze,De){const Ye=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Ze.container.getProvider(De)}function Yt(Ze,De,Ye=Ln){as(Ze,De).clearInstance(Ye)}function jt(){ln.clear()}const yr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class As{constructor(De,Ye,ft){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Ui="9.6.11";function Kr(Ze,De={}){"object"!=typeof De&&(De={name:De});const Ye=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},De),ft=Ye.name;if("string"!=typeof ft||!ft)throw yr.create("bad-app-name",{appName:String(ft)});const Vt=yt.get(ft);if(Vt){if((0,ae.vZ)(Ze,Vt.options)&&(0,ae.vZ)(Ye,Vt.config))return Vt;throw yr.create("duplicate-app",{appName:ft})}const Nt=new Y.H0(ft);for(const V of ln.values())Nt.addComponent(V);const H=new As(Ze,Ye,Nt);return yt.set(ft,H),H}function ji(Ze=Ln){const De=yt.get(Ze);if(!De)throw yr.create("no-app",{appName:Ze});return De}function ls(){return Array.from(yt.values())}function cs(Ze){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(Ze){const De=Ze.name;yt.has(De)&&(yt.delete(De),yield Promise.all(Ze.container.getProviders().map(Ye=>Ye.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function ar(Ze,De,Ye){var ft;let Vt=null!==(ft=ct[Ze])&&void 0!==ft?ft:Ze;Ye&&(Vt+=`-${Ye}`);const Nt=Vt.match(/\s|\//),H=De.match(/\s|\//);if(Nt||H){const V=[`Unable to register library "${Vt}" with version "${De}":`];return Nt&&V.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Nt&&H&&V.push("and"),H&&V.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void de.warn(V.join(" "))}en(new Y.wA(`${Vt}-version`,()=>({library:Vt,version:De}),"VERSION"))}function oi(Ze,De){if(null!==Ze&&"function"!=typeof Ze)throw yr.create("invalid-log-argument");(0,P.Am)(Ze,De)}function ti(Ze){(0,P.Ub)(Ze)}const wn="firebase-heartbeat-store";let ai=null;function Ms(){return ai||(ai=(0,ae.X3)("firebase-heartbeat-database",1,(Ze,De)=>{0===De&&Ze.createObjectStore(wn)}).catch(Ze=>{throw yr.create("storage-open",{originalErrorMessage:Ze.message})})),ai}function Gt(){return(Gt=(0,c.Z)(function*(Ze){try{return(yield Ms()).transaction(wn).objectStore(wn).get(pi(Ze))}catch(De){throw yr.create("storage-get",{originalErrorMessage:De.message})}})).apply(this,arguments)}function it(Ze,De){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(Ze,De){try{const ft=(yield Ms()).transaction(wn,"readwrite");return yield ft.objectStore(wn).put(De,pi(Ze)),ft.complete}catch(Ye){throw yr.create("storage-set",{originalErrorMessage:Ye.message})}})).apply(this,arguments)}function pi(Ze){return`${Ze.name}!${Ze.options.appId}`}class uo{constructor(De){this.container=De,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new ht(Ye),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var De=this;return(0,c.Z)(function*(){const ft=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Ai();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!De._heartbeatsCache.heartbeats.some(Nt=>Nt.date===Vt))return De._heartbeatsCache.heartbeats.push({date:Vt,agent:ft}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(Nt=>{const H=new Date(Nt.date).valueOf();return Date.now()-H<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,c.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const Ye=Ai(),{heartbeatsToSend:ft,unsentEntries:Vt}=function mi(Ze,De=1024){const Ye=[];let ft=Ze.slice();for(const Vt of Ze){const Nt=Ye.find(H=>H.agent===Vt.agent);if(Nt){if(Nt.dates.push(Vt.date),Mi(Ye)>De){Nt.dates.pop();break}}else if(Ye.push({agent:Vt.agent,dates:[Vt.date]}),Mi(Ye)>De){Ye.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:ft}}(De._heartbeatsCache.heartbeats),Nt=(0,ae.L)(JSON.stringify({version:2,heartbeats:ft}));return De._heartbeatsCache.lastSentHeartbeatDate=Ye,Vt.length>0?(De._heartbeatsCache.heartbeats=Vt,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),Nt})()}}function Ai(){return(new Date).toISOString().substring(0,10)}class ht{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,c.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function Ma(Ze){return Gt.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var Ye=this;return(0,c.Z)(function*(){var ft;if(yield Ye._canUseIndexedDBPromise){const Nt=yield Ye.read();return it(Ye.app,{lastSentHeartbeatDate:null!==(ft=De.lastSentHeartbeatDate)&&void 0!==ft?ft:Nt.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var Ye=this;return(0,c.Z)(function*(){var ft;if(yield Ye._canUseIndexedDBPromise){const Nt=yield Ye.read();return it(Ye.app,{lastSentHeartbeatDate:null!==(ft=De.lastSentHeartbeatDate)&&void 0!==ft?ft:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...De.heartbeats]})}})()}}function Mi(Ze){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ze})).length}!function Lt(Ze){en(new Y.wA("platform-logger",De=>new ee(De),"PRIVATE")),en(new Y.wA("heartbeat",De=>new uo(De),"PRIVATE")),ar(J,"0.7.21",Ze),ar(J,"0.7.21","esm2017"),ar("fire-js","")}("")},4859:(rt,Ce,O)=>{O.d(Ce,{H0:()=>fe,wA:()=>P});var c=O(5861),Y=O(2090);class P{constructor(G,j,X){this.name=G,this.instanceFactory=j,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class ee{constructor(G,j){this.name=G,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const j=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(j)){const X=new Y.BH;if(this.instancesDeferred.set(j,X),this.isInitialized(j)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:j});$e&&X.resolve($e)}catch($e){}}return this.instancesDeferred.get(j).promise}getImmediate(G){var j;const X=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),$e=null!==(j=null==G?void 0:G.optional)&&void 0!==j&&j;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ae){if($e)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function J(de){return"EAGER"===de.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(j){}for(const[j,X]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:$e});X.resolve(Ae)}catch(Ae){}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const j=Array.from(G.instances.values());yield Promise.all([...j.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...j.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:j={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:X,options:j});for(const[Ae,Re]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ae)&&Re.resolve($e);return $e}onInit(G,j){var X;const $e=this.normalizeInstanceIdentifier(j),Ae=null!==(X=this.onInitCallbacks.get($e))&&void 0!==X?X:new Set;Ae.add(G),this.onInitCallbacks.set($e,Ae);const Re=this.instances.get($e);return Re&&G(Re,$e),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,j){const X=this.onInitCallbacks.get(j);if(X)for(const $e of X)try{$e(G,j)}catch(Ae){}}getOrInitializeService({instanceIdentifier:G,options:j={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(de=G,de===ae?void 0:de),options:j}),this.instances.set(G,X),this.instancesOptions.set(G,j),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch($e){}var de;return X||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const j=this.getProvider(G.name);if(j.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);j.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const j=new ee(G,this);return this.providers.set(G,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,Ce,O)=>{O.d(Ce,{Am:()=>de,Ub:()=>fe,Yd:()=>J,in:()=>Y});const c=[];var Y=(()=>{return(G=Y||(Y={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",Y;var G})();const P={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ae=Y.INFO,ee={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},pe=(G,j,...X)=>{if(j<G.logLevel)return;const $e=(new Date).toISOString(),Ae=ee[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${$e}]  ${G.name}:`,...X)};class J{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Y))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...j),this._logHandler(this,Y.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...j),this._logHandler(this,Y.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...j),this._logHandler(this,Y.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...j),this._logHandler(this,Y.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...j),this._logHandler(this,Y.ERROR,...j)}}function fe(G){c.forEach(j=>{j.setLogLevel(G)})}function de(G,j){for(const X of c){let $e=null;j&&j.level&&($e=P[j.level]),X.userLogHandler=null===G?null:(Ae,Re,...Le)=>{const me=Le.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(et){return null}}).filter(we=>we).join(" ");Re>=(null!=$e?$e:Ae.logLevel)&&G({level:Y[Re].toLowerCase(),message:me,args:Le,type:Ae.name})}}}},5861:(rt,Ce,O)=>{function c(P,ae,ee,pe,J,fe,de){try{var G=P[fe](de),j=G.value}catch(X){return void ee(X)}G.done?ae(j):Promise.resolve(j).then(pe,J)}function Y(P){return function(){var ae=this,ee=arguments;return new Promise(function(pe,J){var fe=P.apply(ae,ee);function de(j){c(fe,pe,J,de,G,"next",j)}function G(j){c(fe,pe,J,de,G,"throw",j)}de(void 0)})}}O.d(Ce,{Z:()=>Y})}},rt=>{rt(rt.s=1468)}]);